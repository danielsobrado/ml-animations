import{r as P,j as c}from"./index-CsxpOLHd.js";const y=.01;function k({zValue:d=null,leakyReluValue:h=null,isActive:b=!1}){const T=P.useRef(null);return P.useEffect(()=>{const p=T.current;if(!p)return;const t=p.getContext("2d"),x=p.width,g=p.height;t.fillStyle="#ffffff",t.fillRect(0,0,x,g);const n=50,S=x-2*n,v=g-2*n,s=n+S/2,r=n+v/2,a=30,f=8,m=8;t.strokeStyle="#e5e7eb",t.lineWidth=1;for(let e=-f;e<=f;e++){const o=s+e*a;t.beginPath(),t.moveTo(o,n),t.lineTo(o,g-n),t.stroke()}for(let e=-m;e<=m;e++){const o=r-e*a;t.beginPath(),t.moveTo(n,o),t.lineTo(x-n,o),t.stroke()}t.strokeStyle="#374151",t.lineWidth=2,t.beginPath(),t.moveTo(n,r),t.lineTo(x-n,r),t.stroke(),t.beginPath(),t.moveTo(s,n),t.lineTo(s,g-n),t.stroke(),t.fillStyle="#374151",t.font="bold 14px Arial",t.textAlign="center",t.fillText("z",x-n+20,r+5),t.fillText("f(z)",s,n-10),t.font="12px Arial";for(let e=-f;e<=f;e+=2)if(e!==0){const o=s+e*a;t.fillText(e.toString(),o,r+20)}for(let e=-m;e<=m;e+=2)if(e!==0){const o=r-e*a;t.fillText(e.toString(),s-20,o+4)}t.fillText("0",s-15,r+15),t.strokeStyle="#f97316",t.lineWidth=3,t.beginPath();for(let e=-f;e<=0;e+=.1){const o=y*e,l=s+e*a,i=r-o*a;e===-f?t.moveTo(l,i):t.lineTo(l,i)}for(let e=0;e<=f;e+=.1){const o=e,l=s+e*a,i=r-o*a;t.lineTo(l,i)}t.stroke(),t.strokeStyle="#94a3b8",t.lineWidth=1,t.setLineDash([5,5]),t.beginPath();for(let e=-f;e<=f;e+=.1){const o=e,l=s+e*a,i=r-o*a;e===-f?t.moveTo(l,i):t.lineTo(l,i)}if(t.stroke(),t.setLineDash([]),t.fillStyle="#ea580c",t.font="bold 16px Arial",t.textAlign="left",t.fillText("f(z) = z if z > 0",x-180,30),t.fillText(`f(z) = ${y}z if z ≤ 0`,x-180,50),t.fillStyle="#94a3b8",t.font="12px Arial",t.fillText("y = z (reference)",x-180,70),b&&d!==null&&h!==null){const e=s+d*a,o=r-h*a,l=Math.max(n,Math.min(x-n,e)),i=Math.max(n,Math.min(g-n,o));t.strokeStyle="#dc2626",t.lineWidth=1,t.setLineDash([4,4]),t.beginPath(),t.moveTo(l,r),t.lineTo(l,i),t.stroke(),t.beginPath(),t.moveTo(s,i),t.lineTo(l,i),t.stroke(),t.setLineDash([]),t.fillStyle="#dc2626",t.beginPath(),t.arc(l,i,8,0,Math.PI*2),t.fill(),t.fillStyle="#ffffff",t.beginPath(),t.arc(l,i,4,0,Math.PI*2),t.fill(),t.fillStyle="#dc2626",t.font="bold 14px Arial",t.textAlign="left";const L=l+12,j=i-12;t.fillText(`(${d}, ${h.toFixed(2)})`,L,j)}t.fillStyle="#f97316",t.font="bold 18px Arial",t.textAlign="center",t.fillText("Leaky ReLU",s,n-25)},[d,h,b]),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("canvas",{ref:T,width:600,height:400,className:"border border-gray-200 rounded-lg bg-white"}),c.jsx("div",{className:"mt-3 text-center",children:b&&d!==null?c.jsxs("p",{className:"text-gray-700",children:["Current point: ",c.jsxs("span",{className:"font-mono font-bold text-red-600",children:["z = ",d]})," → ",c.jsxs("span",{className:"font-mono font-bold text-orange-600",children:["Leaky ReLU(z) = ",h==null?void 0:h.toFixed(2)]})]}):c.jsx("p",{className:"text-gray-500",children:"Complete steps in the animation or practice to see the point on the graph"})}),c.jsx("div",{className:"mt-2 p-3 bg-orange-50 rounded-lg border border-orange-200 max-w-md",children:c.jsxs("p",{className:"text-sm text-gray-700 text-center",children:[c.jsx("strong",{children:"Leaky ReLU"})," allows a small gradient (α = ",y,') when z ≤ 0, helping to avoid the "dying ReLU" problem where neurons stop learning.']})})]})}export{k as default};
