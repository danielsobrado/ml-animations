import{r as c,j as e}from"./index-BmgLEcVh.js";import{R as j}from"./CategoricalChart-B3gtutcW.js";import{B as N,a as w}from"./BarChart-DekGVTCS.js";import{C as y,X as v,Y as F}from"./CartesianChart-JiyIF1-F.js";import{T as P}from"./Tooltip-DB7iJmxT.js";import{C}from"./tooltipContext-C7z7tGNX.js";import"./ActiveShapeUtils-B4dTBMil.js";import"./Sector-CA3PXCa0.js";import"./Symbols-DCSkJhyu.js";import"./ErrorBarContext-BI9_YV4U.js";import"./useElementOffset-7v_xyInG.js";function K(){const[l,m]=c.useState("binomial"),[a,b]=c.useState(10),[o,p]=c.useState(.5),[i,h]=c.useState(5),r=s=>s<=1?1:s*r(s-1),u=(s,t)=>r(s)/(r(t)*r(s-t)),f=(s,t,x)=>u(t,s)*Math.pow(x,s)*Math.pow(1-x,t-s),g=(s,t)=>Math.pow(t,s)*Math.exp(-t)/r(s),n=c.useMemo(()=>{if(l==="binomial")return Array.from({length:a+1},(s,t)=>({k:t,prob:f(t,a,o)}));{const s=Math.min(20,i*3);return Array.from({length:s},(t,x)=>({k:x,prob:g(x,i)}))}},[l,a,o,i]),d=Math.max(...n.map(s=>s.prob));return e.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-indigo-400 mb-4",children:"Discrete Distributions"}),e.jsxs("p",{className:"text-lg text-slate-300 leading-relaxed",children:["Distributions for ",e.jsx("strong",{children:"countable"})," outcomes (0, 1, 2, 3, ...).",e.jsx("br",{}),"PMF (Probability Mass Function): P(X = k) is the bar height."]})]}),e.jsxs("div",{className:"flex gap-4 mb-8",children:[e.jsx("button",{onClick:()=>m("binomial"),className:`px-8 py-4 rounded-xl font-bold transition-all ${l==="binomial"?"bg-indigo-600 text-white shadow-lg scale-105":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Binomial"}),e.jsx("button",{onClick:()=>m("poisson"),className:`px-8 py-4 rounded-xl font-bold transition-all ${l==="poisson"?"bg-purple-600 text-white shadow-lg scale-105":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Poisson"})]}),l==="binomial"&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 w-full max-w-4xl mb-8",children:[e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-indigo-500/50",children:[e.jsxs("label",{className:"flex justify-between text-sm font-bold mb-3",children:["n (trials): ",e.jsx("span",{className:"text-indigo-400",children:a})]}),e.jsx("input",{type:"range",min:"1",max:"20",step:"1",value:a,onChange:s=>b(Number(s.target.value)),className:"w-full accent-indigo-400"}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Number of coin flips"})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-indigo-500/50",children:[e.jsxs("label",{className:"flex justify-between text-sm font-bold mb-3",children:["p (success prob): ",e.jsx("span",{className:"text-indigo-400",children:o.toFixed(2)})]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:o,onChange:s=>p(Number(s.target.value)),className:"w-full accent-indigo-400"}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Probability of heads"})]})]}),l==="poisson"&&e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-purple-500/50 w-full max-w-2xl mb-8",children:[e.jsxs("label",{className:"flex justify-between text-sm font-bold mb-3",children:["λ (lambda - rate): ",e.jsx("span",{className:"text-purple-400",children:i.toFixed(1)})]}),e.jsx("input",{type:"range",min:"0.5",max:"15",step:"0.5",value:i,onChange:s=>h(Number(s.target.value)),className:"w-full accent-purple-400"}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"Average events per interval (e.g., emails per hour)"})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 w-full max-w-5xl",children:[e.jsxs("h3",{className:"font-bold text-white mb-4 text-center",children:[l==="binomial"&&`Binomial(n=${a}, p=${o.toFixed(2)})`,l==="poisson"&&`Poisson(λ=${i.toFixed(1)})`]}),e.jsx(j,{width:"100%",height:400,children:e.jsxs(N,{data:n,children:[e.jsx(y,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(v,{dataKey:"k",stroke:"#94a3b8",tick:{fill:"#cbd5e1"},label:{value:"k (outcome)",position:"insideBottom",offset:-5,fill:"#cbd5e1"}}),e.jsx(F,{stroke:"#94a3b8",tick:{fill:"#cbd5e1"},label:{value:"P(X = k)",angle:-90,position:"insideLeft",fill:"#cbd5e1"}}),e.jsx(P,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"},formatter:s=>[(s*100).toFixed(2)+"%","Probability"]}),e.jsx(w,{dataKey:"prob",radius:[8,8,0,0],children:n.map((s,t)=>e.jsx(C,{fill:s.prob===d?"#fbbf24":l==="binomial"?"#6366f1":"#a855f7"},`cell-${t}`))})]})}),e.jsx("div",{className:"mt-6 p-4 bg-slate-900 rounded-lg border border-slate-700",children:e.jsxs("p",{className:"text-slate-300 text-sm text-center",children:[l==="binomial"&&e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Example:"})," Flip ",a," coins with P(Heads) = ",o.toFixed(2),".",e.jsx("br",{}),"Most likely outcome: ",e.jsxs("span",{className:"text-yellow-400 font-bold",children:[n.findIndex(s=>s.prob===d)," heads"]})," with probability ",(d*100).toFixed(1),"%"]}),l==="poisson"&&e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Example:"})," Average ",i.toFixed(1)," customers per hour.",e.jsx("br",{}),"Most likely: ",e.jsxs("span",{className:"text-yellow-400 font-bold",children:[n.findIndex(s=>s.prob===d)," customers"]})," with probability ",(d*100).toFixed(1),"%"]})]})})]})]})}export{K as default};
