import{r as x,j as e}from"./index-CsxpOLHd.js";import{R as p}from"./CategoricalChart-DwESr9Pa.js";import{B as f,a as h}from"./BarChart-C8wp1IMO.js";import{C as u,X as j,Y as g}from"./CartesianChart-XX896M35.js";import{T as v}from"./Tooltip-BOms9-Qc.js";import{R as N}from"./ReferenceLine-BCYk7Kvm.js";import{m as w}from"./proxy-CrIk7dcL.js";import"./with-selector-BmRVIYUQ.js";import"./tooltipContext-CdogrbYn.js";import"./ActiveShapeUtils-DqppQJJ3.js";import"./Sector-lmKnJuZM.js";import"./Symbols-BmE2jprK.js";import"./ErrorBarContext-Dbj6aYe0.js";import"./useElementOffset-CVHfGa0I.js";function K(){const[a,i]=x.useState([.16666666666666666,.16666666666666666,.16666666666666666,.16666666666666666,.16666666666666666,.16666666666666666]),c=a.map((t,s)=>({face:s+1,prob:t})),l=x.useMemo(()=>a.reduce((t,s,r)=>t+s*(r+1),0),[a]),d=(t,s)=>{const r=[...a];r[t]=Math.max(0,Math.min(1,r[t]+s));const n=r.reduce((o,b)=>o+b,0);n>0&&i(r.map(o=>o/n))},m=()=>i([1/6,1/6,1/6,1/6,1/6,1/6]);return e.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-amber-400 mb-4",children:"Expected Value"}),e.jsxs("p",{className:"text-lg text-slate-300 leading-relaxed mb-4",children:["E[X] is the ",e.jsx("strong",{children:'"balance point"'})," or weighted average of a distribution."]}),e.jsx("div",{className:"bg-slate-800 p-4 rounded-lg font-mono text-sm",children:e.jsx("p",{className:"text-amber-300",children:"E[X] = Î£ x Â· P(X = x)"})})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-amber-500/50 w-full max-w-5xl mb-8",children:[e.jsx("h3",{className:"font-bold text-white mb-4 text-center",children:"Die Roll Distribution"}),e.jsx(p,{width:"100%",height:300,children:e.jsxs(f,{data:c,children:[e.jsx(u,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(j,{dataKey:"face",stroke:"#94a3b8",tick:{fill:"#cbd5e1"},label:{value:"Die Face",position:"insideBottom",offset:-5,fill:"#cbd5e1"}}),e.jsx(g,{stroke:"#94a3b8",tick:{fill:"#cbd5e1"},label:{value:"Probability",angle:-90,position:"insideLeft",fill:"#cbd5e1"}}),e.jsx(v,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},formatter:t=>[(t*100).toFixed(1)+"%","P(X)"]}),e.jsx(N,{x:l,stroke:"#fbbf24",strokeWidth:3,label:{value:`E[X] = ${l.toFixed(2)}`,position:"top",fill:"#fbbf24",fontWeight:"bold"}}),e.jsx(h,{dataKey:"prob",fill:"#f59e0b",radius:[8,8,0,0]})]})}),e.jsxs("div",{className:"relative h-16 mt-4",children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-2 bg-slate-700 rounded"}),e.jsx(w.div,{className:"absolute top-2 w-0 h-0 border-l-[20px] border-l-transparent border-r-[20px] border-r-transparent border-b-[30px] border-b-yellow-400",animate:{left:`${(l-1)/5*100}%`},transition:{type:"spring",stiffness:100},style:{transform:"translateX(-50%)"}}),e.jsx("div",{className:"absolute top-12 left-1/2 transform -translate-x-1/2 text-xs text-slate-400",children:"Balance Point (Fulcrum)"})]})]}),e.jsx("div",{className:"grid grid-cols-6 gap-4 w-full max-w-5xl mb-8",children:a.map((t,s)=>e.jsxs("div",{className:"bg-slate-800 p-4 rounded-xl border border-slate-700",children:[e.jsxs("div",{className:"text-center mb-2",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸŽ²"}),e.jsx("div",{className:"font-bold text-white",children:s+1})]}),e.jsxs("div",{className:"text-center text-sm text-amber-400 font-mono mb-2",children:[(t*100).toFixed(1),"%"]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("button",{onClick:()=>d(s,-.05),className:"flex-1 bg-red-600 hover:bg-red-700 text-white text-xs py-1 rounded",children:"âˆ’"}),e.jsx("button",{onClick:()=>d(s,.05),className:"flex-1 bg-green-600 hover:bg-green-700 text-white text-xs py-1 rounded",children:"+"})]})]},s))}),e.jsx("button",{onClick:m,className:"px-8 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-bold transition-all",children:"Reset to Fair Die"}),e.jsx("div",{className:"bg-gradient-to-r from-amber-900/50 to-orange-900/50 p-6 rounded-xl border-2 border-amber-500 w-full max-w-5xl mt-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"text-sm uppercase tracking-wider text-amber-300 mb-3",children:"Expected Value"}),e.jsx("div",{className:"text-6xl font-mono font-bold text-amber-400 mb-2",children:l.toFixed(3)}),e.jsx("p",{className:"text-slate-300 text-sm",children:Math.abs(l-3.5)<.01?"âœ… Fair die: E[X] = 3.5":"âš ï¸ Loaded die: E[X] â‰  3.5"})]})})]})}export{K as default};
