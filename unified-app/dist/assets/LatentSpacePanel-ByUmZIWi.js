import{r as l,j as e,T as y,S as g}from"./index-BmgLEcVh.js";import{P as b}from"./play-4PCPORJF.js";import{P as w}from"./pause-Pw5n6zyp.js";import{R as z}from"./rotate-ccw-DnC3UZWM.js";function I(){const[r,f]=l.useState("gaussian"),[j,N]=l.useState([]),[d,p]=l.useState(0),[i,u]=l.useState(!1);l.useRef(null);const h=()=>{const t=[];for(let s=0;s<50;s++){const a=Math.random(),n=Math.random(),o=Math.sqrt(-2*Math.log(a))*Math.cos(2*Math.PI*n),m=Math.sqrt(-2*Math.log(a))*Math.sin(2*Math.PI*n);t.push({x:o*.8,y:m*.8,label:Math.floor(s/5)})}N(t)};l.useEffect(()=>{h()},[]),l.useEffect(()=>{if(i&&r==="interpolation"){const t=setInterval(()=>{p(s=>s>=1?0:s+.02)},50);return()=>clearInterval(t)}},[i,r]);const c=["#ef4444","#f97316","#eab308","#22c55e","#06b6d4","#3b82f6","#8b5cf6","#ec4899","#f43f5e","#14b8a6"],x=(t,s=60)=>{const a={0:[[0,1,1,0],[1,0,0,1],[1,0,0,1],[1,0,0,1],[0,1,1,0]],1:[[0,1,0,0],[1,1,0,0],[0,1,0,0],[0,1,0,0],[1,1,1,0]],2:[[1,1,1,0],[0,0,1,0],[0,1,0,0],[1,0,0,0],[1,1,1,1]],3:[[1,1,1,0],[0,0,1,0],[0,1,1,0],[0,0,1,0],[1,1,1,0]],4:[[1,0,1,0],[1,0,1,0],[1,1,1,1],[0,0,1,0],[0,0,1,0]],5:[[1,1,1,1],[1,0,0,0],[1,1,1,0],[0,0,1,0],[1,1,1,0]],6:[[0,1,1,0],[1,0,0,0],[1,1,1,0],[1,0,0,1],[0,1,1,0]],7:[[1,1,1,1],[0,0,1,0],[0,1,0,0],[0,1,0,0],[0,1,0,0]],8:[[0,1,1,0],[1,0,0,1],[0,1,1,0],[1,0,0,1],[0,1,1,0]],9:[[0,1,1,0],[1,0,0,1],[0,1,1,1],[0,0,1,0],[0,1,0,0]]},n=a[t]||a[0],o=s/5;return e.jsx("div",{className:"grid",style:{gridTemplateColumns:`repeat(4, ${o}px)`,gap:"1px"},children:n.flat().map((m,v)=>e.jsx("div",{className:`${m?"bg-white":"bg-white/10"} rounded-sm`,style:{width:o,height:o}},v))})};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Latent Space: ",e.jsx("span",{className:"text-purple-400",children:"The Hidden World"})]}),e.jsx("p",{className:"text-gray-400",children:"A continuous, structured space where similar inputs are close together"})]}),e.jsx("div",{className:"flex justify-center gap-2",children:[{id:"gaussian",label:"Gaussian Distribution",icon:y},{id:"clusters",label:"Class Clusters",icon:g},{id:"interpolation",label:"Interpolation",icon:b}].map(t=>e.jsxs("button",{onClick:()=>{f(t.id),u(!1)},className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all ${r===t.id?"bg-purple-600 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[e.jsx(t.icon,{size:18}),t.label]},t.id))}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[r==="gaussian"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-center text-lg font-bold text-purple-300",children:"KL Divergence Forces Latent Space â†’ N(0, I)"}),e.jsxs("div",{className:"relative h-80 bg-black/30 rounded-xl overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[e.jsx("div",{className:"w-64 h-64 rounded-full gaussian-gradient opacity-50"}),e.jsx("div",{className:"absolute w-48 h-48 rounded-full gaussian-gradient opacity-40"}),e.jsx("div",{className:"absolute w-32 h-32 rounded-full gaussian-gradient opacity-30"})]}),e.jsx("div",{className:"absolute top-1/2 left-4 -translate-y-1/2 text-gray-500 text-sm",children:"zâ‚"}),e.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 text-gray-500 text-sm",children:"zâ‚‚"}),j.map((t,s)=>e.jsx("div",{className:"absolute w-3 h-3 rounded-full transition-all duration-500 latent-drift",style:{left:`calc(50% + ${t.x*100}px)`,top:`calc(50% + ${t.y*100}px)`,backgroundColor:c[t.label%10],animationDelay:`${s*50}ms`}},s)),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-4 h-0.5 bg-gray-500 -translate-x-1/2"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-0.5 h-4 bg-gray-500 -translate-y-1/2"})]}),e.jsxs("button",{onClick:h,className:"mx-auto flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg",children:[e.jsx(g,{size:18}),"Resample"]}),e.jsx("p",{className:"text-center text-sm text-gray-400",children:"The KL divergence loss encourages the learned distribution q(z|x) to be close to N(0, I), creating a smooth, continuous latent space."})]}),r==="clusters"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-center text-lg font-bold text-purple-300",children:"Similar Inputs â†’ Nearby Latent Points"}),e.jsxs("div",{className:"relative h-80 bg-black/30 rounded-xl overflow-hidden",children:[[0,1,2,3,4,5,6,7,8,9].map(t=>{const s=t/10*2*Math.PI,a=80;return e.jsxs("div",{className:"absolute flex flex-col items-center",style:{left:`calc(50% + ${Math.cos(s)*a}px - 20px)`,top:`calc(50% + ${Math.sin(s)*a}px - 20px)`},children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center opacity-80 border-2",style:{backgroundColor:c[t]+"40",borderColor:c[t]},children:e.jsx("span",{className:"font-bold",children:t})}),[0,1,2].map(n=>e.jsx("div",{className:"absolute w-2 h-2 rounded-full",style:{backgroundColor:c[t],left:`${20+(Math.random()-.5)*30}px`,top:`${20+(Math.random()-.5)*30}px`}},n))]},t)}),e.jsx("div",{className:"absolute top-4 left-4 text-xs text-gray-500",children:"2D projection of latent space (t-SNE style)"})]}),e.jsx("p",{className:"text-center text-sm text-gray-400",children:"Different digit classes form distinct clusters in latent space. VAE learns meaningful features that separate similar from dissimilar inputs."})]}),r==="interpolation"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-center text-lg font-bold text-purple-300",children:"Smooth Interpolation in Latent Space"}),e.jsxs("div",{className:"flex items-center justify-center gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-blue-900/30 p-4 rounded-xl border border-blue-500/30",children:x(3,50)}),e.jsx("p",{className:"text-sm text-blue-400 mt-2",children:"z_start (digit 3)"})]}),e.jsx("div",{className:"flex-1 max-w-md",children:e.jsxs("div",{className:"relative h-16 bg-gradient-to-r from-blue-600/30 via-purple-600/30 to-orange-600/30 rounded-full",children:[e.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-6 h-6 bg-white rounded-full shadow-lg transition-all duration-100",style:{left:`calc(${d*100}% - 12px)`}}),e.jsxs("div",{className:"absolute -bottom-8 left-0 right-0 text-center text-xs text-gray-400 font-mono",children:["z_interp = (1-t) Ã— z_start + t Ã— z_end, t = ",d.toFixed(2)]})]})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-orange-900/30 p-4 rounded-xl border border-orange-500/30",children:x(8,50)}),e.jsx("p",{className:"text-sm text-orange-400 mt-2",children:"z_end (digit 8)"})]})]}),e.jsxs("div",{className:"mt-12 pt-4",children:[e.jsx("p",{className:"text-center text-sm text-gray-400 mb-4",children:"Generated outputs along the interpolation path:"}),e.jsx("div",{className:"flex justify-center gap-2",children:[0,.125,.25,.375,.5,.625,.75,.875,1].map((t,s)=>e.jsxs("div",{className:`p-2 rounded-lg transition-all ${Math.abs(t-d)<.1?"bg-purple-600/50 scale-110":"bg-white/5"}`,children:[x(Math.round(3+5*t)%10,35),e.jsx("p",{className:"text-center text-xs text-gray-500 mt-1",children:t.toFixed(2)})]},s))})]}),e.jsxs("div",{className:"flex justify-center gap-3 mt-4",children:[e.jsxs("button",{onClick:()=>u(!i),className:"flex items-center gap-2 px-4 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg",children:[i?e.jsx(w,{size:18}):e.jsx(b,{size:18}),i?"Pause":"Animate"]}),e.jsxs("button",{onClick:()=>p(0),className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg",children:[e.jsx(z,{size:18}),"Reset"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-blue-900/20 rounded-xl p-4 border border-blue-500/30",children:[e.jsx("h4",{className:"font-bold text-blue-300 mb-2",children:"ðŸŽ¯ Continuity"}),e.jsx("p",{className:"text-sm text-gray-300",children:'Small changes in z produce small changes in output. No "dead zones" in latent space thanks to KL regularization.'})]}),e.jsxs("div",{className:"bg-purple-900/20 rounded-xl p-4 border border-purple-500/30",children:[e.jsx("h4",{className:"font-bold text-purple-300 mb-2",children:"âœ¨ Generation"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Sample z ~ N(0, I) and decode to generate new data. The decoder has learned to map any point in this space."})]}),e.jsxs("div",{className:"bg-pink-900/20 rounded-xl p-4 border border-pink-500/30",children:[e.jsx("h4",{className:"font-bold text-pink-300 mb-2",children:"ðŸ”€ Interpolation"}),e.jsx("p",{className:"text-sm text-gray-300",children:"Linear interpolation between two latent codes produces meaningful transitions between their decoded outputs."})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-xl p-4 border border-white/10",children:[e.jsx("h4",{className:"font-bold mb-3",children:"ðŸ“ Latent Dimension Choices"}),e.jsx("div",{className:"grid grid-cols-4 gap-4 text-center",children:[{dim:2,use:"Visualization",notes:"Can plot, but limited capacity"},{dim:20,use:"MNIST digits",notes:"Good balance for simple images"},{dim:128,use:"Face images",notes:"More capacity for complex data"},{dim:512,use:"High-res images",notes:"Even more expressive power"}].map((t,s)=>e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:t.dim}),e.jsx("p",{className:"text-sm font-medium",children:t.use}),e.jsx("p",{className:"text-xs text-gray-500",children:t.notes})]},s))})]})]})}export{I as default};
