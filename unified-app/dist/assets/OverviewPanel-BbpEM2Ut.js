import{r,j as e,y as d,L as i}from"./index-quAWpIA7.js";import{A as a}from"./arrow-down-B9RWJrDO.js";import{P as n}from"./plus-C2RRVVSj.js";import{E as c}from"./eye-DVCcmZwk.js";function g(){const[t,s]=r.useState(null),[o,x]=r.useState(!1),l={input_embedding:{name:"Input Embedding",description:"Converts input tokens to dense vectors (d_model dimensions)",color:"bg-blue-500",details:"Each token ID is mapped to a learnable vector. For vocab size V and dimension d, this is a VÃ—d matrix."},positional_encoding:{name:"Positional Encoding",description:"Adds position information using sinusoidal functions",color:"bg-cyan-500",details:"PE(pos, 2i) = sin(pos/10000^(2i/d)), PE(pos, 2i+1) = cos(pos/10000^(2i/d))"},encoder_stack:{name:"Encoder Stack (NÃ—)",description:"N identical layers processing input in parallel",color:"bg-green-500",details:"Each encoder has: Multi-Head Self-Attention â†’ Add & Norm â†’ Feed Forward â†’ Add & Norm"},decoder_stack:{name:"Decoder Stack (NÃ—)",description:"N identical layers generating output autoregressively",color:"bg-purple-500",details:"Each decoder has: Masked Self-Attention â†’ Cross-Attention (to encoder) â†’ Feed Forward"},output_embedding:{name:"Output Embedding",description:"Same as input embedding (often shared weights)",color:"bg-pink-500",details:"Output tokens are embedded, then processed through the decoder stack."},linear_softmax:{name:"Linear + Softmax",description:"Projects to vocabulary size, converts to probabilities",color:"bg-red-500",details:"Linear layer: d_model â†’ vocab_size, then softmax for probability distribution."}};return e.jsx("div",{className:"p-6 min-h-screen",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-white mb-2",children:["The Transformer: ",e.jsx("span",{className:"gradient-text",children:"Complete Architecture"})]}),e.jsx("p",{className:"text-slate-800 dark:text-slate-400",children:"A sequence-to-sequence model built entirely on attention mechanisms"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-6 border border-slate-700",children:[e.jsx("h3",{className:"text-white font-bold mb-4 text-center",children:"Interactive Architecture"}),e.jsx("p",{className:"text-slate-800 dark:text-sm text-center mb-4",children:"Hover over each component to learn more"}),e.jsxs("div",{className:"relative flex justify-center gap-8",children:[e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"text-slate-800 dark:text-sm font-medium mb-2",children:"ENCODER"}),e.jsxs("div",{className:`relative w-32 h-40 rounded-lg border-2 border-dashed border-green-500/50 p-2 cursor-pointer transition-all ${t==="encoder_stack"?"bg-green-500/20 scale-105":"hover:bg-green-500/10"}`,onMouseEnter:()=>s("encoder_stack"),onMouseLeave:()=>s(null),children:[e.jsx("div",{className:"absolute -top-3 -right-3 bg-green-500 text-white text-xs px-2 py-0.5 rounded-full",children:"NÃ—"}),e.jsxs("div",{className:"h-full flex flex-col justify-around",children:[e.jsx("div",{className:"bg-green-600/50 rounded p-1 text-xs text-center text-white",children:"Multi-Head Attention"}),e.jsx("div",{className:"bg-green-500/50 rounded p-1 text-xs text-center text-white",children:"Add & Norm"}),e.jsx("div",{className:"bg-green-600/50 rounded p-1 text-xs text-center text-white",children:"Feed Forward"}),e.jsx("div",{className:"bg-green-500/50 rounded p-1 text-xs text-center text-white",children:"Add & Norm"})]})]}),e.jsx(a,{className:"text-slate-700 dark:text-slate-500",size:20}),e.jsx("div",{className:`w-32 p-2 rounded-lg cursor-pointer transition-all ${t==="positional_encoding"?"bg-cyan-500 scale-105":"bg-cyan-500/70 hover:bg-cyan-500/90"}`,onMouseEnter:()=>s("positional_encoding"),onMouseLeave:()=>s(null),children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(n,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs text-white font-medium",children:"Positional"})]})}),e.jsx(a,{className:"text-slate-700 dark:text-slate-500",size:20}),e.jsx("div",{className:`w-32 p-3 rounded-lg cursor-pointer transition-all ${t==="input_embedding"?"bg-blue-500 scale-105":"bg-blue-500/70 hover:bg-blue-500/90"}`,onMouseEnter:()=>s("input_embedding"),onMouseLeave:()=>s(null),children:e.jsx("div",{className:"text-xs text-white text-center font-medium",children:"Input Embedding"})}),e.jsx(a,{className:"text-slate-700 dark:text-slate-500",size:20}),e.jsx("div",{className:"text-slate-800 dark:text-xs",children:"Inputs"})]}),e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(d,{className:"text-yellow-400",size:32}),e.jsx("span",{className:"text-xs",children:"K, V"})]})}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("div",{className:"text-slate-800 dark:text-sm font-medium mb-2",children:"DECODER"}),e.jsx("div",{className:`w-32 p-2 rounded-lg cursor-pointer transition-all ${t==="linear_softmax"?"bg-red-500 scale-105":"bg-red-500/70 hover:bg-red-500/90"}`,onMouseEnter:()=>s("linear_softmax"),onMouseLeave:()=>s(null),children:e.jsx("div",{className:"text-xs text-white text-center font-medium",children:"Linear + Softmax"})}),e.jsx(a,{className:"text-slate-700 dark:text-slate-500 rotate-180",size:20}),e.jsxs("div",{className:`relative w-32 h-48 rounded-lg border-2 border-dashed border-purple-500/50 p-2 cursor-pointer transition-all ${t==="decoder_stack"?"bg-purple-500/20 scale-105":"hover:bg-purple-500/10"}`,onMouseEnter:()=>s("decoder_stack"),onMouseLeave:()=>s(null),children:[e.jsx("div",{className:"absolute -top-3 -right-3 bg-purple-500 text-white text-xs px-2 py-0.5 rounded-full",children:"NÃ—"}),e.jsxs("div",{className:"h-full flex flex-col justify-around",children:[e.jsx("div",{className:"bg-purple-600/50 rounded p-1 text-xs text-center text-white",children:"Masked Self-Attn"}),e.jsx("div",{className:"bg-purple-500/50 rounded p-1 text-xs text-center text-white",children:"Add & Norm"}),e.jsx("div",{className:"bg-yellow-500/50 rounded p-1 text-xs text-center text-white",children:"Cross-Attention"}),e.jsx("div",{className:"bg-purple-500/50 rounded p-1 text-xs text-center text-white",children:"Add & Norm"}),e.jsx("div",{className:"bg-purple-600/50 rounded p-1 text-xs text-center text-white",children:"Feed Forward"})]})]}),e.jsx(a,{className:"text-slate-700 dark:text-slate-500",size:20}),e.jsx("div",{className:`w-32 p-2 rounded-lg cursor-pointer transition-all ${t==="positional_encoding"?"bg-cyan-500 scale-105":"bg-cyan-500/70 hover:bg-cyan-500/90"}`,onMouseEnter:()=>s("positional_encoding"),onMouseLeave:()=>s(null),children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(n,{size:12,className:"text-white"}),e.jsx("span",{className:"text-xs text-white font-medium",children:"Positional"})]})}),e.jsx(a,{className:"text-slate-700 dark:text-slate-500",size:20}),e.jsx("div",{className:`w-32 p-3 rounded-lg cursor-pointer transition-all ${t==="output_embedding"?"bg-pink-500 scale-105":"bg-pink-500/70 hover:bg-pink-500/90"}`,onMouseEnter:()=>s("output_embedding"),onMouseLeave:()=>s(null),children:e.jsx("div",{className:"text-xs text-white text-center font-medium",children:"Output Embedding"})}),e.jsx(a,{className:"text-slate-700 dark:text-slate-500",size:20}),e.jsx("div",{className:"text-slate-800 dark:text-xs",children:"Outputs (shifted)"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-6 border border-slate-700",children:[e.jsx("h3",{className:"text-white font-bold mb-4",children:"Component Details"}),t?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:`${l[t].color} text-white px-4 py-2 rounded-lg font-bold`,children:l[t].name}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:l[t].description}),e.jsx("div",{className:"bg-slate-700/50 p-4 rounded-lg",children:e.jsx("p",{className:"text-slate-800 dark:text-sm font-mono",children:l[t].details})})]}):e.jsxs("div",{className:"text-slate-700 dark:text-center py-8",children:[e.jsx(c,{size:48,className:"mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Hover over a component to see details"})]}),e.jsxs("div",{className:"mt-6 grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-slate-700/50 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:"512"}),e.jsx("div",{className:"text-xs text-slate-800 dark:text-slate-400",children:"d_model"})]}),e.jsxs("div",{className:"bg-slate-700/50 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-400",children:"8"}),e.jsx("div",{className:"text-xs text-slate-800 dark:text-slate-400",children:"Attention Heads"})]}),e.jsxs("div",{className:"bg-slate-700/50 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:"6"}),e.jsx("div",{className:"text-xs text-slate-800 dark:text-slate-400",children:"Encoder/Decoder Layers"})]}),e.jsxs("div",{className:"bg-slate-700/50 p-3 rounded-lg text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-pink-600 dark:text-pink-400",children:"2048"}),e.jsx("div",{className:"text-xs text-slate-800 dark:text-slate-400",children:"FFN Hidden Dim"})]})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-amber-500/10 to-orange-500/10 rounded-2xl p-6 border border-amber-500/30 mb-8",children:[e.jsxs("h3",{className:"text-amber-600 dark:text-amber-400 font-bold mb-4 flex items-center gap-2",children:[e.jsx(i,{size:20}),"Why Transformers Changed Everything"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"ðŸš€ Parallelization"}),e.jsx("p",{className:"text-slate-800 dark:text-sm",children:"Unlike RNNs, transformers process all positions simultaneously. Training on GPUs is massively faster."})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"ðŸ”— Long-Range Dependencies"}),e.jsx("p",{className:"text-slate-800 dark:text-sm",children:"Any position can attend to any other position directly. No information bottleneck!"})]}),e.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-lg",children:[e.jsx("h4",{className:"text-white font-medium mb-2",children:"ðŸ“ˆ Scalability"}),e.jsx("p",{className:"text-slate-800 dark:text-sm",children:"The architecture scales beautifully - from BERT (110M) to GPT-4 (1.7T+ estimated)."})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-6 border border-slate-700",children:[e.jsx("h3",{className:"text-white font-bold mb-4",children:"ðŸ“œ The Original Paper (2017)"}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-slate-700 dark:text-slate-300 mb-4",children:[e.jsx("strong",{className:"text-blue-600 dark:text-blue-400",children:'"Attention Is All You Need"'})," by Vaswani et al. introduced the Transformer architecture, eliminating recurrence entirely."]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-slate-800 dark:text-slate-400",children:"New SOTA on WMT translation tasks"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-slate-800 dark:text-slate-400",children:"3.5 days training on 8 GPUs (vs. weeks for RNNs)"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-slate-800 dark:text-slate-400",children:"Foundation for BERT, GPT, T5, and all modern LLMs"})]})]})]}),e.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg font-mono text-xs",children:[e.jsx("div",{className:"text-slate-700 dark:text-slate-500",children:"// Original hyperparameters"}),e.jsxs("div",{className:"text-slate-700 dark:text-slate-300",children:["d_model = ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"512"})]}),e.jsxs("div",{className:"text-slate-700 dark:text-slate-300",children:["d_ff = ",e.jsx("span",{className:"text-green-400",children:"2048"})]}),e.jsxs("div",{className:"text-slate-700 dark:text-slate-300",children:["h = ",e.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:"8"})," ",e.jsx("span",{className:"text-slate-700 dark:text-slate-500",children:"// heads"})]}),e.jsxs("div",{className:"text-slate-700 dark:text-slate-300",children:["N = ",e.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"6"})," ",e.jsx("span",{className:"text-slate-700 dark:text-slate-500",children:"// layers"})]}),e.jsxs("div",{className:"text-slate-700 dark:text-slate-300",children:["d_k = d_v = ",e.jsx("span",{className:"text-yellow-400",children:"64"})]})]})]})]})]})})}export{g as default};
