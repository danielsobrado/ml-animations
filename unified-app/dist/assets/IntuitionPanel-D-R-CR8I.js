import{r as i,j as e,L as j,M as N,o as f}from"./index-BmgLEcVh.js";import{P as v}from"./pause-Pw5n6zyp.js";import{P as y}from"./play-4PCPORJF.js";import{S as k}from"./search-mCogr3Vg.js";function z(){const[r,h]=i.useState("library"),[a,d]=i.useState(!1),[g,c]=i.useState(null),[l,o]=i.useState({}),m={library:{title:"ðŸ“š Library Search",description:'You walk into a library looking for books about "machine learning"',query:"machine learning",items:[{id:1,text:"Neural Networks",relevance:.9},{id:2,text:"Python Basics",relevance:.4},{id:3,text:"Deep Learning",relevance:.95},{id:4,text:"Cooking Recipes",relevance:.05},{id:5,text:"AI Fundamentals",relevance:.85},{id:6,text:"Romance Novels",relevance:.02}],analogy:"Your QUERY is what you're looking for. Each book's TITLE is a KEY. The book's CONTENT is the VALUE."},translation:{title:"ðŸŒ Translation",description:'Translating "The cat sat on the mat" to French',query:"the",items:[{id:1,text:"The",relevance:.7},{id:2,text:"cat",relevance:.1},{id:3,text:"sat",relevance:.05},{id:4,text:"on",relevance:.05},{id:5,text:"the",relevance:.05},{id:6,text:"mat",relevance:.05}],analogy:`When generating "Le", the model attends strongly to "The" because they're directly related.`},conversation:{title:"ðŸ’¬ Conversation",description:'"The movie was great but the ending was terrible"',query:"sentiment",items:[{id:1,text:"movie",relevance:.3},{id:2,text:"great",relevance:.4},{id:3,text:"but",relevance:.5},{id:4,text:"ending",relevance:.4},{id:5,text:"terrible",relevance:.9}],analogy:'The model pays attention to "terrible" and "but" to understand the overall sentiment is mixed/negative.'}},s=m[r];i.useEffect(()=>{if(a){let t=0;const n={},b=setInterval(()=>{if(t<s.items.length){const x=s.items[t];n[x.id]=x.relevance,o({...n}),c(x.id),t++}else d(!1)},600);return()=>clearInterval(b)}},[a,r]);const p=()=>{o({}),c(null),d(!0)},u=t=>t>=.8?"bg-green-500 text-white shadow-lg shadow-green-500/50":t>=.5?"bg-yellow-400 text-slate-800":t>=.2?"bg-orange-300 text-slate-800":"bg-slate-600 dark:bg-slate-600 text-slate-800 dark:text-slate-300";return e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-4",children:["What is Attention? ",e.jsx("span",{className:"text-gradient",children:"The Core Intuition"})]}),e.jsxs("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-2xl mx-auto leading-relaxed",children:["Attention is like a ",e.jsx("strong",{className:"text-amber-500",children:"spotlight"})," that helps the model focus on the most relevant parts of the input when producing each part of the output."]})]}),e.jsx("div",{className:"bg-gradient-to-r from-amber-500/20 to-orange-500/20 rounded-2xl p-6 mb-8 border border-amber-500/30",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-amber-500 p-3 rounded-xl",children:e.jsx(j,{className:"text-white",size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-amber-500 mb-2",children:"The Database Analogy"}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:["Think of Attention like a ",e.jsx("strong",{children:"fuzzy database lookup"}),":"]}),e.jsxs("ul",{className:"mt-3 space-y-2 text-slate-700 dark:text-slate-300",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"bg-blue-500 px-2 py-1 rounded text-xs font-bold text-white",children:"Query (Q)"}),e.jsx("span",{children:"What you're looking for"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"bg-green-500 px-2 py-1 rounded text-xs font-bold text-white",children:"Key (K)"}),e.jsx("span",{children:"Labels/titles of all available items"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"bg-purple-500 px-2 py-1 rounded text-xs font-bold text-white",children:"Value (V)"}),e.jsx("span",{children:"The actual content to retrieve"})]})]}),e.jsxs("p",{className:"mt-3 text-slate-500 dark:text-slate-400 text-sm italic",children:["Unlike a hard lookup that returns one exact match, attention returns a ",e.jsx("strong",{className:"text-slate-900 dark:text-white",children:"weighted combination"})," of all values!"]})]})]})}),e.jsx("div",{className:"flex flex-wrap justify-center gap-3 mb-6",children:Object.entries(m).map(([t,n])=>e.jsx("button",{onClick:()=>{h(t),o({}),c(null),d(!1)},className:`px-4 py-2 rounded-lg font-medium transition-all ${r===t?"bg-gradient-to-r from-blue-500 to-purple-500 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-300 dark:hover:bg-slate-600"}`,children:n.title},t))}),e.jsxs("div",{className:"card p-6",children:[e.jsxs("div",{className:"flex flex-wrap justify-between items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white",children:s.title}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:s.description})]}),e.jsxs("button",{onClick:p,disabled:a,className:"btn-primary flex items-center gap-2",children:[a?e.jsx(v,{size:18}):e.jsx(y,{size:18}),a?"Computing...":"Run Attention"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-blue-500",children:[e.jsx(k,{size:20}),e.jsxs("span",{className:"font-bold",children:['Query: "',s.query,'"']})]}),e.jsx("div",{className:"bg-blue-500/10 dark:bg-blue-500/20 p-4 rounded-xl border border-blue-500/30",children:e.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:"The query determines what we're looking for. It will be compared against all keys to compute attention scores."})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-green-500",children:[e.jsx(N,{size:20}),e.jsx("span",{className:"font-bold",children:"Keys & Values"})]}),e.jsx("div",{className:"space-y-2",children:s.items.map(t=>e.jsxs("div",{className:`flex items-center justify-between p-3 rounded-lg transition-all duration-300 ${g===t.id?"ring-2 ring-blue-500":""} ${l[t.id]!==void 0?u(l[t.id]):"bg-slate-100 dark:bg-slate-700"}`,children:[e.jsx("span",{className:"font-medium",children:t.text}),l[t.id]!==void 0&&e.jsxs("span",{className:"text-sm font-mono",children:[(l[t.id]*100).toFixed(0),"%"]})]},t.id))})]})]}),Object.keys(l).length===s.items.length&&e.jsx("div",{className:"mt-6 p-4 bg-purple-500/10 dark:bg-purple-500/20 rounded-xl border border-purple-500/30 animate-fade-in",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"bg-purple-500 p-2 rounded-lg",children:e.jsx(f,{className:"text-white",size:20})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-purple-600 dark:text-purple-400 mb-1",children:"Result: Weighted Combination"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm",children:s.analogy})]})]})})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"card p-4 text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸŽ¯"}),e.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Step 1"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Compute QÂ·K similarity scores"})]}),e.jsxs("div",{className:"card p-4 text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"ðŸ“Š"}),e.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Step 2"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Apply softmax for weights"})]}),e.jsxs("div",{className:"card p-4 text-center",children:[e.jsx("div",{className:"text-3xl mb-2",children:"âœ¨"}),e.jsx("h4",{className:"font-bold text-slate-900 dark:text-white mb-1",children:"Step 3"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-sm",children:"Weighted sum of Values"})]})]}),e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-green-500/10 to-emerald-500/10 rounded-2xl p-6 border border-green-500/20",children:[e.jsx("h3",{className:"text-xl font-bold text-green-600 dark:text-green-400 mb-4",children:"ðŸ’¡ Why is Attention Revolutionary?"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-slate-900 dark:text-white",children:"Before Attention (RNNs):"}),e.jsxs("ul",{className:"text-slate-600 dark:text-slate-400 text-sm space-y-1",children:[e.jsx("li",{children:"â€¢ Information flows sequentially"}),e.jsx("li",{children:'â€¢ Long-range dependencies get "forgotten"'}),e.jsx("li",{children:"â€¢ Fixed-size hidden state bottleneck"}),e.jsx("li",{children:"â€¢ Can't parallelize training"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-slate-900 dark:text-white",children:"With Attention:"}),e.jsxs("ul",{className:"text-green-600 dark:text-green-400 text-sm space-y-1",children:[e.jsx("li",{children:"âœ“ Direct access to any position"}),e.jsx("li",{children:"âœ“ No distance limit for dependencies"}),e.jsx("li",{children:"âœ“ Dynamic, input-dependent connections"}),e.jsx("li",{children:"âœ“ Fully parallelizable!"})]})]})]})]})]})})}export{z as default};
