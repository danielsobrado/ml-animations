import{r,j as e}from"./index-quAWpIA7.js";function P(){const[u,g]=r.useState({r:3,c:0}),[d,p]=r.useState(.1),[o,j]=r.useState(!1),[N,h]=r.useState([]),[v,w]=r.useState(0),[S,y]=r.useState(0),m=r.useRef(null),R=()=>{g(c=>{let{r:s,c:f}=c,t=0,n=0;if(Math.random()<d){const l=[[0,1],[0,-1],[1,0],[-1,0]],b=l[Math.floor(Math.random()*l.length)];t=b[0],n=b[1]}else{const l=d>.3?1:2;s>l?t=-1:s<l?t=1:f<7?n=1:s<3&&(t=1)}let i=Math.min(3,Math.max(0,s+t)),a=Math.min(7,Math.max(0,f+n));return i===3&&a>0&&a<7?(w(l=>l+1),h([]),{r:3,c:0}):i===3&&a===7?(y(l=>l+1),h([]),{r:3,c:0}):(h(l=>[...l.slice(-20),{r:i,c:a}]),{r:i,c:a})})};return r.useEffect(()=>(o?m.current=setInterval(R,100):clearInterval(m.current),()=>clearInterval(m.current)),[o,d]),e.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-red-400 mb-4",children:"The Cliff Walking Problem"}),e.jsxs("p",{className:"text-lg text-slate-700 dark:text-slate-300 leading-relaxed",children:["The shortest path is right along the edge of the cliff.",e.jsx("br",{}),"But if you explore randomly (High Îµ), you might fall off!"]})]}),e.jsxs("div",{className:"w-full max-w-5xl",children:[e.jsx("div",{className:"grid grid-cols-8 gap-1 bg-slate-800 p-4 rounded-xl border border-slate-700 mb-8",children:Array(4).fill().map((c,s)=>Array(8).fill().map((f,t)=>{const n=s===3&&t>0&&t<7,x=s===3&&t===7,i=s===3&&t===0;return e.jsxs("div",{className:`h-16 rounded flex items-center justify-center relative ${n?"bg-slate-950 border-t-4 border-red-600":x?"bg-yellow-900/50 border border-yellow-500":i?"bg-slate-700 border border-slate-500":"bg-slate-700"}`,children:[n&&e.jsx("span",{className:"text-2xl",children:"ðŸ’€"}),x&&e.jsx("span",{className:"text-2xl",children:"ðŸ†"}),i&&e.jsx("span",{className:"text-xs text-slate-800 dark:text-slate-400",children:"START"}),u.r===s&&u.c===t&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-3xl z-10 transition-all duration-100",children:"ðŸ¤–"}),N.some(a=>a.r===s&&a.c===t)&&!n&&!x&&e.jsx("div",{className:"absolute w-2 h-2 bg-white/30 rounded-full"})]},`${s}-${t}`)}))}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"Simulation Control"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("label",{className:"text-sm text-slate-800 dark:text-slate-400",children:"Exploration (Îµ)"}),e.jsx("span",{className:"text-2xl font-mono font-bold text-red-400",children:d.toFixed(2)})]}),e.jsx("input",{type:"range",min:"0",max:"0.5",step:"0.05",value:d,onChange:c=>p(parseFloat(c.target.value)),className:"w-full accent-red-400"}),e.jsx("p",{className:"text-xs text-slate-700 dark:text-slate-500 mt-2",children:"High Îµ = Safer Path (Far from cliff) | Low Îµ = Optimal Path (Edge)"})]}),e.jsx("button",{onClick:()=>j(!o),className:`w-full py-3 rounded-xl font-bold text-white shadow-lg ${o?"bg-slate-600":"bg-red-600 hover:bg-red-500"}`,children:o?"Pause":"Start Walking"})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"Results"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-900 p-4 rounded text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-red-500",children:v}),e.jsx("div",{className:"text-xs text-slate-800 dark:text-slate-400",children:"Falls (Deaths)"})]}),e.jsxs("div",{className:"bg-slate-900 p-4 rounded text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-500",children:S}),e.jsx("div",{className:"text-xs text-slate-800 dark:text-slate-400",children:"Wins (Goals)"})]})]}),e.jsx("div",{className:"mt-4 p-3 bg-red-900/20 border border-red-500/30 rounded text-sm text-slate-700 dark:text-slate-300",children:d>.2?"With high noise, the optimal path is too dangerous. The agent prefers the 'safe' route.":"With low noise, the agent dares to walk the edge for the shortest path."})]})]})]})]})}export{P as default};
