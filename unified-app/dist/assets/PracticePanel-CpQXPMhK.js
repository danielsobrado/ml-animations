import{r as b,j as e}from"./index-quAWpIA7.js";const y=.01;function P(){const i=Array.from({length:3},()=>Math.floor(Math.random()*9)-3),o=Array.from({length:3},()=>Math.floor(Math.random()*5)-2),p=Math.floor(Math.random()*13)-8,t=i.reduce((x,r,h)=>x+r*o[h],0),c=t+p,u=c>0?c:y*c;return{X:i,W:o,b:p,dotProduct:t,z:c,leakyRelu:u}}function C({onStepChange:i}){const[o,p]=b.useState(P),[t,c]=b.useState(1),[u,x]=b.useState({dotProduct:"",z:"",leakyRelu:""}),[r,h]=b.useState({dotProduct:null,z:null,leakyRelu:null}),[m,N]=b.useState({dotProduct:!1,z:!1,leakyRelu:!1});b.useEffect(()=>{i&&i(t,o.z,o.leakyRelu)},[t,o.z,o.leakyRelu,i]);const j=s=>{const a=parseFloat(u[s]);let g;s==="dotProduct"?g=a===o.dotProduct:s==="z"?g=a===o.z:g=Math.abs(a-o.leakyRelu)<.001,h($=>({...$,[s]:g})),g&&c(s==="dotProduct"?2:s==="z"?3:4)},v=()=>{p(P()),c(1),x({dotProduct:"",z:"",leakyRelu:""}),h({dotProduct:null,z:null,leakyRelu:null}),N({dotProduct:!1,z:!1,leakyRelu:!1})},f=s=>{N(a=>({...a,[s]:!a[s]}))},{X:n,W:d,b:k,dotProduct:z,z:l,leakyRelu:R}=o;return e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3 text-center",children:"Interactive Practice"}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-600 mb-1",children:"X (Input)"}),e.jsxs("p",{className:"text-lg font-mono",children:["[",n.join(", "),"]"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-600 mb-1",children:"W (Weights)"}),e.jsxs("p",{className:"text-lg font-mono",children:["[",d.join(", "),"]"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-yellow-600 mb-1",children:"b (Bias)"}),e.jsx("p",{className:"text-lg font-mono",children:k})]})]}),e.jsxs("div",{className:"mt-2 text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-orange-600",children:"Î± (Alpha)"}),e.jsx("p",{className:"text-lg font-mono",children:y})]})]}),e.jsxs("div",{className:`p-4 rounded-lg border mb-3 ${t>=1?"bg-white border-purple-300":"bg-gray-100 border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"font-semibold text-purple-700",children:"Step 1: Calculate X Â· W"}),e.jsx("button",{onClick:()=>f("dotProduct"),className:"text-sm text-purple-600 hover:underline",children:m.dotProduct?"Hide Hint":"Show Hint"})]}),m.dotProduct&&e.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-600 mb-2",children:["X Â· W = (",n[0]," Ã— ",d[0],") + (",n[1]," Ã— ",d[1],") + (",n[2]," Ã— ",d[2],") = ",n[0]*d[0]," + ",n[1]*d[1]," + ",n[2]*d[2]," = ?"]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"number",value:u.dotProduct,onChange:s=>x(a=>({...a,dotProduct:s.target.value})),disabled:r.dotProduct===!0,className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter dot product"}),e.jsx("button",{onClick:()=>j("dotProduct"),disabled:r.dotProduct===!0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:"Check"})]}),r.dotProduct!==null&&e.jsx("p",{className:`mt-2 text-sm ${r.dotProduct?"text-green-600":"text-red-600"}`,children:r.dotProduct?"âœ“ Correct!":`âœ— Try again. Hint: ${n[0]}Ã—${d[0]} + ${n[1]}Ã—${d[1]} + ${n[2]}Ã—${d[2]}`})]}),e.jsxs("div",{className:`p-4 rounded-lg border mb-3 ${t>=2?"bg-white border-red-300":"bg-gray-100 border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"font-semibold text-red-700",children:"Step 2: Calculate z = XÂ·W + b"}),t>=2&&e.jsx("button",{onClick:()=>f("z"),className:"text-sm text-red-600 hover:underline",children:m.z?"Hide Hint":"Show Hint"})]}),m.z&&t>=2&&e.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-600 mb-2",children:["z = ",z," + (",k,") = ?"]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"number",value:u.z,onChange:s=>x(a=>({...a,z:s.target.value})),disabled:t<2||r.z===!0,className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100",placeholder:"Enter z value"}),e.jsx("button",{onClick:()=>j("z"),disabled:t<2||r.z===!0,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Check"})]}),r.z!==null&&e.jsx("p",{className:`mt-2 text-sm ${r.z?"text-green-600":"text-red-600"}`,children:r.z?"âœ“ Correct!":`âœ— Try again. z = ${z} + (${k})`})]}),e.jsxs("div",{className:`p-4 rounded-lg border mb-3 ${t>=3?"bg-white border-orange-300":"bg-gray-100 border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"font-semibold text-orange-700",children:"Step 3: Apply Leaky ReLU"}),t>=3&&e.jsx("button",{onClick:()=>f("leakyRelu"),className:"text-sm text-orange-600 hover:underline",children:m.leakyRelu?"Hide Hint":"Show Hint"})]}),m.leakyRelu&&t>=3&&e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-600 mb-2",children:l>0?`z = ${l} > 0, so Leaky ReLU(${l}) = ${l}`:`z = ${l} â‰¤ 0, so Leaky ReLU(${l}) = Î± Ã— ${l} = ${y} Ã— ${l} = ?`}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"number",step:"0.01",value:u.leakyRelu,onChange:s=>x(a=>({...a,leakyRelu:s.target.value})),disabled:t<3||r.leakyRelu===!0,className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:bg-gray-100",placeholder:"Enter Leaky ReLU output"}),e.jsx("button",{onClick:()=>j("leakyRelu"),disabled:t<3||r.leakyRelu===!0,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:"Check"})]}),r.leakyRelu!==null&&e.jsx("p",{className:`mt-2 text-sm ${r.leakyRelu?"text-green-600":"text-red-600"}`,children:r.leakyRelu?"âœ“ Correct! ðŸŽ‰":`âœ— Try again. ${l>0?`z > 0, so output = ${l}`:`z â‰¤ 0, so output = ${y} Ã— ${l}`}`})]}),t===4&&e.jsxs("div",{className:"p-4 bg-green-100 rounded-lg border border-green-300 text-center",children:[e.jsx("p",{className:"text-green-700 font-bold text-lg mb-2",children:"ðŸŽ‰ Excellent Work!"}),e.jsxs("p",{className:"text-green-600 mb-3",children:["You correctly computed Leaky ReLU(",l,") = ",R.toFixed(2)]}),e.jsx("button",{onClick:v,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:"Try Another Problem"})]}),t<4&&e.jsx("button",{onClick:v,className:"w-full mt-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Skip / New Problem"})]})}export{C as default};
