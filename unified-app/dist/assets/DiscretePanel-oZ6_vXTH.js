import{r as c,j as e}from"./index-quAWpIA7.js";import{R as j}from"./CategoricalChart-q5_a8qWL.js";import{B as N,a as w}from"./BarChart-DbeuAw6H.js";import{C as y,X as v,Y as k}from"./CartesianChart-CAXOaB3h.js";import{T as F}from"./Tooltip-YDxRvdtC.js";import{C as P}from"./tooltipContext-c3f7D665.js";import"./with-selector-CsIvExq7.js";import"./ActiveShapeUtils-CPNwDibL.js";import"./Sector-C4hPwxCr.js";import"./Symbols-D2UkYTzA.js";import"./ErrorBarContext-Cye6_j5d.js";import"./useElementOffset-e28GaSXW.js";function I(){const[a,m]=c.useState("binomial"),[l,b]=c.useState(10),[o,p]=c.useState(.5),[i,h]=c.useState(5),r=t=>t<=1?1:t*r(t-1),u=(t,s)=>r(t)/(r(s)*r(t-s)),f=(t,s,x)=>u(s,t)*Math.pow(x,t)*Math.pow(1-x,s-t),g=(t,s)=>Math.pow(s,t)*Math.exp(-s)/r(t),n=c.useMemo(()=>{if(a==="binomial")return Array.from({length:l+1},(t,s)=>({k:s,prob:f(s,l,o)}));{const t=Math.min(20,i*3);return Array.from({length:t},(s,x)=>({k:x,prob:g(x,i)}))}},[a,l,o,i]),d=Math.max(...n.map(t=>t.prob));return e.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-indigo-600 dark:text-indigo-400 mb-4",children:"Discrete Distributions"}),e.jsxs("p",{className:"text-lg text-slate-700 dark:text-slate-300 leading-relaxed",children:["Distributions for ",e.jsx("strong",{children:"countable"})," outcomes (0, 1, 2, 3, ...).",e.jsx("br",{}),"PMF (Probability Mass Function): P(X = k) is the bar height."]})]}),e.jsxs("div",{className:"flex gap-4 mb-8",children:[e.jsx("button",{onClick:()=>m("binomial"),className:`px-8 py-4 rounded-xl font-bold transition-all ${a==="binomial"?"bg-indigo-600 text-white shadow-lg scale-105":"bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-600"}`,children:"Binomial"}),e.jsx("button",{onClick:()=>m("poisson"),className:`px-8 py-4 rounded-xl font-bold transition-all ${a==="poisson"?"bg-purple-600 text-white shadow-lg scale-105":"bg-slate-700 text-slate-700 dark:text-slate-300 hover:bg-slate-600"}`,children:"Poisson"})]}),a==="binomial"&&e.jsxs("div",{className:"grid md:grid-cols-2 gap-6 w-full max-w-4xl mb-8",children:[e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-indigo-500/50",children:[e.jsxs("label",{className:"flex justify-between text-sm font-bold mb-3",children:["n (trials): ",e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:l})]}),e.jsx("input",{type:"range",min:"1",max:"20",step:"1",value:l,onChange:t=>b(Number(t.target.value)),className:"w-full accent-indigo-400"}),e.jsx("p",{className:"text-xs text-slate-800 dark:text-slate-400 mt-2",children:"Number of coin flips"})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-indigo-500/50",children:[e.jsxs("label",{className:"flex justify-between text-sm font-bold mb-3",children:["p (success prob): ",e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400",children:o.toFixed(2)})]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:o,onChange:t=>p(Number(t.target.value)),className:"w-full accent-indigo-400"}),e.jsx("p",{className:"text-xs text-slate-800 dark:text-slate-400 mt-2",children:"Probability of heads"})]})]}),a==="poisson"&&e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-purple-500/50 w-full max-w-2xl mb-8",children:[e.jsxs("label",{className:"flex justify-between text-sm font-bold mb-3",children:["λ (lambda - rate): ",e.jsx("span",{className:"text-purple-600 dark:text-purple-400",children:i.toFixed(1)})]}),e.jsx("input",{type:"range",min:"0.5",max:"15",step:"0.5",value:i,onChange:t=>h(Number(t.target.value)),className:"w-full accent-purple-400"}),e.jsx("p",{className:"text-xs text-slate-800 dark:text-slate-400 mt-2",children:"Average events per interval (e.g., emails per hour)"})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 w-full max-w-5xl",children:[e.jsxs("h3",{className:"font-bold text-white mb-4 text-center",children:[a==="binomial"&&`Binomial(n=${l}, p=${o.toFixed(2)})`,a==="poisson"&&`Poisson(λ=${i.toFixed(1)})`]}),e.jsx(j,{width:"100%",height:400,children:e.jsxs(N,{data:n,children:[e.jsx(y,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(v,{dataKey:"k",stroke:"#94a3b8",tick:{fill:"#cbd5e1"},label:{value:"k (outcome)",position:"insideBottom",offset:-5,fill:"#cbd5e1"}}),e.jsx(k,{stroke:"#94a3b8",tick:{fill:"#cbd5e1"},label:{value:"P(X = k)",angle:-90,position:"insideLeft",fill:"#cbd5e1"}}),e.jsx(F,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},labelStyle:{color:"#e2e8f0"},formatter:t=>[(t*100).toFixed(2)+"%","Probability"]}),e.jsx(w,{dataKey:"prob",radius:[8,8,0,0],children:n.map((t,s)=>e.jsx(P,{fill:t.prob===d?"#fbbf24":a==="binomial"?"#6366f1":"#a855f7"},`cell-${s}`))})]})}),e.jsx("div",{className:"mt-6 p-4 bg-slate-900 rounded-lg border border-slate-700",children:e.jsxs("p",{className:"text-slate-700 dark:text-sm text-center",children:[a==="binomial"&&e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Example:"})," Flip ",l," coins with P(Heads) = ",o.toFixed(2),".",e.jsx("br",{}),"Most likely outcome: ",e.jsxs("span",{className:"text-yellow-400 font-bold",children:[n.findIndex(t=>t.prob===d)," heads"]})," with probability ",(d*100).toFixed(1),"%"]}),a==="poisson"&&e.jsxs(e.Fragment,{children:[e.jsx("strong",{children:"Example:"})," Average ",i.toFixed(1)," customers per hour.",e.jsx("br",{}),"Most likely: ",e.jsxs("span",{className:"text-yellow-400 font-bold",children:[n.findIndex(t=>t.prob===d)," customers"]})," with probability ",(d*100).toFixed(1),"%"]})]})})]})]})}export{I as default};
