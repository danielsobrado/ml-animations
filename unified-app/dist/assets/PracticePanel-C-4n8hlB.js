import{r,j as e,C as F,L as R,m as V}from"./index-quAWpIA7.js";import{T as O}from"./trophy-CmCS_W-S.js";import{C as W}from"./check-circle-CZEU1TAG.js";import{X as I}from"./x-circle-D3t0USxl.js";function $(){const[p,w]=r.useState("quiz"),[a,k]=r.useState(0),[g,b]=r.useState(null),[o,f]=r.useState(!1),[u,T]=r.useState(0),[j,C]=r.useState([]),[S,Q]=r.useState(128),[l,i]=r.useState(512),[N,d]=r.useState(8),[v,c]=r.useState(6),[y,x]=r.useState(2048),[q,m]=r.useState(32e3),s=[{question:"What are the three main components that the encoder produces from the input?",options:["Input, Output, Hidden","Query, Key, Value","Attention, FFN, Norm","Embedding, Positional, Output"],correct:1,explanation:"The input is projected into Query (Q), Key (K), and Value (V) vectors for attention computation."},{question:"Why is scaling by âˆšd_k important in attention?",options:["To make the model faster","To prevent dot products from becoming too large and softmax from saturating","To reduce memory usage","To enable multi-head attention"],correct:1,explanation:"Large dot products push softmax into regions with very small gradients, causing vanishing gradients."},{question:"What is the purpose of the causal mask in the decoder?",options:["To speed up training","To reduce memory usage","To prevent attending to future tokens during generation","To improve attention scores"],correct:2,explanation:'The causal mask ensures that position i can only attend to positions 0 through i, preventing "cheating" by looking at future tokens.'},{question:"In cross-attention, where do Q, K, and V come from?",options:["All from encoder","All from decoder","Q from decoder, K and V from encoder","Q and K from encoder, V from decoder"],correct:2,explanation:`Cross-attention allows the decoder to "query" the encoder's representation. Q comes from decoder, K and V from encoder output.`},{question:"What is the typical relationship between d_model and d_ff?",options:["d_ff = d_model","d_ff = 2 Ã— d_model","d_ff = 4 Ã— d_model","d_ff = d_model / 2"],correct:2,explanation:"The feed-forward hidden dimension is typically 4Ã— the model dimension (e.g., 512 â†’ 2048)."},{question:"Which transformer variant is BERT?",options:["Decoder-only","Encoder-only","Encoder-decoder","Neither"],correct:1,explanation:"BERT uses only the encoder with bidirectional attention, trained with masked language modeling."},{question:"Which transformer variant is GPT?",options:["Decoder-only","Encoder-only","Encoder-decoder","Neither"],correct:0,explanation:"GPT uses only the decoder with causal attention, trained with next token prediction."},{question:'What does "multi-head" attention allow the model to do?',options:["Process multiple sentences at once","Attend to information from different representation subspaces","Use multiple GPUs","Generate multiple outputs"],correct:1,explanation:"Multiple heads allow the model to jointly attend to information from different representation subspaces at different positions."},{question:"Why are residual connections important in transformers?",options:["They reduce the number of parameters","They make the model faster","They help gradients flow and enable training deep networks","They improve attention scores"],correct:2,explanation:"Residual connections allow gradients to flow directly through the network, enabling training of very deep models."},{question:"What is the computational complexity of self-attention with respect to sequence length n?",options:["O(n)","O(n log n)","O(nÂ²)","O(nÂ³)"],correct:2,explanation:"Self-attention computes attention between every pair of positions, resulting in O(nÂ²) complexity. This is why long contexts are challenging!"}],L=t=>{o||(b(t),f(!0),t===s[a].correct&&T(u+1),C([...j,a]))},E=()=>{a<s.length-1&&(k(a+1),b(null),f(!1))},M=()=>{k(0),b(null),f(!1),T(0),C([])},A=l/N,P=v*(3*l*l+l*l),_=v*(l*y+y*l),z=q*l+S*l,K=P+_+z,h=t=>t>=1e9?(t/1e9).toFixed(2)+"B":t>=1e6?(t/1e6).toFixed(2)+"M":t>=1e3?(t/1e3).toFixed(2)+"K":t.toString();return e.jsx("div",{className:"p-6 min-h-screen",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex justify-center gap-4 mb-8",children:[e.jsxs("button",{onClick:()=>w("quiz"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all ${p==="quiz"?"bg-rose-500 text-white":"bg-slate-700 text-slate-800 dark:text-slate-400 hover:bg-slate-600"}`,children:[e.jsx(O,{size:20}),"Quiz (",s.length," Questions)"]}),e.jsxs("button",{onClick:()=>w("calculator"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all ${p==="calculator"?"bg-indigo-500 text-white":"bg-slate-700 text-slate-800 dark:text-slate-400 hover:bg-slate-600"}`,children:[e.jsx(F,{size:20}),"Parameter Calculator"]})]}),p==="quiz"?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center gap-2 mb-6",children:s.map((t,n)=>e.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${a===n?"bg-rose-500 scale-125":j.includes(n)?"bg-green-500":"bg-slate-600"}`},n))}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("span",{className:"text-slate-800 dark:text-slate-400",children:"Score: "}),e.jsx("span",{className:"text-white font-bold",children:u}),e.jsxs("span",{className:"text-slate-800 dark:text-slate-400",children:[" / ",j.length]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-6 border border-slate-700 mb-6",children:[e.jsxs("div",{className:"text-slate-800 dark:text-sm mb-2",children:["Question ",a+1," of ",s.length]}),e.jsx("h3",{className:"text-white text-xl font-bold mb-6",children:s[a].question}),e.jsx("div",{className:"space-y-3",children:s[a].options.map((t,n)=>e.jsx("button",{onClick:()=>L(n),disabled:o,className:`w-full p-4 rounded-xl text-left transition-all ${o?n===s[a].correct?"bg-green-500/20 border-2 border-green-500 text-green-300":g===n?"bg-red-500/20 border-2 border-red-500 text-red-300":"bg-slate-700/50 text-slate-800 dark:text-slate-400":g===n?"bg-blue-500/20 border-2 border-blue-500 text-white":"bg-slate-700/50 text-slate-700 dark:text-slate-300 hover:bg-slate-700"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[o&&n===s[a].correct&&e.jsx(W,{className:"text-green-400",size:20}),o&&g===n&&n!==s[a].correct&&e.jsx(I,{className:"text-red-400",size:20}),e.jsx("span",{children:t})]})},n))}),o&&e.jsx("div",{className:"mt-6 p-4 bg-blue-500/10 rounded-xl border border-blue-500/30",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(R,{className:"text-blue-600 dark:text-blue-400 mt-1",size:18}),e.jsx("p",{className:"text-slate-700 dark:text-sm",children:s[a].explanation})]})})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("button",{onClick:M,className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg",children:[e.jsx(V,{size:18}),"Reset"]}),o&&a<s.length-1&&e.jsx("button",{onClick:E,className:"px-6 py-2 bg-rose-500 hover:bg-rose-600 text-white rounded-lg font-medium",children:"Next Question â†’"}),a===s.length-1&&o&&e.jsxs("div",{className:"text-white font-bold",children:["Final Score: ",u,"/",s.length," (",Math.round(u/s.length*100),"%)"]})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-6 border border-slate-700 mb-6",children:[e.jsxs("h3",{className:"text-white font-bold mb-6 flex items-center gap-2",children:[e.jsx(F,{size:20,className:"text-indigo-600 dark:text-indigo-400"}),"Transformer Parameter Calculator"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-slate-800 dark:text-sm",children:"d_model"}),e.jsx("input",{type:"number",value:l,onChange:t=>i(parseInt(t.target.value)||0),className:"w-full mt-1 bg-slate-700 text-white p-2 rounded-lg border border-slate-600 focus:border-indigo-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-slate-800 dark:text-sm",children:"Num Heads"}),e.jsx("input",{type:"number",value:N,onChange:t=>d(parseInt(t.target.value)||1),className:"w-full mt-1 bg-slate-700 text-white p-2 rounded-lg border border-slate-600 focus:border-indigo-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-slate-800 dark:text-sm",children:"Num Layers"}),e.jsx("input",{type:"number",value:v,onChange:t=>c(parseInt(t.target.value)||1),className:"w-full mt-1 bg-slate-700 text-white p-2 rounded-lg border border-slate-600 focus:border-indigo-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-slate-800 dark:text-sm",children:"d_ff"}),e.jsx("input",{type:"number",value:y,onChange:t=>x(parseInt(t.target.value)||0),className:"w-full mt-1 bg-slate-700 text-white p-2 rounded-lg border border-slate-600 focus:border-indigo-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-slate-800 dark:text-sm",children:"Vocab Size"}),e.jsx("input",{type:"number",value:q,onChange:t=>m(parseInt(t.target.value)||0),className:"w-full mt-1 bg-slate-700 text-white p-2 rounded-lg border border-slate-600 focus:border-indigo-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-slate-800 dark:text-sm",children:"Max Seq Len"}),e.jsx("input",{type:"number",value:S,onChange:t=>Q(parseInt(t.target.value)||0),className:"w-full mt-1 bg-slate-700 text-white p-2 rounded-lg border border-slate-600 focus:border-indigo-500 focus:outline-none"})]})]}),e.jsxs("div",{className:"bg-slate-700/50 p-4 rounded-lg mb-6",children:[e.jsx("h4",{className:"text-slate-800 dark:text-sm mb-2",children:"Derived Values"}),e.jsxs("div",{className:"flex gap-6",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-800 dark:text-slate-400",children:"d_k = d_v = "}),e.jsx("span",{className:"text-indigo-600 dark:text-indigo-400 font-mono",children:A})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-slate-800 dark:text-slate-400",children:"d_model / h = "}),e.jsxs("span",{className:"text-indigo-600 dark:text-indigo-400 font-mono",children:[l," / ",N]})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-500/10 rounded-lg",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Attention Parameters (per layer Ã— N)"}),e.jsx("span",{className:"text-purple-600 dark:text-purple-400 font-mono",children:h(P)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-500/10 rounded-lg",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"FFN Parameters (per layer Ã— N)"}),e.jsx("span",{className:"text-orange-600 dark:text-orange-400 font-mono",children:h(_)})]}),e.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-500/10 rounded-lg",children:[e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Embedding Parameters"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400 font-mono",children:h(z)})]}),e.jsxs("div",{className:"flex justify-between items-center p-4 bg-green-500/20 rounded-lg border border-green-500/50",children:[e.jsx("span",{className:"text-white font-bold",children:"Total Parameters (approx)"}),e.jsx("span",{className:"text-green-400 font-mono text-xl",children:h(K)})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-2xl p-6 border border-slate-700",children:[e.jsx("h4",{className:"text-white font-bold mb-4",children:"ðŸ“š Try Famous Model Configs"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>{i(512),d(8),c(6),x(2048),m(37e3)},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm",children:"Original Transformer"}),e.jsx("button",{onClick:()=>{i(768),d(12),c(12),x(3072),m(30522)},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm",children:"BERT-Base"}),e.jsx("button",{onClick:()=>{i(768),d(12),c(12),x(3072),m(50257)},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm",children:"GPT-2 Small"}),e.jsx("button",{onClick:()=>{i(4096),d(32),c(32),x(11008),m(32e3)},className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg text-sm",children:"LLaMA-7B"})]})]})]}),e.jsxs("div",{className:"mt-8 bg-amber-500/10 rounded-2xl p-6 border border-amber-500/30",children:[e.jsx("h3",{className:"text-amber-600 dark:text-amber-400 font-bold mb-4 flex items-center gap-2",children:"ðŸŽ“ Key Takeaways"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Encoder: bidirectional, understanding"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Decoder: causal, generation"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Multi-head = multiple perspectives"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Residuals enable deep networks"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"O(nÂ²) attention complexity"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Foundation of all modern LLMs!"})]})]})]})]})})}export{$ as default};
