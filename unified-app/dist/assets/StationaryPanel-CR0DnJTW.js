import{r as o,j as t}from"./index-quAWpIA7.js";import{R as f}from"./CategoricalChart-q5_a8qWL.js";import{B as y,a as j}from"./BarChart-DbeuAw6H.js";import{C as g,X as v,Y as N}from"./CartesianChart-CAXOaB3h.js";import{T as w}from"./Tooltip-YDxRvdtC.js";import{C as S}from"./tooltipContext-c3f7D665.js";import"./with-selector-CsIvExq7.js";import"./ActiveShapeUtils-CPNwDibL.js";import"./Sector-C4hPwxCr.js";import"./Symbols-D2UkYTzA.js";import"./ErrorBarContext-Cye6_j5d.js";import"./useElementOffset-e28GaSXW.js";function Y(){const[i,l]=o.useState([1,0,0]),[b,d]=o.useState(0),[a,x]=o.useState(!1),h=[[.7,.2,.1],[.3,.4,.3],[.2,.3,.5]],u=["Sunny","Cloudy","Rainy"],p=["#facc15","#94a3b8","#60a5fa"],c=()=>{const e=[0,0,0];for(let s=0;s<3;s++)for(let r=0;r<3;r++)e[s]+=i[r]*h[r][s];l(e),d(s=>s+1)},n=e=>{d(0),x(!1),e==="sunny"&&l([1,0,0]),e==="rainy"&&l([0,0,1]),e==="mixed"&&l([.33,.33,.34])};o.useEffect(()=>{let e;return a&&(e=setInterval(c,500)),()=>clearInterval(e)},[a,i]);const m=u.map((e,s)=>({name:e,prob:i[s],color:p[s]}));return t.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[t.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[t.jsx("h2",{className:"text-3xl font-bold text-violet-400 mb-4",children:"Stationary Distribution"}),t.jsxs("p",{className:"text-lg text-slate-700 dark:text-slate-300 leading-relaxed",children:["Where does the system end up in the long run?",t.jsx("br",{}),t.jsx("span",{className:"text-sm text-slate-800 dark:text-slate-400",children:"Convergence to Steady State: π = πP"})]})]}),t.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[t.jsxs("div",{className:"flex gap-2 bg-slate-800 p-2 rounded-xl",children:[t.jsx("button",{onClick:()=>n("sunny"),className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded text-sm font-bold",children:"Start Sunny"}),t.jsx("button",{onClick:()=>n("rainy"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-bold",children:"Start Rainy"}),t.jsx("button",{onClick:()=>n("mixed"),className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded text-sm font-bold",children:"Start Mixed"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:c,className:"px-6 py-3 bg-violet-600 hover:bg-violet-500 text-white rounded-xl font-bold",children:"Step +1"}),t.jsx("button",{onClick:()=>x(!a),className:`px-6 py-3 rounded-xl font-bold text-white ${a?"bg-red-600":"bg-green-600"}`,children:a?"Pause":"Auto Play"})]})]}),t.jsxs("div",{className:"text-center mb-4 font-mono text-slate-800 dark:text-slate-400",children:["Time Step: ",t.jsx("span",{className:"text-white font-bold text-xl",children:b})]}),t.jsx("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 w-full max-w-4xl mb-8",children:t.jsx(f,{width:"100%",height:300,children:t.jsxs(y,{data:m,layout:"vertical",children:[t.jsx(g,{strokeDasharray:"3 3",stroke:"#374151",horizontal:!1}),t.jsx(v,{type:"number",domain:[0,1],stroke:"#94a3b8",tick:{fill:"#cbd5e1"}}),t.jsx(N,{dataKey:"name",type:"category",stroke:"#94a3b8",tick:{fill:"#cbd5e1"},width:80}),t.jsx(w,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},formatter:e=>[(e*100).toFixed(1)+"%","Probability"]}),t.jsx(j,{dataKey:"prob",radius:[0,4,4,0],children:m.map((e,s)=>t.jsx(S,{fill:e.color},`cell-${s}`))})]})})}),t.jsxs("div",{className:"bg-gradient-to-r from-violet-900/50 to-indigo-900/50 p-6 rounded-xl border border-violet-500 w-full max-w-4xl",children:[t.jsx("h3",{className:"font-bold text-violet-300 mb-2",children:"Key Insight"}),t.jsxs("p",{className:"text-slate-700 dark:text-sm",children:["Notice that after many steps (t > 10), the distribution settles to roughly:",t.jsx("br",{}),t.jsx("strong",{className:"text-yellow-400",children:"Sunny: ~47%"}),",",t.jsx("strong",{className:"text-slate-800 dark:text-slate-400",children:" Cloudy: ~29%"}),",",t.jsx("strong",{className:"text-blue-600 dark:text-blue-400",children:" Rainy: ~24%"}),".",t.jsx("br",{}),"This happens ",t.jsx("strong",{children:"regardless"}),' of where you started! This is the "Stationary Distribution".']})]})]})}export{Y as default};
