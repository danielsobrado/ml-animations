import{r as m,j as e}from"./index-BmgLEcVh.js";import{R as u}from"./CategoricalChart-B3gtutcW.js";import{A as g,a as h}from"./AreaChart-CSj9laEx.js";import{C as v,X as w,Y as N}from"./CartesianChart-JiyIF1-F.js";import{T as y}from"./Tooltip-DB7iJmxT.js";import"./Sector-CA3PXCa0.js";import"./ActivePoints-BNVjkTTJ.js";import"./getRadiusAndStrokeWidthFromDot-RCB29W7S.js";import"./useElementOffset-7v_xyInG.js";function F(){const[l,r]=m.useState(.5),[a,n]=m.useState(1.5),b=()=>{const t=[];let o=0;for(let s=-4;s<=4;s+=.1){const x=1/Math.sqrt(2*Math.PI)*Math.exp(-.5*s*s),d=1/(a*Math.sqrt(2*Math.PI))*Math.exp(-.5*Math.pow((s-l)/a,2)),f=Math.max(d,1e-10),c=Math.max(x,1e-10),j=c*Math.log2(c/f);o+=j*.1,t.push({x:s.toFixed(1),p:x,q:d})}return{data:t,kl:Math.max(0,o)}},{data:p,kl:i}=b();return e.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-amber-400 mb-4",children:"KL Divergence (Relative Entropy)"}),e.jsxs("p",{className:"text-lg text-slate-300 leading-relaxed",children:['Measures the "distance" between two probability distributions.',e.jsx("br",{}),e.jsxs("strong",{children:["D",e.jsx("sub",{children:"KL"}),"(P || Q)"]}),": How many ",e.jsx("em",{children:"extra"})," bits do we need if we use Q to encode P?"]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 w-full max-w-5xl items-start",children:[e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[e.jsx("h3",{className:"font-bold text-white mb-6",children:"Approximation Q (Orange)"}),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("label",{className:"font-bold text-white",children:"Mean (μ)"}),e.jsx("span",{className:"font-mono font-bold text-amber-400",children:l.toFixed(1)})]}),e.jsx("input",{type:"range",min:"-3",max:"3",step:"0.1",value:l,onChange:t=>r(parseFloat(t.target.value)),className:"w-full accent-amber-400"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Shift the center"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-end mb-2",children:[e.jsx("label",{className:"font-bold text-white",children:"Std Dev (σ)"}),e.jsx("span",{className:"font-mono font-bold text-amber-400",children:a.toFixed(1)})]}),e.jsx("input",{type:"range",min:"0.5",max:"3",step:"0.1",value:a,onChange:t=>n(parseFloat(t.target.value)),className:"w-full accent-amber-400"}),e.jsx("p",{className:"text-xs text-slate-400 mt-1",children:"Change the width"})]})]}),e.jsx("div",{className:"mt-8 flex gap-4",children:e.jsx("button",{onClick:()=>{r(0),n(1)},className:"w-full py-3 bg-green-600 hover:bg-green-500 text-white rounded-xl font-bold shadow-lg transition-all",children:"Match P (KL = 0)"})})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 flex flex-col items-center",children:[e.jsx("h3",{className:"font-bold text-white mb-4",children:"P (Green) vs Q (Orange)"}),e.jsx("div",{className:"w-full h-64 mb-6",children:e.jsx(u,{width:"100%",height:"100%",children:e.jsxs(g,{data:p,children:[e.jsx(v,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(w,{dataKey:"x",stroke:"#94a3b8"}),e.jsx(N,{hide:!0}),e.jsx(y,{contentStyle:{backgroundColor:"#1e293b",border:"none"}}),e.jsx(h,{type:"monotone",dataKey:"p",stroke:"#22c55e",fill:"#22c55e",fillOpacity:.3,strokeWidth:2,name:"True P"}),e.jsx(h,{type:"monotone",dataKey:"q",stroke:"#fbbf24",fill:"#fbbf24",fillOpacity:.3,strokeWidth:2,name:"Approx Q"})]})})}),e.jsxs("div",{className:"w-full bg-slate-900 p-6 rounded-xl border border-amber-500/30 text-center",children:[e.jsx("div",{className:"text-sm text-slate-400 uppercase tracking-wider mb-2",children:"KL Divergence"}),e.jsxs("div",{className:`text-5xl font-mono font-bold mb-2 transition-colors ${i<.1?"text-green-400":"text-amber-400"}`,children:[i.toFixed(3)," ",e.jsx("span",{className:"text-lg text-slate-500",children:"bits"})]}),e.jsxs("div",{className:"text-xs text-slate-500",children:["D",e.jsx("sub",{children:"KL"})," = 0 only when P = Q."]})]})]})]})]})}export{F as default};
