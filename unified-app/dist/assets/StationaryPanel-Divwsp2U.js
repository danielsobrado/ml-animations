import{r as o,j as e}from"./index-CsxpOLHd.js";import{R as f}from"./CategoricalChart-DwESr9Pa.js";import{B as y,a as j}from"./BarChart-C8wp1IMO.js";import{C as g,X as v,Y as N}from"./CartesianChart-XX896M35.js";import{T as w}from"./Tooltip-BOms9-Qc.js";import{C as S}from"./tooltipContext-CdogrbYn.js";import"./with-selector-BmRVIYUQ.js";import"./ActiveShapeUtils-DqppQJJ3.js";import"./Sector-lmKnJuZM.js";import"./Symbols-BmE2jprK.js";import"./ErrorBarContext-Dbj6aYe0.js";import"./useElementOffset-CVHfGa0I.js";function Y(){const[i,l]=o.useState([1,0,0]),[b,x]=o.useState(0),[a,d]=o.useState(!1),h=[[.7,.2,.1],[.3,.4,.3],[.2,.3,.5]],p=["Sunny","Cloudy","Rainy"],u=["#facc15","#94a3b8","#60a5fa"],c=()=>{const t=[0,0,0];for(let s=0;s<3;s++)for(let r=0;r<3;r++)t[s]+=i[r]*h[r][s];l(t),x(s=>s+1)},n=t=>{x(0),d(!1),t==="sunny"&&l([1,0,0]),t==="rainy"&&l([0,0,1]),t==="mixed"&&l([.33,.33,.34])};o.useEffect(()=>{let t;return a&&(t=setInterval(c,500)),()=>clearInterval(t)},[a,i]);const m=p.map((t,s)=>({name:t,prob:i[s],color:u[s]}));return e.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-violet-400 mb-4",children:"Stationary Distribution"}),e.jsxs("p",{className:"text-lg text-slate-300 leading-relaxed",children:["Where does the system end up in the long run?",e.jsx("br",{}),e.jsx("span",{className:"text-sm text-slate-400",children:"Convergence to Steady State: π = πP"})]})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[e.jsxs("div",{className:"flex gap-2 bg-slate-800 p-2 rounded-xl",children:[e.jsx("button",{onClick:()=>n("sunny"),className:"px-4 py-2 bg-yellow-600 hover:bg-yellow-500 text-white rounded text-sm font-bold",children:"Start Sunny"}),e.jsx("button",{onClick:()=>n("rainy"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-bold",children:"Start Rainy"}),e.jsx("button",{onClick:()=>n("mixed"),className:"px-4 py-2 bg-slate-600 hover:bg-slate-500 text-white rounded text-sm font-bold",children:"Start Mixed"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:c,className:"px-6 py-3 bg-violet-600 hover:bg-violet-500 text-white rounded-xl font-bold",children:"Step +1"}),e.jsx("button",{onClick:()=>d(!a),className:`px-6 py-3 rounded-xl font-bold text-white ${a?"bg-red-600":"bg-green-600"}`,children:a?"Pause":"Auto Play"})]})]}),e.jsxs("div",{className:"text-center mb-4 font-mono text-slate-400",children:["Time Step: ",e.jsx("span",{className:"text-white font-bold text-xl",children:b})]}),e.jsx("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 w-full max-w-4xl mb-8",children:e.jsx(f,{width:"100%",height:300,children:e.jsxs(y,{data:m,layout:"vertical",children:[e.jsx(g,{strokeDasharray:"3 3",stroke:"#374151",horizontal:!1}),e.jsx(v,{type:"number",domain:[0,1],stroke:"#94a3b8",tick:{fill:"#cbd5e1"}}),e.jsx(N,{dataKey:"name",type:"category",stroke:"#94a3b8",tick:{fill:"#cbd5e1"},width:80}),e.jsx(w,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},formatter:t=>[(t*100).toFixed(1)+"%","Probability"]}),e.jsx(j,{dataKey:"prob",radius:[0,4,4,0],children:m.map((t,s)=>e.jsx(S,{fill:t.color},`cell-${s}`))})]})})}),e.jsxs("div",{className:"bg-gradient-to-r from-violet-900/50 to-indigo-900/50 p-6 rounded-xl border border-violet-500 w-full max-w-4xl",children:[e.jsx("h3",{className:"font-bold text-violet-300 mb-2",children:"Key Insight"}),e.jsxs("p",{className:"text-slate-300 text-sm",children:["Notice that after many steps (t > 10), the distribution settles to roughly:",e.jsx("br",{}),e.jsx("strong",{className:"text-yellow-400",children:"Sunny: ~47%"}),",",e.jsx("strong",{className:"text-slate-400",children:" Cloudy: ~29%"}),",",e.jsx("strong",{className:"text-blue-400",children:" Rainy: ~24%"}),".",e.jsx("br",{}),"This happens ",e.jsx("strong",{children:"regardless"}),' of where you started! This is the "Stationary Distribution".']})]})]})}export{Y as default};
