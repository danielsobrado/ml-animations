import{c as D,r as o,j as e,y as b,R as z,e as u,m as w,M as N,w as A,B as C,f as S,g as P}from"./index-quAWpIA7.js";import{A as j}from"./arrow-down-B9RWJrDO.js";import{g as M}from"./index-C8pce-KX.js";import{P as I}from"./pause-Ch50eX2B.js";import{P as B}from"./play-DgR7o5cW.js";import{C as y}from"./clock-0PPAHBZf.js";import{C as O}from"./code-BC671jUr.js";import{C as F}from"./check-circle-CZEU1TAG.js";import{X as q}from"./x-circle-D3t0USxl.js";import{T as W}from"./trophy-CmCS_W-S.js";import{S as U}from"./scale-DPnfMsVY.js";import{G}from"./graduation-cap-B7np-4AT.js";/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=D("Wand2",[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z",key:"1bcowg"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]]);function k(){const[a,d]=o.useState(null),l=[{id:"patchify",label:"Patchify",color:"from-blue-500 to-cyan-500",desc:"Convert image to sequence of patch tokens"},{id:"pos",label:"+Pos Embed",color:"from-cyan-500 to-teal-500",desc:"Add 2D sinusoidal positional encoding"},{id:"blocks",label:"DiT Blocks √óN",color:"from-pink-500 to-rose-500",desc:"N transformer blocks with AdaLN conditioning"},{id:"final",label:"Final Layer",color:"from-orange-500 to-amber-500",desc:"AdaLN + Linear to predict noise"},{id:"unpatch",label:"Unpatchify",color:"from-violet-500 to-purple-500",desc:"Reshape back to image dimensions"}];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["What is ",e.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"DiT"}),"?"]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400",children:"Diffusion Transformer: Using transformers instead of U-Net for noise prediction"})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:"DiT Architecture Overview"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-gray-600 to-gray-700 flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-2xl",children:"üñºÔ∏è"})}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400",children:"Noisy Latent"}),e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-500",children:"z_t"})]}),e.jsx(b,{className:"text-gray-700 dark:text-gray-500"}),l.map((t,s)=>e.jsxs(z.Fragment,{children:[e.jsxs("div",{className:"relative",onMouseEnter:()=>d(t.id),onMouseLeave:()=>d(null),children:[e.jsx("div",{className:`w-20 h-20 rounded-xl bg-gradient-to-br ${t.color} flex items-center justify-center cursor-pointer transition-transform hover:scale-110`,children:t.id==="blocks"?e.jsx(u,{size:24}):e.jsx("span",{className:"text-xs font-bold text-center px-1",children:t.label})}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-center mt-2",children:t.label}),a===t.id&&e.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 p-3 bg-black/90 rounded-lg border border-white/20 w-48 z-10",children:e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300",children:t.desc})})]}),s<l.length-1&&e.jsx(b,{className:"text-gray-700 dark:text-gray-500"})]},t.id)),e.jsx(b,{className:"text-gray-700 dark:text-gray-500"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-xl bg-gradient-to-br from-green-600 to-emerald-600 flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-2xl",children:"üìä"})}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400",children:"Predicted"}),e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-500",children:"v or Œµ"})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-red-900/20 rounded-xl p-5 border border-red-500/30",children:[e.jsx("h3",{className:"font-bold text-red-400 mb-3",children:"üèõÔ∏è U-Net (SD1.5/SDXL)"}),e.jsxs("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-2",children:[e.jsx("li",{children:"‚Ä¢ Convolutional backbone"}),e.jsx("li",{children:"‚Ä¢ Encoder-decoder with skip connections"}),e.jsx("li",{children:"‚Ä¢ Cross-attention for text conditioning"}),e.jsx("li",{children:"‚Ä¢ Inductive bias for images"}),e.jsx("li",{children:"‚Ä¢ ~860M parameters (SDXL)"})]})]}),e.jsxs("div",{className:"bg-green-900/20 rounded-xl p-5 border border-green-500/30",children:[e.jsx("h3",{className:"font-bold text-green-400 mb-3",children:"üèóÔ∏è DiT (SD3/Flux)"}),e.jsxs("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-2",children:[e.jsx("li",{children:"‚Ä¢ Pure transformer backbone"}),e.jsx("li",{children:"‚Ä¢ Simple isotropic architecture"}),e.jsx("li",{children:"‚Ä¢ AdaLN for all conditioning"}),e.jsx("li",{children:"‚Ä¢ Minimal inductive bias"}),e.jsx("li",{children:"‚Ä¢ 2B-8B+ parameters (scales easily)"})]})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Evolution: U-Net ‚Üí DiT ‚Üí MM-DiT"}),e.jsxs("div",{className:"flex flex-col md:flex-row items-start gap-4",children:[e.jsxs("div",{className:"flex-1 p-4 bg-gray-800/50 rounded-xl border border-gray-600",children:[e.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-400 mb-2",children:"2022"}),e.jsx("p",{className:"text-pink-600 dark:text-pink-400 font-bold",children:"DiT Paper"}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400 mt-1",children:'"Scalable Diffusion Models with Transformers" - Facebook AI'})]}),e.jsxs("div",{className:"flex-1 p-4 bg-purple-800/30 rounded-xl border border-purple-500/30",children:[e.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-400 mb-2",children:"2024"}),e.jsx("p",{className:"text-purple-600 dark:text-purple-400 font-bold",children:"SD3 MM-DiT"}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400 mt-1",children:"Multimodal DiT with joint attention for text+image"})]}),e.jsxs("div",{className:"flex-1 p-4 bg-orange-800/30 rounded-xl border border-orange-500/30",children:[e.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-400 mb-2",children:"2024"}),e.jsx("p",{className:"text-orange-600 dark:text-orange-400 font-bold",children:"Flux"}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400 mt-1",children:"Flow-based DiT with improved efficiency from Black Forest Labs"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-black/30 rounded-xl p-4 text-center border border-white/10",children:[e.jsx("p",{className:"text-2xl font-bold text-pink-600 dark:text-pink-400",children:"38"}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400",children:"Layers (SD3-Large)"})]}),e.jsxs("div",{className:"bg-black/30 rounded-xl p-4 text-center border border-white/10",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-600 dark:text-orange-400",children:"24"}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400",children:"Attention Heads"})]}),e.jsxs("div",{className:"bg-black/30 rounded-xl p-4 text-center border border-white/10",children:[e.jsx("p",{className:"text-2xl font-bold text-violet-400",children:"1536"}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400",children:"Hidden Dim"})]}),e.jsxs("div",{className:"bg-black/30 rounded-xl p-4 text-center border border-white/10",children:[e.jsx("p",{className:"text-2xl font-bold text-cyan-600 dark:text-cyan-400",children:"2√ó2"}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400",children:"Patch Size"})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-900/30 to-orange-900/30 rounded-xl p-6 border border-pink-500/30",children:[e.jsx("h3",{className:"font-bold text-pink-300 mb-3",children:"üí° Why Replace U-Net with Transformers?"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-pink-600 dark:text-pink-400 mb-1",children:"Scalability"}),e.jsx("p",{children:"Transformers scale predictably. More parameters = better quality. U-Nets hit diminishing returns."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-orange-600 dark:text-orange-400 mb-1",children:"Simplicity"}),e.jsx("p",{children:"One block type repeated N times. No encoder/decoder asymmetry, no skip connections."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-violet-400 mb-1",children:"Flexibility"}),e.jsx("p",{children:"Easy to add modalities (text, audio, video). Joint attention handles any token type."})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-cyan-600 dark:text-cyan-400 mb-1",children:"Hardware Efficiency"}),e.jsx("p",{children:"Matrix multiplications are GPU-optimized. Flash attention makes long sequences practical."})]})]})]})]})}function $(){const[a,d]=o.useState("standard"),l={standard:{name:"Standard ViT Block",components:[{name:"LayerNorm",color:"bg-gray-500",desc:"Normalize activations"},{name:"Self-Attention",color:"bg-blue-500",desc:"Global token mixing"},{name:"LayerNorm",color:"bg-gray-500",desc:"Normalize activations"},{name:"MLP",color:"bg-green-500",desc:"Per-token feedforward"}],residual:!0},dit:{name:"DiT Block",components:[{name:"AdaLN",color:"bg-pink-500",desc:"Adaptive norm with conditioning"},{name:"Self-Attention",color:"bg-blue-500",desc:"Global token mixing"},{name:"AdaLN",color:"bg-pink-500",desc:"Adaptive norm with conditioning"},{name:"MLP",color:"bg-green-500",desc:"Per-token feedforward"}],residual:!0,gated:!0},mmdit:{name:"MM-DiT Block",components:[{name:"AdaLN (Img)",color:"bg-blue-500",desc:"Norm for image tokens"},{name:"AdaLN (Txt)",color:"bg-orange-500",desc:"Norm for text tokens"},{name:"Joint Attention",color:"bg-violet-500",desc:"Image+Text attention"},{name:"AdaLN (Img)",color:"bg-blue-500",desc:"Norm for image tokens"},{name:"AdaLN (Txt)",color:"bg-orange-500",desc:"Norm for text tokens"},{name:"MLP (Img)",color:"bg-cyan-500",desc:"Image feedforward"},{name:"MLP (Txt)",color:"bg-amber-500",desc:"Text feedforward"}],residual:!0,gated:!0,separate:!0}},t=l[a];return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[e.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"Block"})," Structure"]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400",children:"Inside a DiT transformer block: from standard ViT to MM-DiT"})]}),e.jsx("div",{className:"flex justify-center gap-4",children:Object.entries(l).map(([s,n])=>e.jsx("button",{onClick:()=>d(s),className:`px-4 py-2 rounded-lg transition-all ${a===s?"bg-gradient-to-r from-pink-600 to-orange-600 text-white":"bg-white/10 text-gray-800 dark:text-gray-400 hover:bg-white/20"}`,children:n.name},s))}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:t.name}),e.jsx("div",{className:"flex justify-center",children:e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"text-center mb-4",children:[e.jsx("div",{className:"w-32 h-10 mx-auto rounded-lg bg-gray-700 flex items-center justify-center",children:e.jsx("span",{className:"text-sm",children:"Input x"})}),e.jsx(j,{className:"mx-auto mt-2 text-gray-700 dark:text-gray-500"})]}),e.jsxs("div",{className:"relative border-2 border-dashed border-pink-500/30 rounded-xl p-4 mx-auto max-w-md",children:[t.residual&&e.jsx("div",{className:"absolute -left-8 top-1/2 -translate-y-1/2 w-6 h-32 border-l-2 border-t-2 border-b-2 border-pink-400/50 rounded-l-lg",children:e.jsx("span",{className:"absolute -left-6 top-1/2 -translate-y-1/2 text-pink-600 dark:text-xs",children:"+"})}),t.separate?e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("p",{className:"text-xs text-blue-600 dark:text-center mb-2",children:"Image Stream"}),t.components.filter(s=>s.name.includes("Img")||s.name.includes("Joint")).map((s,n)=>e.jsx("div",{className:`${s.color} rounded-lg p-3 text-center`,children:e.jsx("span",{className:"text-sm font-medium",children:s.name.replace(" (Img)","")})},n))]}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx("p",{className:"text-xs text-orange-600 dark:text-center mb-2",children:"Text Stream"}),t.components.filter(s=>s.name.includes("Txt")||s.name.includes("Joint")).map((s,n)=>e.jsx("div",{className:`${s.color} rounded-lg p-3 text-center`,children:e.jsx("span",{className:"text-sm font-medium",children:s.name.replace(" (Txt)","")})},n))]})]}):e.jsx("div",{className:"space-y-3",children:t.components.map((s,n)=>e.jsxs("div",{children:[e.jsx("div",{className:`${s.color} rounded-lg p-3 text-center`,children:e.jsx("span",{className:"text-sm font-medium",children:s.name})}),n<t.components.length-1&&e.jsx(j,{className:"mx-auto my-1 text-gray-700 dark:text-gray-500",size:16})]},n))}),t.gated&&e.jsx("div",{className:"absolute -right-20 top-1/2 -translate-y-1/2 text-xs text-pink-600 dark:text-pink-400",children:"√óŒ± (gate)"})]}),e.jsxs("div",{className:"text-center mt-4",children:[e.jsx(j,{className:"mx-auto mb-2 text-gray-700 dark:text-gray-500"}),e.jsx("div",{className:"w-32 h-10 mx-auto rounded-lg bg-gradient-to-r from-pink-700 to-orange-700 flex items-center justify-center",children:e.jsx("span",{className:"text-sm",children:"Output x'"})})]})]})})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Component Details"}),e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t.components.filter((s,n,r)=>r.findIndex(i=>i.name===s.name)===n).map((s,n)=>e.jsxs("div",{className:`${s.color}/20 rounded-xl p-4 border border-white/10`,children:[e.jsx("h4",{className:"font-bold mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400",children:s.desc})]},n))})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Block Type Comparison"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/20",children:[e.jsx("th",{className:"py-3 px-4 text-left text-gray-800 dark:text-gray-400",children:"Feature"}),e.jsx("th",{className:"py-3 px-4 text-left text-gray-800 dark:text-gray-400",children:"Standard ViT"}),e.jsx("th",{className:"py-3 px-4 text-left text-gray-800 dark:text-gray-400",children:"DiT"}),e.jsx("th",{className:"py-3 px-4 text-left text-gray-800 dark:text-gray-400",children:"MM-DiT"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/10",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4",children:"Normalization"}),e.jsx("td",{className:"py-3 px-4",children:"LayerNorm"}),e.jsx("td",{className:"py-3 px-4 text-pink-600 dark:text-pink-400",children:"AdaLN"}),e.jsx("td",{className:"py-3 px-4 text-pink-600 dark:text-pink-400",children:"AdaLN (separate)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4",children:"Conditioning"}),e.jsx("td",{className:"py-3 px-4",children:"None (class token)"}),e.jsx("td",{className:"py-3 px-4 text-pink-600 dark:text-pink-400",children:"Via AdaLN"}),e.jsx("td",{className:"py-3 px-4 text-pink-600 dark:text-pink-400",children:"Via AdaLN + Joint Attn"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4",children:"Attention Type"}),e.jsx("td",{className:"py-3 px-4",children:"Self only"}),e.jsx("td",{className:"py-3 px-4",children:"Self only"}),e.jsx("td",{className:"py-3 px-4 text-violet-400",children:"Joint (Img+Txt)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4",children:"Gating"}),e.jsx("td",{className:"py-3 px-4",children:"No"}),e.jsx("td",{className:"py-3 px-4 text-green-400",children:"Yes (Œ±=0 init)"}),e.jsx("td",{className:"py-3 px-4 text-green-400",children:"Yes (Œ±=0 init)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4",children:"MLP Streams"}),e.jsx("td",{className:"py-3 px-4",children:"1 (shared)"}),e.jsx("td",{className:"py-3 px-4",children:"1 (shared)"}),e.jsx("td",{className:"py-3 px-4 text-cyan-600 dark:text-cyan-400",children:"2 (separate)"})]})]})]})})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"DiT Block in Code"}),e.jsx("div",{className:"bg-black/50 rounded-lg p-4 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700 dark:text-gray-300",children:`class DiTBlock(nn.Module):
    def __init__(self, hidden_size, num_heads, mlp_ratio=4.0):
        super().__init__()
        self.norm1 = AdaLayerNorm(hidden_size)  # AdaLN instead of LayerNorm
        self.attn = Attention(hidden_size, num_heads)
        self.norm2 = AdaLayerNorm(hidden_size)
        self.mlp = MLP(hidden_size, int(hidden_size * mlp_ratio))
        
        # Gating parameters (initialized to 0)
        self.gate_attn = nn.Parameter(torch.zeros(hidden_size))
        self.gate_mlp = nn.Parameter(torch.zeros(hidden_size))
    
    def forward(self, x, c):
        # c = conditioning embedding (timestep + text pooled)
        
        # Attention with AdaLN and gating
        x = x + self.gate_attn * self.attn(self.norm1(x, c))
        
        # MLP with AdaLN and gating
        x = x + self.gate_mlp * self.mlp(self.norm2(x, c))
        
        return x`})})]})]})}function R(){const[a,d]=o.useState(500),[l,t]=o.useState(!1),s=o.useRef(null),n=1+a/1e3*.5,r=a/1e3*.3-.15,i=Math.min(.9,a/1e3);return o.useEffect(()=>(l?s.current=M.to({},{duration:.05,repeat:-1,onRepeat:()=>{d(m=>{const x=m-5;return x<0?1e3:x})}}):s.current&&s.current.kill(),()=>{s.current&&s.current.kill()}),[l]),e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[e.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"AdaLN-Zero"}),": Adaptive Layer Normalization"]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400",children:"How DiT injects timestep and class conditioning into the model"})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex justify-center gap-4 mb-6",children:[e.jsxs("button",{onClick:()=>t(!l),className:"px-4 py-2 rounded-lg bg-pink-600 hover:bg-pink-500 flex items-center gap-2",children:[l?e.jsx(I,{size:18}):e.jsx(B,{size:18}),l?"Pause":"Animate Denoising"]}),e.jsxs("button",{onClick:()=>{d(1e3),t(!1)},className:"px-4 py-2 rounded-lg bg-white/10 hover:bg-white/20 flex items-center gap-2",children:[e.jsx(w,{size:18}),"Reset"]})]}),e.jsxs("div",{className:"mb-8",children:[e.jsxs("label",{className:"text-sm text-gray-800 dark:text-gray-400 block mb-2",children:["Timestep t: ",e.jsx("span",{className:"text-pink-600 dark:text-pink-400 font-bold",children:a})," / 1000"]}),e.jsx("input",{type:"range",min:"0",max:"1000",value:a,onChange:m=>d(parseInt(m.target.value)),className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-700 dark:text-gray-500 mt-1",children:[e.jsx("span",{children:"Clean (t=0)"}),e.jsx("span",{children:"Noisy (t=1000)"})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-xl p-6",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"w-32 h-20 rounded-xl bg-gradient-to-br from-amber-600 to-orange-600 flex flex-col items-center justify-center mb-2",children:[e.jsx("span",{className:"text-xs text-white/70",children:"Conditioning"}),e.jsx("span",{className:"text-lg font-bold",children:"c = t + y"})]}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400",children:"timestep + class/text"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-16 rounded-lg bg-gradient-to-br from-purple-600 to-violet-600 flex items-center justify-center mb-2",children:e.jsx("span",{className:"text-sm font-bold",children:"MLP"})}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400",children:"Learn parameters"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-pink-600 to-rose-600 flex flex-col items-center justify-center transition-all",style:{transform:`scale(${.8+n*.2})`},children:[e.jsx("span",{className:"text-xs",children:"Œ≥ (scale)"}),e.jsx("span",{className:"text-lg font-bold",children:n.toFixed(2)})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-blue-600 to-cyan-600 flex flex-col items-center justify-center transition-all",style:{transform:`translateY(${r*20}px)`},children:[e.jsx("span",{className:"text-xs",children:"Œ≤ (shift)"}),e.jsx("span",{className:"text-lg font-bold",children:r.toFixed(2)})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("div",{className:"w-16 h-16 rounded-lg bg-gradient-to-br from-green-600 to-emerald-600 flex flex-col items-center justify-center transition-all",style:{opacity:.3+i*.7},children:[e.jsx("span",{className:"text-xs",children:"Œ± (gate)"}),e.jsx("span",{className:"text-lg font-bold",children:i.toFixed(2)})]})})]})]}),e.jsxs("div",{className:"mt-8 text-center p-4 bg-white/5 rounded-xl",children:[e.jsxs("p",{className:"text-lg font-mono",children:["AdaLN(x, c) = Œ≥(c) √ó ",e.jsx("span",{className:"text-yellow-400",children:"LayerNorm(x)"})," + Œ≤(c)"]}),e.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-400 mt-2",children:["Output is then scaled by gate Œ±: ",e.jsx("span",{className:"text-green-400",children:"Œ±(c)"})," √ó output"]})]})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-black/30 rounded-xl p-5 border border-white/10",children:[e.jsx("h3",{className:"font-bold text-pink-600 dark:text-pink-400 mb-3",children:"üéØ Why Not Cross-Attention?"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:"Traditional U-Net uses cross-attention to inject text. DiT instead:"}),e.jsxs("ul",{className:"text-sm text-gray-800 dark:text-gray-400 space-y-1",children:[e.jsxs("li",{children:["‚Ä¢ Modulates ",e.jsx("em",{children:"all"})," features, not just attended ones"]}),e.jsx("li",{children:"‚Ä¢ More parameter efficient"}),e.jsx("li",{children:"‚Ä¢ Works well with scalar conditions (timestep, class)"}),e.jsx("li",{children:"‚Ä¢ Simpler architecture"})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-xl p-5 border border-white/10",children:[e.jsx("h3",{className:"font-bold text-green-400 mb-3",children:"üéöÔ∏è Why Zero Initialization?"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-3",children:'The "Zero" in AdaLN-Zero refers to initializing gates Œ± to 0:'}),e.jsxs("ul",{className:"text-sm text-gray-800 dark:text-gray-400 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ At init, each block is an identity function"}),e.jsx("li",{children:"‚Ä¢ Gradients flow through residual connections"}),e.jsx("li",{children:"‚Ä¢ Model gradually learns to use each layer"}),e.jsx("li",{children:"‚Ä¢ More stable training for deep networks"})]})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"What Gets Injected via AdaLN?"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-amber-900/20 rounded-xl p-4 border border-amber-500/30",children:[e.jsx("h4",{className:"font-bold text-amber-600 dark:text-amber-400 mb-2",children:"‚è±Ô∏è Timestep t"}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400",children:"Sinusoidal embedding of the noise level. Critical for knowing how much to denoise."}),e.jsx("div",{className:"mt-2 font-mono text-xs text-gray-700 dark:text-gray-500",children:"t_emb = sin/cos(t * freqs)"})]}),e.jsxs("div",{className:"bg-purple-900/20 rounded-xl p-4 border border-purple-500/30",children:[e.jsx("h4",{className:"font-bold text-purple-600 dark:text-purple-400 mb-2",children:"üè∑Ô∏è Class Label y"}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400",children:"For class-conditional generation (ImageNet). Learned embedding per class."}),e.jsx("div",{className:"mt-2 font-mono text-xs text-gray-700 dark:text-gray-500",children:"y_emb = embed_table[class_id]"})]}),e.jsxs("div",{className:"bg-blue-900/20 rounded-xl p-4 border border-blue-500/30",children:[e.jsx("h4",{className:"font-bold text-blue-600 dark:text-blue-400 mb-2",children:"üìù Pooled Text (SD3)"}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400",children:"CLIP pooled embedding provides global semantic context for text-to-image."}),e.jsx("div",{className:"mt-2 font-mono text-xs text-gray-700 dark:text-gray-500",children:"txt_pool = clip.encode(text)[0]"})]})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"AdaLN Implementation"}),e.jsx("div",{className:"bg-black/50 rounded-lg p-4 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700 dark:text-gray-300",children:`class AdaLayerNorm(nn.Module):
    def __init__(self, hidden_size, cond_size=None):
        super().__init__()
        cond_size = cond_size or hidden_size
        
        # LayerNorm (learnable affine disabled - we compute our own)
        self.norm = nn.LayerNorm(hidden_size, elementwise_affine=False)
        
        # MLP to produce gamma, beta, alpha from conditioning
        self.adaLN_modulation = nn.Sequential(
            nn.SiLU(),
            nn.Linear(cond_size, 3 * hidden_size)  # Œ≥, Œ≤, Œ±
        )
        
        # Zero-initialize the final layer
        nn.init.zeros_(self.adaLN_modulation[-1].weight)
        nn.init.zeros_(self.adaLN_modulation[-1].bias)
    
    def forward(self, x, c):
        # c: (B, cond_size) conditioning embedding
        # x: (B, seq_len, hidden_size) features
        
        # Get gamma, beta, alpha from conditioning
        gamma, beta, alpha = self.adaLN_modulation(c).chunk(3, dim=-1)
        # Each: (B, hidden_size) -> broadcast to (B, 1, hidden_size)
        
        # Apply adaptive layer norm
        x_norm = self.norm(x)
        x_out = gamma.unsqueeze(1) * x_norm + beta.unsqueeze(1)
        
        return x_out, alpha  # Return alpha for gating outside`})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-900/30 to-orange-900/30 rounded-xl p-6 border border-pink-500/30",children:[e.jsx("h3",{className:"font-bold text-pink-300 mb-4",children:"AdaLN vs Standard LayerNorm"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400 mb-2",children:"Standard LayerNorm:"}),e.jsx("div",{className:"bg-black/30 p-3 rounded-lg font-mono text-sm",children:"y = Œ≥ √ó norm(x) + Œ≤"}),e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-500 mt-2",children:"Œ≥, Œ≤ are learned parameters (same for all inputs)"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400 mb-2",children:"Adaptive LayerNorm:"}),e.jsxs("div",{className:"bg-black/30 p-3 rounded-lg font-mono text-sm",children:["y = ",e.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"Œ≥(c)"})," √ó norm(x) + ",e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:"Œ≤(c)"})]}),e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-500 mt-2",children:"Œ≥(c), Œ≤(c) are functions of conditioning c"})]})]})]})]})}function E(){const[a,d]=o.useState("timestep"),l={timestep:{name:"Timestep Embedding",icon:y,color:"from-amber-500 to-orange-500",description:"Encodes the current noise level using sinusoidal positional encoding",howItWorks:["Input timestep t ‚àà [0, 1000]","Apply sinusoidal embedding (like transformer positional encoding)","Pass through MLP to get hidden representation","Add to class/text embedding"],formula:`emb[2i] = sin(t / 10000^(2i/d))
emb[2i+1] = cos(t / 10000^(2i/d))`,whyImportant:"The model needs to know how noisy the input is to predict the correct amount of noise to remove."},text:{name:"Text Conditioning (SD3)",icon:N,color:"from-blue-500 to-violet-500",description:"Injects text information through both AdaLN and joint attention",howItWorks:["Encode text with CLIP-L, CLIP-G, T5","Pooled CLIP embeddings ‚Üí AdaLN conditioning","Sequence embeddings ‚Üí joint attention","Both paths provide text guidance"],formula:`c = MLP(t_emb + pooled_clip)
Joint: [img_tokens; txt_tokens]`,whyImportant:"Dual path ensures both global semantics (AdaLN) and fine-grained alignment (attention)."},class:{name:"Class Conditioning",icon:u,color:"from-green-500 to-emerald-500",description:"For ImageNet-style class-conditional generation",howItWorks:["Class label y ‚àà [0, 999]","Look up learned embedding from table","Add to timestep embedding","Inject via AdaLN"],formula:"c = t_emb + class_embed[y]",whyImportant:"Simple but effective for categorical conditioning. Foundation for CFG."}},t=l[a],s=t.icon;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[e.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"Conditioning"})," in DiT"]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400",children:"How different signals guide the generation process"})]}),e.jsx("div",{className:"flex justify-center gap-4 flex-wrap",children:Object.entries(l).map(([n,r])=>{const i=r.icon;return e.jsxs("button",{onClick:()=>d(n),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all ${a===n?`bg-gradient-to-r ${r.color} text-white`:"bg-white/10 text-gray-800 dark:text-gray-400 hover:bg-white/20"}`,children:[e.jsx(i,{size:18}),r.name]},n)})}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${t.color} flex items-center justify-center`,children:e.jsx(s,{size:24})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold",children:t.name}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400",children:t.description})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-700 dark:text-gray-300 mb-3",children:"How It Works"}),e.jsx("ol",{className:"space-y-2",children:t.howItWorks.map((n,r)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm",children:[e.jsx("span",{className:"w-6 h-6 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0 text-xs",children:r+1}),e.jsx("span",{className:"text-gray-700 dark:text-gray-300",children:n})]},r))})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Formula"}),e.jsx("div",{className:"bg-black/50 rounded-lg p-3 font-mono text-sm",children:e.jsx("pre",{className:"text-pink-300 whitespace-pre-wrap",children:t.formula})})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-700 dark:text-gray-300 mb-2",children:"Why Important?"}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400",children:t.whyImportant})]})]})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-6 text-center",children:"Conditioning Flow in SD3"}),e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex justify-center gap-8 flex-wrap",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-16 rounded-xl bg-gradient-to-br from-amber-600 to-orange-600 flex items-center justify-center mb-2",children:e.jsx(y,{size:24})}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400",children:"Timestep t"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-24 h-16 rounded-xl bg-gradient-to-br from-blue-600 to-violet-600 flex items-center justify-center mb-2",children:e.jsx(N,{size:24})}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400",children:"CLIP Pooled"})]})]}),e.jsx("div",{className:"text-2xl text-gray-700 dark:text-gray-500",children:"‚Üì +"}),e.jsx("div",{className:"w-48 h-12 rounded-xl bg-gradient-to-r from-pink-600 to-rose-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"c = t_emb + pooled"})}),e.jsx("div",{className:"text-2xl text-gray-700 dark:text-gray-500",children:"‚Üì"}),e.jsx("div",{className:"w-32 h-12 rounded-xl bg-gradient-to-r from-purple-600 to-violet-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"MLP"})}),e.jsx("div",{className:"text-2xl text-gray-700 dark:text-gray-500",children:"‚Üì"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-pink-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"Œ≥"})}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400 mt-1",children:"Scale"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"Œ≤"})}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400 mt-1",children:"Shift"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-lg bg-green-600 flex items-center justify-center",children:e.jsx("span",{className:"font-bold",children:"Œ±"})}),e.jsx("p",{className:"text-xs text-gray-800 dark:text-gray-400 mt-1",children:"Gate"})]})]}),e.jsx("div",{className:"text-2xl text-gray-700 dark:text-gray-500",children:"‚Üì"}),e.jsx("div",{className:"w-64 h-12 rounded-xl bg-gradient-to-r from-gray-700 to-gray-600 flex items-center justify-center",children:e.jsx("span",{className:"text-sm",children:"Apply to each DiT block"})})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Classifier-Free Guidance (CFG)"}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400 mb-4",children:"During inference, DiT uses CFG to strengthen conditioning:"}),e.jsx("div",{className:"bg-black/50 rounded-lg p-4 font-mono text-sm mb-4",children:e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["Œµ_guided = Œµ_uncond + ",e.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"scale"})," √ó (Œµ_cond - Œµ_uncond)"]})}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4",children:[e.jsx("p",{className:"font-bold text-gray-800 dark:text-gray-400 mb-2",children:"scale = 1.0"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-500",children:"Normal conditioning, no guidance"})]}),e.jsxs("div",{className:"bg-pink-800/30 rounded-xl p-4 border border-pink-500/30",children:[e.jsx("p",{className:"font-bold text-pink-600 dark:text-pink-400 mb-2",children:"scale = 5-7"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-500",children:"Recommended range for SD3"})]}),e.jsxs("div",{className:"bg-red-800/30 rounded-xl p-4",children:[e.jsxs("p",{className:"font-bold text-red-400 mb-2",children:["scale ",">","  10"]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-500",children:"Over-saturation, artifacts"})]})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-900/30 to-orange-900/30 rounded-xl p-6 border border-pink-500/30",children:[e.jsx("h3",{className:"font-bold text-pink-300 mb-4",children:"DiT vs U-Net Conditioning"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/20",children:[e.jsx("th",{className:"py-2 px-4 text-left text-gray-800 dark:text-gray-400",children:"Aspect"}),e.jsx("th",{className:"py-2 px-4 text-left text-gray-800 dark:text-gray-400",children:"U-Net (SD1.5/SDXL)"}),e.jsx("th",{className:"py-2 px-4 text-left text-pink-600 dark:text-pink-400",children:"DiT (SD3)"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/10",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-4",children:"Timestep"}),e.jsx("td",{className:"py-2 px-4",children:"Added to residual blocks"}),e.jsx("td",{className:"py-2 px-4",children:"AdaLN modulation"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-4",children:"Text (sequence)"}),e.jsx("td",{className:"py-2 px-4",children:"Cross-attention layers"}),e.jsx("td",{className:"py-2 px-4",children:"Joint attention"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-4",children:"Text (global)"}),e.jsx("td",{className:"py-2 px-4",children:"Pooled to timestep MLP"}),e.jsx("td",{className:"py-2 px-4",children:"Pooled to AdaLN"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-2 px-4",children:"# Injection Points"}),e.jsx("td",{className:"py-2 px-4",children:"Varies by layer type"}),e.jsx("td",{className:"py-2 px-4",children:"Every block (uniform)"})]})]})]})})]})]})}function Q(){const[a,d]=o.useState("XL/2"),l={"S/2":{params:33,gflops:1.4,fid:68.4,depth:12,width:384,heads:6},"B/2":{params:130,gflops:5.6,fid:43.5,depth:12,width:768,heads:12},"L/2":{params:458,gflops:20,fid:23.3,depth:24,width:1024,heads:16},"XL/2":{params:675,gflops:29,fid:9.62,depth:28,width:1152,heads:16}},t=l[a],s=675,n=70;return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[e.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"Scaling"})," Laws"]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400",children:"How DiT performance improves with model size"})]}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-900/30 to-orange-900/30 rounded-xl p-6 border border-pink-500/30",children:[e.jsxs("h3",{className:"font-bold text-pink-300 mb-2 flex items-center gap-2",children:[e.jsx(A,{size:20}),"The Key Finding"]}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["DiT follows ",e.jsx("strong",{children:"predictable scaling laws"})," similar to LLMs. Doubling compute consistently improves FID score. This is why SD3 and Flux use massive DiT models (2B-12B parameters)."]})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"DiT Model Variants"}),e.jsx("div",{className:"flex justify-center gap-3 mb-6 flex-wrap",children:Object.keys(l).map(r=>e.jsxs("button",{onClick:()=>d(r),className:`px-4 py-2 rounded-lg transition-all ${a===r?"bg-gradient-to-r from-pink-600 to-orange-600 text-white":"bg-white/10 text-gray-800 dark:text-gray-400 hover:bg-white/20"}`,children:["DiT-",r]},r))}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-pink-900/30 rounded-xl p-4 text-center border border-pink-500/30",children:[e.jsxs("p",{className:"text-3xl font-bold text-pink-600 dark:text-pink-400",children:[t.params,"M"]}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400",children:"Parameters"})]}),e.jsxs("div",{className:"bg-orange-900/30 rounded-xl p-4 text-center border border-orange-500/30",children:[e.jsx("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:t.gflops}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400",children:"GFLOPs"})]}),e.jsxs("div",{className:"bg-green-900/30 rounded-xl p-4 text-center border border-green-500/30",children:[e.jsx("p",{className:"text-3xl font-bold text-green-400",children:t.fid}),e.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-400",children:"FID (‚Üì better)"})]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center text-sm",children:[e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-800 dark:text-gray-400",children:"Depth"}),e.jsxs("p",{className:"text-lg font-bold",children:[t.depth," layers"]})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-800 dark:text-gray-400",children:"Width"}),e.jsx("p",{className:"text-lg font-bold",children:t.width})]}),e.jsxs("div",{className:"bg-white/5 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-800 dark:text-gray-400",children:"Heads"}),e.jsx("p",{className:"text-lg font-bold",children:t.heads})]})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-6",children:"Model Comparison"}),e.jsx("div",{className:"space-y-6",children:Object.entries(l).map(([r,i])=>e.jsx("div",{className:`transition-all ${a===r?"scale-105":"opacity-70"}`,children:e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsxs("span",{className:"w-20 font-bold text-gray-700 dark:text-gray-300",children:["DiT-",r]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-500 w-16",children:"Params:"}),e.jsx("div",{className:"flex-1 bg-white/10 rounded-full h-4",children:e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-pink-400 h-4 rounded-full flex items-center justify-end pr-2",style:{width:`${i.params/s*100}%`},children:e.jsxs("span",{className:"text-xs font-bold",children:[i.params,"M"]})})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-xs text-gray-700 dark:text-gray-500 w-16",children:"FID:"}),e.jsx("div",{className:"flex-1 bg-white/10 rounded-full h-4",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-400 h-4 rounded-full flex items-center justify-end pr-2",style:{width:`${(1-i.fid/n)*100}%`},children:e.jsx("span",{className:"text-xs font-bold",children:i.fid})})})]})]})]})},r))})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"FID vs Compute (Log Scale)"}),e.jsxs("div",{className:"h-64 relative bg-black/30 rounded-xl p-4",children:[e.jsxs("div",{className:"absolute left-0 top-0 bottom-0 w-12 flex flex-col justify-between text-xs text-gray-700 dark:text-gray-500",children:[e.jsx("span",{children:"70"}),e.jsx("span",{children:"35"}),e.jsx("span",{children:"10"})]}),e.jsx("div",{className:"absolute left-12 right-4 top-4 bottom-8",children:e.jsxs("div",{className:"h-full border-l border-b border-white/10 relative",children:[Object.entries(l).map(([r,i],m)=>{const x=Math.log(i.gflops)/Math.log(30)*100,p=(n-i.fid)/n*100;return e.jsx("div",{className:`absolute w-4 h-4 rounded-full cursor-pointer transition-all ${a===r?"bg-pink-500 scale-150":"bg-pink-400"}`,style:{left:`${x}%`,bottom:`${p}%`,transform:"translate(-50%, 50%)"},onClick:()=>d(r),children:e.jsx("span",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-xs whitespace-nowrap",children:r})},r)}),e.jsx("svg",{className:"absolute inset-0 overflow-visible",children:e.jsx("path",{d:"M 10,85 Q 40,50 90,10",fill:"none",stroke:"rgba(236, 72, 153, 0.3)",strokeWidth:"2",strokeDasharray:"4"})})]})}),e.jsx("div",{className:"absolute bottom-0 left-12 right-4 text-center text-xs text-gray-700 dark:text-gray-500",children:"GFLOPs (log scale)"})]}),e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-500 mt-2 text-center",children:"Each doubling of compute roughly halves FID error (log-linear relationship)"})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"SD3 Model Family"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-white/20",children:[e.jsx("th",{className:"py-3 px-4 text-left text-gray-800 dark:text-gray-400",children:"Model"}),e.jsx("th",{className:"py-3 px-4 text-left text-gray-800 dark:text-gray-400",children:"Parameters"}),e.jsx("th",{className:"py-3 px-4 text-left text-gray-800 dark:text-gray-400",children:"Layers"}),e.jsx("th",{className:"py-3 px-4 text-left text-gray-800 dark:text-gray-400",children:"Hidden Dim"}),e.jsx("th",{className:"py-3 px-4 text-left text-gray-800 dark:text-gray-400",children:"Use Case"})]})}),e.jsxs("tbody",{className:"divide-y divide-white/10",children:[e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 text-pink-600 dark:text-pink-400",children:"SD3-Medium"}),e.jsx("td",{className:"py-3 px-4",children:"2B"}),e.jsx("td",{className:"py-3 px-4",children:"24"}),e.jsx("td",{className:"py-3 px-4",children:"1536"}),e.jsx("td",{className:"py-3 px-4 text-green-400",children:"Consumer GPUs (8GB+)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 text-purple-600 dark:text-purple-400",children:"SD3"}),e.jsx("td",{className:"py-3 px-4",children:"3B"}),e.jsx("td",{className:"py-3 px-4",children:"32"}),e.jsx("td",{className:"py-3 px-4",children:"1920"}),e.jsx("td",{className:"py-3 px-4 text-yellow-400",children:"Mid-range (12GB+)"})]}),e.jsxs("tr",{children:[e.jsx("td",{className:"py-3 px-4 text-orange-600 dark:text-orange-400",children:"SD3.5-Large"}),e.jsx("td",{className:"py-3 px-4",children:"8B"}),e.jsx("td",{className:"py-3 px-4",children:"38"}),e.jsx("td",{className:"py-3 px-4",children:"2432"}),e.jsx("td",{className:"py-3 px-4 text-red-400",children:"High-end (24GB+)"})]})]})]})})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-900/20 rounded-xl p-5 border border-green-500/30",children:[e.jsx("h3",{className:"font-bold text-green-400 mb-3",children:"‚úì Why Scaling Works"}),e.jsxs("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-2",children:[e.jsx("li",{children:"‚Ä¢ More parameters = more capacity to model data"}),e.jsx("li",{children:"‚Ä¢ Transformers parallelize efficiently"}),e.jsx("li",{children:"‚Ä¢ Uniform architecture (no bottlenecks)"}),e.jsx("li",{children:"‚Ä¢ Proven by LLM research (GPT, LLaMA)"})]})]}),e.jsxs("div",{className:"bg-orange-900/20 rounded-xl p-5 border border-orange-500/30",children:[e.jsx("h3",{className:"font-bold text-orange-600 dark:text-orange-400 mb-3",children:"‚ö†Ô∏è Practical Limits"}),e.jsxs("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-2",children:[e.jsx("li",{children:"‚Ä¢ Training cost grows substantially"}),e.jsx("li",{children:"‚Ä¢ Inference speed decreases"}),e.jsx("li",{children:"‚Ä¢ Memory requirements increase"}),e.jsx("li",{children:"‚Ä¢ Diminishing returns eventually"})]})]})]})]})}function Z(){const[a,d]=o.useState(0),[l,t]=o.useState(null),[s,n]=o.useState(!1),[r,i]=o.useState(0),[m,x]=o.useState(!1),[p,f]=o.useState(!1),c=[{question:"What does DiT stand for?",options:["Distributed Image Transformer","Diffusion Transformer","Deep Image Training","Denoising Isotropic Transformer"],correct:1,explanation:"DiT stands for Diffusion Transformer - a transformer-based architecture for diffusion models that replaces the U-Net."},{question:"What is the main innovation of AdaLN (Adaptive Layer Normalization)?",options:["It's faster than regular LayerNorm","It uses learned Œ≥, Œ≤ conditioned on timestep/class","It doesn't require gradients","It works without normalization"],correct:1,explanation:"AdaLN learns to produce scale (Œ≥) and shift (Œ≤) parameters as functions of conditioning (timestep, class, text), allowing dynamic modulation."},{question:"Why is zero-initialization important in AdaLN-Zero?",options:["To make training faster","To reduce memory usage","To start as identity and gradually learn each layer's contribution","To prevent NaN gradients"],correct:2,explanation:"Zero-initializing the gate parameters makes each block start as identity, allowing residual connections to flow and enabling stable training of deep networks."},{question:"How does DiT inject text conditioning compared to U-Net?",options:["Both use only cross-attention","DiT uses cross-attention, U-Net uses AdaLN","DiT uses AdaLN + joint attention, U-Net uses cross-attention","Neither uses text conditioning"],correct:2,explanation:"SD3's DiT uses AdaLN for global context (pooled CLIP) and joint attention for sequence-level text. U-Net uses cross-attention to query text tokens."},{question:"What is the 'patchify' step in DiT?",options:["Adding noise to patches","Dividing the latent into non-overlapping patches as tokens","Creating image patches for data augmentation","Interpolating between patches"],correct:1,explanation:"Patchify divides the latent representation into non-overlapping patches (e.g., 2√ó2), which become the token sequence for the transformer."},{question:"According to DiT's scaling laws, what happens when you double compute?",options:["FID score roughly halves (improves)","Training time doubles with no quality gain","The model becomes unstable","Memory usage decreases"],correct:0,explanation:"DiT follows predictable scaling laws where doubling compute approximately halves the FID error, similar to language model scaling."},{question:"What is the patch size typically used in SD3?",options:["1√ó1","2√ó2","4√ó4","16√ó16"],correct:1,explanation:"SD3 uses 2√ó2 patch size on the latent space, meaning 4 latent values (2√ó2√ó16 channels) become one token."},{question:"Why did DiT replace U-Net as the backbone?",options:["U-Net is patented","DiT is smaller and faster","DiT scales better with more parameters","U-Net doesn't work with diffusion"],correct:2,explanation:"Transformers (DiT) scale predictably with more parameters - larger models consistently improve quality, unlike U-Nets which hit diminishing returns."}],_=g=>{t(g),n(!0),g===c[a].correct&&i(r+1)},L=()=>{a<c.length-1?(d(a+1),t(null),n(!1)):x(!0)},T=()=>{d(0),t(null),n(!1),i(0),x(!1)};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Practice Lab: ",e.jsx("span",{className:"text-pink-600 dark:text-pink-400",children:"DiT Architecture"})]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400",children:"Test your understanding and explore hands-on exercises"})]}),e.jsxs("div",{className:"flex justify-center gap-4",children:[e.jsxs("button",{onClick:()=>f(!1),className:`px-6 py-3 rounded-xl flex items-center gap-2 transition-all ${p?"bg-white/10 text-gray-800 dark:text-gray-400 hover:bg-white/20":"bg-pink-600 text-white"}`,children:[e.jsx(C,{size:18}),"Quiz"]}),e.jsxs("button",{onClick:()=>f(!0),className:`px-6 py-3 rounded-xl flex items-center gap-2 transition-all ${p?"bg-pink-600 text-white":"bg-white/10 text-gray-800 dark:text-gray-400 hover:bg-white/20"}`,children:[e.jsx(O,{size:18}),"Code Exercises"]})]}),p?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-pink-600 flex items-center justify-center text-sm",children:"1"}),"Implement AdaLN from Scratch"]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400 mb-4",children:"Build an Adaptive Layer Normalization module."}),e.jsx("div",{className:"bg-black/50 rounded-lg p-4 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700 dark:text-gray-300",children:`import torch
import torch.nn as nn

class AdaLayerNorm(nn.Module):
    def __init__(self, hidden_size: int, cond_size: int):
        super().__init__()
        # TODO: Create a LayerNorm without learnable affine
        # self.norm = nn.LayerNorm(hidden_size, elementwise_affine=False)
        
        # TODO: Create MLP to produce gamma, beta, alpha
        # Output size should be 3 * hidden_size
        # self.modulation = nn.Sequential(...)
        
        # TODO: Zero-initialize the output layer
        pass
    
    def forward(self, x, c):
        # x: (B, N, D) - features
        # c: (B, D) - conditioning
        
        # TODO: Get gamma, beta, alpha from modulation MLP
        # TODO: Apply adaptive normalization
        # return normalized_x, alpha
        pass

# Test
B, N, D = 2, 100, 256
x = torch.randn(B, N, D)
c = torch.randn(B, D)
# adaln = AdaLayerNorm(D, D)
# out, alpha = adaln(x, c)
# print(f"Output shape: {out.shape}, Alpha shape: {alpha.shape}")`})})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-orange-600 flex items-center justify-center text-sm",children:"2"}),"Implement Patchify/Unpatchify"]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400 mb-4",children:"Convert between spatial latent and sequence of patch tokens."}),e.jsx("div",{className:"bg-black/50 rounded-lg p-4 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700 dark:text-gray-300",children:`import torch
import torch.nn as nn

def patchify(x, patch_size=2):
    """
    Convert (B, C, H, W) latent to (B, N, patch_dim) tokens
    where N = (H/patch_size) * (W/patch_size)
    and patch_dim = C * patch_size * patch_size
    """
    B, C, H, W = x.shape
    # TODO: Reshape to extract patches
    # Hint: Use reshape and permute
    pass

def unpatchify(tokens, H, W, patch_size=2):
    """
    Convert (B, N, patch_dim) tokens back to (B, C, H, W) latent
    """
    B, N, patch_dim = tokens.shape
    # TODO: Reshape back to spatial
    pass

# Test
B, C, H, W = 2, 16, 64, 64  # SD3-like latent
patch_size = 2
x = torch.randn(B, C, H, W)

# tokens = patchify(x, patch_size)
# print(f"Tokens shape: {tokens.shape}")  # Should be (2, 1024, 64)

# reconstructed = unpatchify(tokens, H, W, patch_size)
# print(f"Reconstructed shape: {reconstructed.shape}")  # Should be (2, 16, 64, 64)
# print(f"Matches original: {torch.allclose(x, reconstructed)}")`})})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-violet-600 flex items-center justify-center text-sm",children:"3"}),"Build a Simple DiT Block"]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400 mb-4",children:"Combine attention, MLP, and AdaLN into a full DiT block."}),e.jsx("div",{className:"bg-black/50 rounded-lg p-4 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700 dark:text-gray-300",children:`import torch
import torch.nn as nn

class DiTBlock(nn.Module):
    def __init__(self, hidden_size: int, num_heads: int, mlp_ratio: float = 4.0):
        super().__init__()
        # TODO: Create two AdaLN layers
        # self.norm1 = AdaLayerNorm(hidden_size)
        # self.norm2 = AdaLayerNorm(hidden_size)
        
        # TODO: Create multi-head self-attention
        # self.attn = nn.MultiheadAttention(hidden_size, num_heads, batch_first=True)
        
        # TODO: Create MLP (hidden_size -> mlp_ratio*hidden_size -> hidden_size)
        # self.mlp = nn.Sequential(...)
        
        pass
    
    def forward(self, x, c):
        # x: (B, N, D) - features
        # c: (B, D) - conditioning
        
        # TODO: Pre-norm attention with residual and gating
        # norm_x, alpha1 = self.norm1(x, c)
        # attn_out, _ = self.attn(norm_x, norm_x, norm_x)
        # x = x + alpha1.unsqueeze(1) * attn_out
        
        # TODO: Pre-norm MLP with residual and gating
        # norm_x, alpha2 = self.norm2(x, c)
        # mlp_out = self.mlp(norm_x)
        # x = x + alpha2.unsqueeze(1) * mlp_out
        
        return x

# Test
# block = DiTBlock(256, num_heads=8)
# x = torch.randn(2, 100, 256)
# c = torch.randn(2, 256)
# out = block(x, c)
# print(f"Output shape: {out.shape}")`})})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-cyan-600 flex items-center justify-center text-sm",children:"4"}),"Compute FLOPs for DiT Variants"]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400 mb-4",children:"Calculate the computational cost for different model sizes."}),e.jsx("div",{className:"bg-black/50 rounded-lg p-4 font-mono text-sm overflow-x-auto",children:e.jsx("pre",{className:"text-gray-700 dark:text-gray-300",children:`def compute_dit_flops(
    seq_len: int,      # Number of tokens
    hidden_size: int,  # Model dimension
    num_heads: int,    # Attention heads
    num_layers: int,   # Number of blocks
    mlp_ratio: float = 4.0
) -> float:
    """
    Compute approximate FLOPs for a DiT forward pass.
    """
    # Attention FLOPs per layer:
    # - Q, K, V projections: 3 * seq_len * hidden_size^2
    # - Attention scores: 2 * seq_len^2 * hidden_size
    # - Output projection: seq_len * hidden_size^2
    
    # TODO: Calculate attention FLOPs
    attn_flops = 0
    
    # MLP FLOPs per layer:
    # - Up projection: seq_len * hidden_size * (mlp_ratio * hidden_size)
    # - Down projection: same
    
    # TODO: Calculate MLP FLOPs
    mlp_flops = 0
    
    # Total per layer
    layer_flops = attn_flops + mlp_flops
    
    # Total for all layers
    total_flops = num_layers * layer_flops
    
    return total_flops / 1e9  # Return in GFLOPs

# Compare DiT variants
models = {
    'DiT-S/2': {'hidden': 384, 'heads': 6, 'layers': 12},
    'DiT-B/2': {'hidden': 768, 'heads': 12, 'layers': 12},
    'DiT-L/2': {'hidden': 1024, 'heads': 16, 'layers': 24},
    'DiT-XL/2': {'hidden': 1152, 'heads': 16, 'layers': 28},
}

seq_len = 256  # 16x16 patches from 256x256 image with patch_size=16
for name, config in models.items():
    # gflops = compute_dit_flops(seq_len, config['hidden'], 
    #                           config['heads'], config['layers'])
    # print(f"{name}: {gflops:.2f} GFLOPs")
    pass`})})]})]}):e.jsx("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:m?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(W,{className:"w-20 h-20 mx-auto mb-6 text-yellow-400"}),e.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Quiz Complete!"}),e.jsxs("p",{className:"text-4xl font-bold text-pink-600 dark:text-pink-400 mb-4",children:[r," / ",c.length]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400 mb-6",children:r===c.length?"Perfect! You've mastered DiT architecture!":r>=c.length*.7?"Great job! You understand the core concepts.":"Keep learning! Review the panels and try again."}),e.jsxs("button",{onClick:T,className:"px-6 py-3 bg-pink-600 hover:bg-pink-500 rounded-xl transition-colors flex items-center gap-2 mx-auto",children:[e.jsx(w,{size:18}),"Retry Quiz"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("span",{className:"text-gray-800 dark:text-gray-400",children:["Question ",a+1," of ",c.length]}),e.jsxs("span",{className:"text-pink-600 dark:text-pink-400",children:["Score: ",r]})]}),e.jsx("div",{className:"w-full bg-white/10 rounded-full h-2 mb-8",children:e.jsx("div",{className:"bg-gradient-to-r from-pink-500 to-orange-500 h-2 rounded-full transition-all",style:{width:`${(a+1)/c.length*100}%`}})}),e.jsx("h3",{className:"text-xl font-bold mb-6",children:c[a].question}),e.jsx("div",{className:"space-y-3",children:c[a].options.map((g,h)=>e.jsx("button",{onClick:()=>!s&&_(h),disabled:s,className:`w-full p-4 rounded-xl text-left transition-all ${s?h===c[a].correct?"bg-green-500/30 border-green-500":h===l?"bg-red-500/30 border-red-500":"bg-white/5 border-white/10":"bg-white/10 border-white/20 hover:bg-white/20"} border`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"w-8 h-8 rounded-lg bg-white/10 flex items-center justify-center font-bold",children:String.fromCharCode(65+h)}),e.jsx("span",{children:g}),s&&h===c[a].correct&&e.jsx(F,{className:"ml-auto text-green-400",size:20}),s&&h===l&&h!==c[a].correct&&e.jsx(q,{className:"ml-auto text-red-400",size:20})]})},h))}),s&&e.jsx("div",{className:"mt-6 p-4 rounded-xl bg-pink-500/20 border border-pink-500/30",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-bold text-pink-300",children:"Explanation:"})," ",c[a].explanation]})}),s&&e.jsx("button",{onClick:L,className:"mt-6 px-6 py-3 bg-pink-600 hover:bg-pink-500 rounded-xl transition-colors",children:a<c.length-1?"Next Question":"See Results"})]})}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-900/30 to-orange-900/30 rounded-2xl p-6 border border-pink-500/30",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Key Takeaways"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-400 mt-2"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"DiT"})," replaces U-Net with a simple, uniform transformer architecture"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-orange-400 mt-2"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"AdaLN-Zero"})," injects conditioning by modulating layer norm parameters"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-violet-400 mt-2"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Patchify"})," converts images to sequences, enabling transformer processing"]})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-green-400 mt-2"}),e.jsxs("p",{className:"text-gray-700 dark:text-gray-300",children:["DiT follows ",e.jsx("strong",{children:"scaling laws"})," - larger models consistently improve quality"]})]})]})]})]})}const v=[{id:"overview",label:"1. DiT Overview",icon:S},{id:"block",label:"2. Block Structure",icon:u},{id:"adaln",label:"3. AdaLN-Zero",icon:H},{id:"conditioning",label:"4. Conditioning",icon:P},{id:"scaling",label:"5. Scaling Laws",icon:U},{id:"practice",label:"6. Practice Lab",icon:G}];function ie(){const[a,d]=o.useState("overview"),l=()=>{switch(a){case"overview":return e.jsx(k,{});case"block":return e.jsx($,{});case"adaln":return e.jsx(R,{});case"conditioning":return e.jsx(E,{});case"scaling":return e.jsx(Q,{});case"practice":return e.jsx(Z,{});default:return e.jsx(k,{})}};return e.jsxs("div",{className:"text-white",children:[e.jsx("nav",{className:"bg-black/20 px-6 py-2 flex gap-2 overflow-x-auto",children:v.map((t,s)=>{const n=t.icon,r=a===t.id,i=v.findIndex(x=>x.id===a),m=s<i;return e.jsxs("button",{onClick:()=>d(t.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all whitespace-nowrap ${r?"bg-gradient-to-r from-pink-600 to-orange-600 text-white":m?"bg-pink-500/30 text-pink-300":"bg-white/5 text-gray-800 dark:text-gray-400 hover:bg-white/10"}`,children:[e.jsx(n,{size:18}),e.jsx("span",{className:"text-sm font-medium",children:t.label})]},t.id)})}),e.jsx("main",{className:"p-6 max-w-7xl mx-auto",children:l()})]})}export{ie as default};
