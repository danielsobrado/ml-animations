import{r as i,j as o}from"./index-quAWpIA7.js";import{c as B,t as k,j as re,bu as pe,bY as ve,r as ne,B as le,f as fe,bZ as be,D as ie,be as oe,n as K,b_ as ge,o as U,L as C,Z as se,k as he,x as xe,J as ye,T as Pe,y as Y,K as q,O as W,at as V,ch as Ae,aZ as je,bt as Ee,ci as Oe,bh as we,bi as Ne,V as Ie,z as Se,cj as Te,b5 as _,U as H,W as Re,E as ke,R as Ce}from"./CategoricalChart-q5_a8qWL.js";import{c as Le,P as De,d as Ke}from"./PolarChart-BUBNkYv1.js";import{C as _e}from"./Sector-C4hPwxCr.js";import{C as Z,u as Me,a as $e,b as Fe}from"./tooltipContext-c3f7D665.js";import{S as We}from"./ActiveShapeUtils-CPNwDibL.js";import{T as Be}from"./Tooltip-YDxRvdtC.js";import"./with-selector-CsIvExq7.js";import"./Symbols-D2UkYTzA.js";import"./useElementOffset-e28GaSXW.js";function X(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function Q(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?X(Object(a),!0).forEach(function(r){Ge(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):X(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ge(e,t,a){return(t=Ve(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ve(e){var t=Ue(e,"string");return typeof t=="symbol"?t:t+""}function Ue(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ze=(e,t)=>t,z=B([Le,Ze],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),ze=[],J=(e,t,a)=>(a==null?void 0:a.length)===0?ze:a,ce=B([ve,z,J],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var n;if((t==null?void 0:t.data)!=null&&t.data.length>0?n=t.data:n=r,(!n||!n.length)&&a!=null&&(n=a.map(l=>Q(Q({},t.presentationProps),l.props))),n!=null)return n}}),Je=B([ce,z,J],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,n)=>{var l,c=k(r,t.nameKey,t.name),d;return a!=null&&(l=a[n])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=a[n].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:re(c,t.dataKey),color:d,payload:r,type:t.legendType}})}),Ye=B([ce,z,J,pe],(e,t,a,r)=>{if(!(t==null||e==null))return bt({offset:r,pieSettings:t,displayedData:e,cells:a})}),qe=["key"],He=["onMouseEnter","onClick","onMouseLeave"],Xe=["id"],Qe=["id"];function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ee(Object(a),!0).forEach(function(r){et(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function et(e,t,a){return(t=tt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tt(e){var t=at(e,"string");return typeof t=="symbol"?t:t+""}function at(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},S.apply(null,arguments)}function G(e,t){if(e==null)return{};var a,r,n=rt(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function rt(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function nt(e){var t=i.useMemo(()=>oe(e.children,Z),[e.children]),a=K(r=>Je(r,e.id,t));return a==null?null:i.createElement(ge,{legendPayload:a})}var lt=i.memo(e=>{var{dataKey:t,nameKey:a,sectors:r,stroke:n,strokeWidth:l,fill:c,name:d,hide:b,tooltipType:p}=e,u={dataDefinedOnItem:r.map(f=>f.tooltipPayload),positions:r.map(f=>f.tooltipPosition),settings:{stroke:n,strokeWidth:l,fill:c,dataKey:t,nameKey:a,name:re(d,t),hide:b,type:p,color:c,unit:""}};return i.createElement(he,{tooltipEntrySettings:u})}),it=(e,t)=>e>t?"start":e<t?"end":"middle",ot=(e,t,a)=>typeof t=="function"?_(t(e),a,a*.8):_(t,a,a*.8),st=(e,t,a)=>{var{top:r,left:n,width:l,height:c}=t,d=Te(l,c),b=n+_(e.cx,l,l/2),p=r+_(e.cy,c,c/2),u=_(e.innerRadius,d,0),f=ot(a,e.outerRadius,d),s=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:b,cy:p,innerRadius:u,outerRadius:f,maxRadius:s}},ct=(e,t)=>{var a=W(t-e),r=Math.min(Math.abs(t-e),360);return a*r};function dt(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var ut=(e,t)=>{if(i.isValidElement(e))return i.cloneElement(e,t);if(typeof e=="function")return e(t);var a=U("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,n=G(t,qe);return i.createElement(_e,S({},n,{type:"linear",className:a}))},mt=(e,t,a)=>{if(i.isValidElement(e))return i.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),i.isValidElement(r)))return r;var n=U("recharts-pie-label-text",dt(e));return i.createElement(Re,S({},t,{alignmentBaseline:"middle",className:n}),r)};function pt(e){var{sectors:t,props:a,showLabels:r}=e,{label:n,labelLine:l,dataKey:c}=a;if(!r||!n||!t)return null;var d=le(a),b=H(n),p=H(l),u=typeof n=="object"&&"offsetRadius"in n&&typeof n.offsetRadius=="number"&&n.offsetRadius||20,f=t.map((s,x)=>{var j=(s.startAngle+s.endAngle)/2,y=V(s.cx,s.cy,s.outerRadius+u,j),E=v(v(v(v({},d),s),{},{stroke:"none"},b),{},{index:x,textAnchor:it(y.x,s.cx)},y),m=v(v(v(v({},d),s),{},{fill:"none",stroke:s.fill},p),{},{index:x,points:[V(s.cx,s.cy,s.outerRadius,j),y],key:"line"});return i.createElement(se,{zIndex:ie.label,key:"label-".concat(s.startAngle,"-").concat(s.endAngle,"-").concat(s.midAngle,"-").concat(x)},i.createElement(C,null,l&&ut(l,m),mt(n,E,k(s,c))))});return i.createElement(C,{className:"recharts-pie-labels"},f)}function vt(e){var{sectors:t,props:a,showLabels:r}=e,{label:n}=a;return typeof n=="object"&&n!=null&&"position"in n?i.createElement(Se,{label:n}):i.createElement(pt,{sectors:t,props:a,showLabels:r})}function ft(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:n,shape:l,id:c}=e,d=K(je),b=K(Ee),p=K(Oe),{onMouseEnter:u,onClick:f,onMouseLeave:s}=n,x=G(n,He),j=Me(u,n.dataKey,c),y=$e(s),E=Fe(f,n.dataKey,c);return t==null||t.length===0?null:i.createElement(i.Fragment,null,t.map((m,P)=>{if((m==null?void 0:m.startAngle)===0&&(m==null?void 0:m.endAngle)===0&&t.length!==1)return null;var T=p==null||p===c,O=String(P)===d&&(b==null||n.dataKey===b)&&T,N=d?r:null,g=a&&O?a:N,h=v(v({},m),{},{stroke:m.stroke,tabIndex:-1,[Ne]:P,[we]:n.dataKey});return i.createElement(C,S({key:"sector-".concat(m==null?void 0:m.startAngle,"-").concat(m==null?void 0:m.endAngle,"-").concat(m.midAngle,"-").concat(P),tabIndex:-1,className:"recharts-pie-sector"},Ie(x,m,P),{onMouseEnter:j(m,P),onMouseLeave:y(m,P),onClick:E(m,P)}),i.createElement(We,S({option:l??g,index:P,shapeType:"sector",isActive:O},h)))}))}function bt(e){var t,{pieSettings:a,displayedData:r,cells:n,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:b,dataKey:p,nameKey:u,tooltipType:f}=a,s=Math.abs(a.minAngle),x=ct(d,b),j=Math.abs(x),y=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,E=r.filter(g=>k(g,p,0)!==0).length,m=(j>=360?E:E-1)*y,P=j-E*s-m,T=r.reduce((g,h)=>{var A=k(h,p,0);return g+(q(A)?A:0)},0),O;if(T>0){var N;O=r.map((g,h)=>{var A=k(g,p,0),R=k(g,u,h),w=st(a,l,g),M=(q(A)?A:0)/T,I,L=v(v({},g),n&&n[h]&&n[h].props);h?I=N.endAngle+W(x)*y*(A!==0?1:0):I=d;var $=I+W(x)*((A!==0?s:0)+M*P),F=(I+$)/2,D=(w.innerRadius+w.outerRadius)/2,ue=[{name:R,value:A,payload:L,dataKey:p,type:f}],me=V(w.cx,w.cy,D,F);return N=v(v(v(v({},a.presentationProps),{},{percent:M,cornerRadius:typeof c=="string"?parseFloat(c):c,name:R,tooltipPayload:ue,midAngle:F,middleRadius:D,tooltipPosition:me},L),w),{},{value:A,dataKey:p,startAngle:I,endAngle:$,payload:L,paddingAngle:W(x)*y}),N})}return O}function gt(e){var{showLabels:t,sectors:a,children:r}=e,n=i.useMemo(()=>!t||!a?[]:a.map(l=>({value:l.value,payload:l.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:l.cx,cy:l.cy,innerRadius:l.innerRadius,outerRadius:l.outerRadius,startAngle:l.startAngle,endAngle:l.endAngle,clockWise:!1},fill:l.fill})),[a,t]);return i.createElement(Ae,{value:t?n:void 0},r)}function ht(e){var{props:t,previousSectorsRef:a,id:r}=e,{sectors:n,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:b,activeShape:p,inactiveShape:u,onAnimationStart:f,onAnimationEnd:s}=t,x=xe(t,"recharts-pie-"),j=a.current,[y,E]=i.useState(!1),m=i.useCallback(()=>{typeof s=="function"&&s(),E(!1)},[s]),P=i.useCallback(()=>{typeof f=="function"&&f(),E(!0)},[f]);return i.createElement(gt,{showLabels:!y,sectors:n},i.createElement(ye,{animationId:x,begin:c,duration:d,isActive:l,easing:b,onAnimationStart:P,onAnimationEnd:m,key:x},T=>{var O=[],N=n&&n[0],g=N==null?void 0:N.startAngle;return n==null||n.forEach((h,A)=>{var R=j&&j[A],w=A>0?Pe(h,"paddingAngle",0):0;if(R){var M=Y(R.endAngle-R.startAngle,h.endAngle-h.startAngle,T),I=v(v({},h),{},{startAngle:g+w,endAngle:g+M+w});O.push(I),g=I.endAngle}else{var{endAngle:L,startAngle:$}=h,F=Y(0,L-$,T),D=v(v({},h),{},{startAngle:g+w,endAngle:g+F+w});O.push(D),g=D.endAngle}}),a.current=O,i.createElement(C,null,i.createElement(ft,{sectors:O,activeShape:p,inactiveShape:u,allOtherPieProps:t,shape:t.shape,id:r}))}),i.createElement(vt,{showLabels:!y,sectors:n,props:t}),t.children)}var xt={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:ie.area};function yt(e){var{id:t}=e,a=G(e,Xe),{hide:r,className:n,rootTabIndex:l}=e,c=i.useMemo(()=>oe(e.children,Z),[e.children]),d=K(u=>Ye(u,t,c)),b=i.useRef(null),p=U("recharts-pie",n);return r||d==null?(b.current=null,i.createElement(C,{tabIndex:l,className:p})):i.createElement(se,{zIndex:e.zIndex},i.createElement(lt,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:d,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType}),i.createElement(C,{tabIndex:l,className:p},i.createElement(ht,{props:v(v({},a),{},{sectors:d}),previousSectorsRef:b,id:t})))}function de(e){var t=ne(e,xt),{id:a}=t,r=G(t,Qe),n=le(r);return i.createElement(fe,{id:a,type:"pie"},l=>i.createElement(i.Fragment,null,i.createElement(be,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:n,maxRadius:t.maxRadius}),i.createElement(nt,S({},r,{id:l})),i.createElement(yt,S({},r,{id:l}))))}de.displayName="Pie";function te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),a.push.apply(a,r)}return a}function ae(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?te(Object(a),!0).forEach(function(r){Pt(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):te(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Pt(e,t,a){return(t=At(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function At(e){var t=jt(e,"string");return typeof t=="symbol"?t:t+""}function jt(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Et=["item"],Ot=ae(ae({},Ke),{},{layout:"centric",startAngle:0,endAngle:360}),wt=i.forwardRef((e,t)=>{var a=ne(e,Ot);return i.createElement(De,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Et,tooltipPayloadSearcher:ke,categoricalChartProps:a,ref:t})});function _t(){const[e,t]=i.useState(.2),[a,r]=i.useState([]),[n,l]=i.useState(!1),c=a.filter(u=>u==="explore").length,d=a.filter(u=>u==="exploit").length,b=[{name:"Exploration (Random)",value:c,color:"#a78bfa"},{name:"Exploitation (Greedy)",value:d,color:"#34d399"}],p=()=>{const f=Math.random()<e?"explore":"exploit";r(s=>[...s.slice(-99),f])};return i.useEffect(()=>{let u;return n&&(u=setInterval(p,100)),()=>clearInterval(u)},[n,e]),o.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[o.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[o.jsx("h2",{className:"text-3xl font-bold text-violet-400 mb-4",children:"Epsilon-Greedy Strategy"}),o.jsxs("p",{className:"text-lg text-slate-700 dark:text-slate-300 leading-relaxed",children:[o.jsx("strong",{children:"Exploration"}),": Trying new things to find better rewards.",o.jsx("br",{}),o.jsx("strong",{children:"Exploitation"}),": Using what you know to get the best reward."]})]}),o.jsxs("div",{className:"grid md:grid-cols-2 gap-12 w-full max-w-5xl items-center",children:[o.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[o.jsx("h3",{className:"font-bold text-white mb-6",children:"Epsilon (Îµ) Control"}),o.jsxs("div",{className:"mb-8",children:[o.jsxs("div",{className:"flex justify-between items-end mb-2",children:[o.jsx("label",{className:"text-sm text-slate-800 dark:text-slate-400",children:"Exploration Rate"}),o.jsx("span",{className:"text-3xl font-mono font-bold text-violet-400",children:e.toFixed(2)})]}),o.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:e,onChange:u=>t(parseFloat(u.target.value)),className:"w-full accent-violet-400"}),o.jsxs("div",{className:"flex justify-between text-xs text-slate-700 dark:text-slate-500 mt-2",children:[o.jsx("span",{children:"0.0 (Pure Greedy)"}),o.jsx("span",{children:"1.0 (Pure Random)"})]})]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsx("button",{onClick:p,className:"flex-1 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-bold transition-all",children:"Take 1 Step"}),o.jsx("button",{onClick:()=>l(!n),className:`flex-1 py-3 rounded-xl font-bold transition-all text-white ${n?"bg-red-600 hover:bg-red-500":"bg-violet-600 hover:bg-violet-500"}`,children:n?"Stop":"Auto Run"})]}),o.jsx("div",{className:"mt-4 text-center",children:o.jsx("button",{onClick:()=>r([]),className:"text-xs text-slate-700 dark:text-slate-500 hover:text-white underline",children:"Reset Stats"})})]}),o.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 flex flex-col items-center",children:[o.jsx("h3",{className:"font-bold text-white mb-4",children:"Action Distribution"}),o.jsxs("div",{className:"w-64 h-64 relative",children:[o.jsx(Ce,{width:"100%",height:"100%",children:o.jsxs(wt,{children:[o.jsx(de,{data:b,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:b.map((u,f)=>o.jsx(Z,{fill:u.color},`cell-${f}`))}),o.jsx(Be,{contentStyle:{backgroundColor:"#1e293b",border:"none",borderRadius:"8px"}})]})}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:[o.jsx("div",{className:"text-2xl font-bold text-white",children:a.length}),o.jsx("div",{className:"text-xs text-slate-700 dark:text-slate-500",children:"Total Steps"})]})]}),o.jsxs("div",{className:"w-full mt-6 space-y-2",children:[o.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-3 rounded border-l-4 border-violet-400",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Exploration (Random)"}),o.jsx("span",{className:"font-mono font-bold text-white",children:c})]}),o.jsxs("div",{className:"flex justify-between items-center bg-slate-900 p-3 rounded border-l-4 border-emerald-400",children:[o.jsx("span",{className:"text-slate-700 dark:text-slate-300",children:"Exploitation (Greedy)"}),o.jsx("span",{className:"font-mono font-bold text-white",children:d})]})]})]})]})]})}export{_t as default};
