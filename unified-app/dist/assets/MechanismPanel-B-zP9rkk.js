import{j as e}from"./index-quAWpIA7.js";import{m as l}from"./proxy-D7LjGbFl.js";function f(){const r=Array.from({length:8},(n,s)=>({id:s})),m=Array.from({length:2},(n,s)=>({id:s}));return e.jsx("div",{className:"p-8 h-full overflow-y-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-fuchsia-600 dark:text-fuchsia-400 mb-4",children:"GQA Mechanism"}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:["In Grouped-Query Attention, we divide the Query heads into ",e.jsxs("strong",{children:[2," groups"]}),". All ",4," queries in a group attend to the ",e.jsx("strong",{children:"same Key/Value head"}),"."]})]}),e.jsxs("div",{className:"flex justify-between items-center gap-12 relative min-h-[400px]",children:[e.jsxs("div",{className:"flex flex-col gap-2 w-1/3",children:[e.jsxs("h3",{className:"text-center font-bold mb-4 text-purple-600 dark:text-purple-400 flex items-center justify-center gap-2",children:[e.jsx("span",{children:"Query Heads"}),e.jsxs("span",{className:"text-xs bg-purple-100 dark:bg-purple-900/30 px-2 py-1 rounded",children:["Num = ",8]})]}),r.map((n,s)=>{const a=Math.floor(s/4)===0?"bg-orange-500":"bg-blue-500";return e.jsxs(l.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:s*.05},className:`relative h-12 rounded-lg flex items-center justify-center text-white font-mono text-sm shadow-sm ${a} border border-white/20`,children:["Q",s,e.jsx(h,{startX:"100%",startY:"50%",endX:"150%"})]},s)})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none z-0",children:e.jsx("svg",{className:"w-full h-full",children:r.map((n,s)=>{const t=Math.floor(s/4),a=72+s*56+24,x=72+t*(56*4)+56*2,u=t===0?"#f97316":"#3b82f6";return e.jsx(l.path,{d:`M 300 ${a} C 450 ${a}, 450 ${x}, 600 ${x}`,fill:"none",stroke:u,strokeWidth:"2",strokeOpacity:"0.4",initial:{pathLength:0},animate:{pathLength:1},transition:{duration:1,delay:.5+s*.1}},s)})})}),e.jsxs("div",{className:"flex flex-col gap-4 w-1/3 z-10",children:[e.jsxs("h3",{className:"text-center font-bold mb-4 text-indigo-600 dark:text-indigo-400 flex items-center justify-center gap-2",children:[e.jsx("span",{children:"KV Heads"}),e.jsxs("span",{className:"text-xs bg-indigo-100 dark:bg-indigo-900/30 px-2 py-1 rounded",children:["Num = ",2]})]}),m.map((n,s)=>{const t=s===0?"bg-orange-600":"bg-blue-600";return e.jsxs(l.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:1+s*.2},className:`h-[216px] rounded-2xl flex flex-col items-center justify-center text-white font-bold shadow-lg ${t} relative`,children:[e.jsxs("div",{className:"text-2xl mb-2",children:["KV",s]}),e.jsx("div",{className:"text-xs opacity-75 font-mono",children:"Shared Memory"})]},s)})]})]}),e.jsxs("div",{className:"mt-16 grid grid-cols-3 gap-6 text-center",children:[e.jsx(d,{label:"Params",value:"Lower",desc:"Fewer KV heads",color:"text-green-500"}),e.jsx(d,{label:"Speed",value:"Faster",desc:"Less memory bandwidth",color:"text-green-500"}),e.jsx(d,{label:"Quality",value:"High",desc:"Close to MHA",color:"text-blue-500"})]})]})})}function d({label:i,value:o,desc:c,color:r}){return e.jsxs("div",{className:"bg-white dark:bg-slate-800 p-4 rounded-xl shadow-sm border border-slate-200 dark:border-slate-700",children:[e.jsx("div",{className:"text-sm text-slate-500 uppercase tracking-wider mb-1",children:i}),e.jsx("div",{className:`text-2xl font-bold ${r} mb-1`,children:o}),e.jsx("div",{className:"text-xs text-slate-400",children:c})]})}function h(){return null}export{f as default};
