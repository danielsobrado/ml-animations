import{r as o,j as e,b as D,C as P}from"./index-CsxpOLHd.js";import{C as R}from"./check-circle-C5pajHEW.js";import{X as F}from"./x-circle-guWBBJ3U.js";import{R as W}from"./rotate-ccw-xVnQluc9.js";function G(){const[x,f]=o.useState("quiz"),[a,v]=o.useState(0),[y,g]=o.useState(null),[l,b]=o.useState(!1),[w,z]=o.useState(0),[q,k]=o.useState(0),[d,p]=o.useState(784),[j,m]=o.useState([400,200]),[c,u]=o.useState(20),n=[{question:"What does the encoder output in a VAE?",options:["A single latent vector z","Mean (Î¼) and variance (ÏƒÂ²) parameters","The reconstructed image directly","Classification probabilities"],correct:1,explanation:"The encoder outputs Î¼ and log ÏƒÂ² (or ÏƒÂ²), which parameterize the latent distribution q(z|x). We then sample z from this distribution."},{question:"What is the reparameterization trick used for?",options:["To speed up training","To reduce memory usage","To enable backpropagation through the sampling step","To normalize the inputs"],correct:2,explanation:"The reparameterization trick (z = Î¼ + ÏƒâŠ™Îµ where Îµ~N(0,I)) moves the randomness outside the computational graph, allowing gradients to flow through."},{question:"What does the KL divergence term in the VAE loss encourage?",options:["Better image quality","Faster training convergence","The latent distribution to be close to N(0, I)","Larger latent dimensions"],correct:2,explanation:"KL(q(z|x) || p(z)) measures how different the learned distribution is from the prior N(0,I). Minimizing it regularizes the latent space."},{question:"How can you generate new samples with a trained VAE?",options:["Run the encoder on random noise","Sample z from N(0,I) and pass through decoder","Average all training samples","Use the KL divergence directly"],correct:1,explanation:"After training, sample z ~ N(0,I) and decode it. The decoder has learned to map points in the standard normal to realistic outputs."},{question:"Why do we output log ÏƒÂ² instead of Ïƒ directly?",options:["It's faster to compute","Variance must be positive; log can be any real number","It reduces the number of parameters","It improves image quality"],correct:1,explanation:"ÏƒÂ² must be positive, but neural network outputs can be any real number. Using log ÏƒÂ² removes this constraint. We recover Ïƒ = exp(0.5 Ã— log ÏƒÂ²)."},{question:"What happens if Î² > 1 in a Î²-VAE?",options:["Training becomes faster","Reconstruction quality improves","Latent representations become more disentangled","The model overfits more"],correct:2,explanation:"Higher Î² puts more weight on the KL term, forcing the latent space to be more Gaussian. This encourages disentanglement but may blur reconstructions."},{question:"What is the 'posterior collapse' problem in VAEs?",options:["The decoder produces all zeros","The encoder ignores the input and outputs the prior","The loss becomes negative","Training takes too long"],correct:1,explanation:"Posterior collapse occurs when the encoder outputs Î¼â‰ˆ0, Ïƒâ‰ˆ1 regardless of input, meaning q(z|x) â‰ˆ p(z). The latent code carries no information about x."},{question:"For MNIST images (28Ã—28), what is a typical latent dimension?",options:["784 (same as input)","2 (for visualization only)","10-50","1000+"],correct:2,explanation:"For MNIST, 10-50 dimensions work well. 2D is for visualization but limited capacity. Too high dimensions are unnecessary for simple digits."},{question:"What is the ELBO in VAE terminology?",options:["A type of activation function","Evidence Lower Bound - the VAE loss function","A regularization technique","A decoder architecture"],correct:1,explanation:"ELBO (Evidence Lower Bound) is the objective we maximize. It equals reconstruction log-likelihood minus KL divergence. Maximizing ELBO â‰ˆ minimizing the VAE loss."},{question:"Why are VAE-generated images often blurry compared to GANs?",options:["VAEs use smaller networks","VAEs optimize pixel-wise reconstruction, averaging over uncertainty","VAEs train slower","VAEs can only generate grayscale images"],correct:1,explanation:"VAEs optimize log-likelihood which averages over all possible outputs. When uncertain, this leads to averaging (blurring). GANs optimize adversarial loss which prefers sharp outputs."}],S=s=>{l||(g(s),b(!0),k(t=>t+1),s===n[a].correct&&z(t=>t+1))},T=()=>{a<n.length-1&&(v(s=>s+1),g(null),b(!1))},I=()=>{v(0),g(null),b(!1),z(0),k(0)},L=()=>{let s=0,t=[],r=d;j.forEach((i,N)=>{const h=r*i+i;t.push({name:`Encoder FC${N+1}`,params:h,dims:`${r} â†’ ${i}`}),s+=h,r=i});const C=r*c+c,A=r*c+c;t.push({name:"FC Î¼",params:C,dims:`${r} â†’ ${c}`}),t.push({name:"FC log ÏƒÂ²",params:A,dims:`${r} â†’ ${c}`}),s+=C+A,r=c,[...j].reverse().forEach((i,N)=>{const h=r*i+i;t.push({name:`Decoder FC${N+1}`,params:h,dims:`${r} â†’ ${i}`}),s+=h,r=i});const E=r*d+d;return t.push({name:"FC Output",params:E,dims:`${r} â†’ ${d}`}),s+=E,{total:s,breakdown:t}},{total:V,breakdown:$}=L();return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs("button",{onClick:()=>f("quiz"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all ${x==="quiz"?"bg-purple-600 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[e.jsx(D,{size:20}),"Quiz (10 Questions)"]}),e.jsxs("button",{onClick:()=>f("calculator"),className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all ${x==="calculator"?"bg-purple-600 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:[e.jsx(P,{size:20}),"Parameter Calculator"]})]}),x==="quiz"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center gap-1",children:n.map((s,t)=>e.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${t===a?"bg-purple-500 scale-125":t<a?"bg-purple-800":"bg-gray-700"}`},t))}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-gray-400",children:["Score: ",e.jsx("span",{className:"text-purple-400 font-bold",children:w})," / ",q]})}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:["Question ",a+1," of ",n.length]}),e.jsx("h3",{className:"text-xl font-bold mb-6",children:n[a].question}),e.jsx("div",{className:"space-y-3",children:n[a].options.map((s,t)=>{let r="bg-white/5 hover:bg-white/10 border-white/10";return l&&(t===n[a].correct?r="bg-green-900/50 border-green-500":t===y&&t!==n[a].correct&&(r="bg-red-900/50 border-red-500")),e.jsx("button",{onClick:()=>S(t),disabled:l,className:`w-full text-left p-4 rounded-xl border transition-all ${r}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[l&&t===n[a].correct&&e.jsx(R,{className:"text-green-400",size:20}),l&&t===y&&t!==n[a].correct&&e.jsx(F,{className:"text-red-400",size:20}),e.jsx("span",{children:s})]})},t)})}),l&&e.jsx("div",{className:"mt-4 p-4 bg-purple-900/30 rounded-xl border border-purple-500/30",children:e.jsxs("p",{className:"text-sm text-gray-300",children:[e.jsx("strong",{className:"text-purple-400",children:"Explanation:"})," ",n[a].explanation]})}),e.jsxs("div",{className:"flex justify-between mt-6",children:[e.jsxs("button",{onClick:I,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg",children:[e.jsx(W,{size:18}),"Reset"]}),l&&a<n.length-1&&e.jsx("button",{onClick:T,className:"px-6 py-2 bg-purple-600 hover:bg-purple-700 rounded-lg",children:"Next Question â†’"}),l&&a===n.length-1&&e.jsxs("div",{className:"text-purple-400 font-bold",children:["Final Score: ",w," / ",n.length]})]})]})]}),x==="calculator"&&e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"VAE Parameter Calculator"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Input Dimension"}),e.jsx("input",{type:"number",value:d,onChange:s=>p(parseInt(s.target.value)||784),className:"w-full mt-1 px-3 py-2 bg-black/30 border border-white/20 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Hidden Dims (comma-sep)"}),e.jsx("input",{type:"text",value:j.join(", "),onChange:s=>m(s.target.value.split(",").map(t=>parseInt(t.trim())).filter(t=>!isNaN(t))),className:"w-full mt-1 px-3 py-2 bg-black/30 border border-white/20 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-400",children:"Latent Dimension"}),e.jsx("input",{type:"number",value:c,onChange:s=>u(parseInt(s.target.value)||20),className:"w-full mt-1 px-3 py-2 bg-black/30 border border-white/20 rounded-lg"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Quick Presets:"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx("button",{onClick:()=>{p(784),m([400,200]),u(20)},className:"px-3 py-1 bg-purple-900/50 hover:bg-purple-800/50 rounded-lg text-sm border border-purple-500/30",children:"MNIST Simple"}),e.jsx("button",{onClick:()=>{p(784),m([512,256]),u(64)},className:"px-3 py-1 bg-purple-900/50 hover:bg-purple-800/50 rounded-lg text-sm border border-purple-500/30",children:"MNIST Deep"}),e.jsx("button",{onClick:()=>{p(3072),m([1024,512,256]),u(128)},className:"px-3 py-1 bg-purple-900/50 hover:bg-purple-800/50 rounded-lg text-sm border border-purple-500/30",children:"CIFAR-10"}),e.jsx("button",{onClick:()=>{p(12288),m([2048,1024,512]),u(256)},className:"px-3 py-1 bg-purple-900/50 hover:bg-purple-800/50 rounded-lg text-sm border border-purple-500/30",children:"64Ã—64 RGB"})]})]}),e.jsxs("div",{className:"bg-black/20 rounded-xl p-4",children:[e.jsx("h4",{className:"font-bold mb-3",children:"Parameter Breakdown"}),e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"text-gray-500 border-b border-white/10",children:[e.jsx("th",{className:"text-left py-2",children:"Layer"}),e.jsx("th",{className:"text-left py-2",children:"Dimensions"}),e.jsx("th",{className:"text-right py-2",children:"Parameters"})]})}),e.jsx("tbody",{children:$.map((s,t)=>e.jsxs("tr",{className:"border-b border-white/5",children:[e.jsx("td",{className:"py-2",children:s.name}),e.jsx("td",{className:"py-2 text-gray-400 font-mono text-xs",children:s.dims}),e.jsx("td",{className:"py-2 text-right text-purple-400",children:s.params.toLocaleString()})]},t))}),e.jsx("tfoot",{children:e.jsxs("tr",{className:"font-bold",children:[e.jsx("td",{className:"py-3",colSpan:2,children:"Total Parameters"}),e.jsx("td",{className:"py-3 text-right text-pink-400 text-lg",children:V.toLocaleString()})]})})]})]})]})}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/30 to-pink-900/30 rounded-2xl p-6 border border-purple-500/30",children:[e.jsx("h3",{className:"text-lg font-bold mb-4 text-purple-300",children:"ðŸŽ“ Key Takeaways"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{children:"Encoder outputs Î¼ and Ïƒ, not z directly"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{children:"Reparameterization: z = Î¼ + ÏƒâŠ™Îµ"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{children:"Loss = Reconstruction + Î² Ã— KL Divergence"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{children:"Generation: sample z ~ N(0,I), decode"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsx("span",{children:"Smooth latent space enables interpolation"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"âœ“"}),e.jsxs("span",{children:["Î² ",">"," 1 â†’ Î²-VAE (more disentanglement)"]})]})]})]})]})}export{G as default};
