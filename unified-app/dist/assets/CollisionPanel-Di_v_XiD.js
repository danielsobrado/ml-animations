import{r as c,j as e}from"./index-BmgLEcVh.js";const x=8,g=o=>{let s=0;for(let l=0;l<o.length;l++)s=(s<<5)-s+o.charCodeAt(l);return Math.abs(s)},j=o=>{let s=5381;for(let l=0;l<o.length;l++)s=s*33^o.charCodeAt(l);return Math.abs(s)};function v(){const[o,s]=c.useState(Array(x).fill(0)),[l,u]=c.useState([]),[d,m]=c.useState(""),[b,r]=c.useState(null),f=t=>[g(t)%x,j(t)%x],h=t=>{const n=f(t),a=[...o];n.forEach(i=>a[i]=1),s(a),u([...l,{word:t,indices:n}])},p=()=>{if(!d)return;const t=f(d),n=t.every(i=>o[i]===1),a=l.some(i=>i.word===d);r(n&&!a?{type:"collision",text:`⚠️ FALSE POSITIVE! "${d}" looks added (bits ${t.join(", ")} are 1), but it's just a collision from other words!`}:n&&a?{type:"info",text:`"${d}" is in the set.`}:{type:"info",text:`"${d}" is definitely not in the set.`})};return e.jsxs("div",{className:"p-8 h-full flex flex-col items-center",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-indigo-900 mb-4",children:"False Positive Lab"}),e.jsx("p",{className:"text-lg text-slate-700 leading-relaxed",children:`This filter is tiny (size 8). Add a few words to fill it up, then try to find a "False Positive" (a word you didn't add, but the filter says "Probably Yes").`})]}),e.jsxs("div",{className:"flex gap-4 mb-8",children:[e.jsx("button",{onClick:()=>h("Cat"),className:"px-4 py-2 bg-blue-100 text-blue-800 rounded font-bold hover:bg-blue-200",children:'Add "Cat"'}),e.jsx("button",{onClick:()=>h("Dog"),className:"px-4 py-2 bg-blue-100 text-blue-800 rounded font-bold hover:bg-blue-200",children:'Add "Dog"'}),e.jsx("button",{onClick:()=>h("Fish"),className:"px-4 py-2 bg-blue-100 text-blue-800 rounded font-bold hover:bg-blue-200",children:'Add "Fish"'}),e.jsx("button",{onClick:()=>{s(Array(x).fill(0)),u([]),r(null)},className:"px-4 py-2 bg-slate-200 text-slate-700 rounded font-bold hover:bg-slate-300",children:"Reset"})]}),e.jsx("div",{className:"flex gap-2 mb-8",children:o.map((t,n)=>e.jsx("div",{className:`w-12 h-12 rounded border-2 flex items-center justify-center font-bold text-xl transition-colors ${t===1?"bg-indigo-600 text-white border-indigo-700":"bg-slate-100 text-slate-300 border-slate-200"}`,children:t},n))}),e.jsxs("div",{className:"flex gap-4 mb-4",children:[e.jsx("input",{type:"text",value:d,onChange:t=>m(t.target.value),placeholder:"Try 'Bird' or 'Cow'...",className:"px-4 py-2 border-2 border-slate-300 rounded font-bold"}),e.jsx("button",{onClick:p,className:"px-6 py-2 bg-teal-600 text-white rounded font-bold hover:bg-teal-700",children:"Check"})]}),b&&e.jsx("div",{className:`p-4 rounded-lg font-bold text-center max-w-xl ${b.type==="collision"?"bg-red-100 text-red-900 border-2 border-red-200":"bg-slate-100 text-slate-700"}`,children:b.text}),e.jsx("div",{className:"mt-8 text-sm text-slate-500",children:e.jsxs("p",{children:["Added Words: ",l.map(t=>t.word).join(", ")||"(None)"]})})]})}export{v as default};
