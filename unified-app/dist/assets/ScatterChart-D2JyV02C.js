import{r as n}from"./index-quAWpIA7.js";import{c as B,d as X,a as N,b as W,bd as Y,e as q,p as H,r as F,D as R,u as Z,f as Q,S as ee,h as te,j as $,be as ae,n as J,k as ie,o as re,Z as V,L as O,w as S,bf as ne,t as z,v as L,x as oe,J as le,y as K,z as se,aA as de,C as ce,aZ as ue,bg as pe,B as G,bh as ve,bi as me,V as ye,U as fe,bj as he,E as xe}from"./CategoricalChart-q5_a8qWL.js";import{C as Ae}from"./Sector-C4hPwxCr.js";import{C as be,u as Ie,a as ge,b as Ee}from"./tooltipContext-c3f7D665.js";import{S as Pe}from"./Symbols-D2UkYTzA.js";import{S as k}from"./ActiveShapeUtils-CPNwDibL.js";import{S as Se}from"./ErrorBarContext-Cye6_j5d.js";import{u as _e,G as Oe,a as Te}from"./CartesianChart-CAXOaB3h.js";var we=["option","isActive"];function _(){return _=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},_.apply(null,arguments)}function Ce(t,a){if(t==null)return{};var e,i,r=Ke(t,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)e=l[i],a.indexOf(e)===-1&&{}.propertyIsEnumerable.call(t,e)&&(r[e]=t[e])}return r}function Ke(t,a){if(t==null)return{};var e={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(a.indexOf(i)!==-1)continue;e[i]=t[i]}return e}function ze(t){var{option:a,isActive:e}=t,i=Ce(t,we);return typeof a=="string"?n.createElement(k,_({option:n.createElement(Pe,_({type:a},i)),isActive:e,shapeType:"symbols"},i)):n.createElement(k,_({option:a,isActive:e,shapeType:"symbols"},i))}var De=(t,a,e,i,r,l,o)=>N(t,"xAxis",a,o),je=(t,a,e,i,r,l,o)=>W(t,"xAxis",a,o),Le=(t,a,e,i,r,l,o)=>N(t,"yAxis",e,o),ke=(t,a,e,i,r,l,o)=>W(t,"yAxis",e,o),Me=(t,a,e,i)=>Y(t,"zAxis",i,!1),Be=(t,a,e,i,r)=>r,Ne=(t,a,e,i,r,l)=>l,We=(t,a,e,i,r,l,o)=>X(t,a,e,o),Fe=B([q,Be],(t,a)=>t.filter(e=>e.type==="scatter").find(e=>e.id===a)),Re=B([We,De,je,Le,ke,Me,Fe,Ne],(t,a,e,i,r,l,o,v)=>{var{chartData:d,dataStartIndex:c,dataEndIndex:p}=t;if(o!=null){var m;if((o==null?void 0:o.data)!=null&&o.data.length>0?m=o.data:m=d==null?void 0:d.slice(c,p+1),!(m==null||a==null||i==null||e==null||r==null||(e==null?void 0:e.length)===0||(r==null?void 0:r.length)===0))return at({displayedData:m,xAxis:a,yAxis:i,zAxis:l,scatterSettings:o,xAxisTicks:e,yAxisTicks:r,cells:v})}}),Ze=["onMouseEnter","onClick","onMouseLeave"],$e=["id"],Je=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function D(t,a){if(t==null)return{};var e,i,r=Ve(t,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(i=0;i<l.length;i++)e=l[i],a.indexOf(e)===-1&&{}.propertyIsEnumerable.call(t,e)&&(r[e]=t[e])}return r}function Ve(t,a){if(t==null)return{};var e={};for(var i in t)if({}.hasOwnProperty.call(t,i)){if(a.indexOf(i)!==-1)continue;e[i]=t[i]}return e}function E(){return E=Object.assign?Object.assign.bind():function(t){for(var a=1;a<arguments.length;a++){var e=arguments[a];for(var i in e)({}).hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},E.apply(null,arguments)}function M(t,a){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);a&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),e.push.apply(e,i)}return e}function h(t){for(var a=1;a<arguments.length;a++){var e=arguments[a]!=null?arguments[a]:{};a%2?M(Object(e),!0).forEach(function(i){Ge(t,i,e[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):M(Object(e)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))})}return t}function Ge(t,a,e){return(a=Ue(a))in t?Object.defineProperty(t,a,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[a]=e,t}function Ue(t){var a=Xe(t,"string");return typeof a=="symbol"?a:a+""}function Xe(t,a){if(typeof t!="object"||!t)return t;var e=t[Symbol.toPrimitive];if(e!==void 0){var i=e.call(t,a);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(t)}var Ye=t=>{var{dataKey:a,name:e,fill:i,legendType:r,hide:l}=t;return[{inactive:l,dataKey:a,type:r,color:i,value:$(e,a),payload:t}]},qe=n.memo(t=>{var{dataKey:a,points:e,stroke:i,strokeWidth:r,fill:l,name:o,hide:v,tooltipType:d}=t,c={dataDefinedOnItem:e==null?void 0:e.map(p=>p.tooltipPayload),positions:e==null?void 0:e.map(p=>p.tooltipPosition),settings:{stroke:i,strokeWidth:r,fill:l,nameKey:void 0,dataKey:a,name:$(o,a),hide:v,type:d,color:l,unit:""}};return n.createElement(ie,{tooltipEntrySettings:c})});function He(t){var{points:a,props:e}=t,{line:i,lineType:r,lineJointType:l}=e;if(!i)return null;var o=G(e),v=fe(i),d,c;if(r==="joint")d=a.map(u=>{var s,y;return{x:(s=u.cx)!==null&&s!==void 0?s:null,y:(y=u.cy)!==null&&y!==void 0?y:null}});else if(r==="fitting"){var{xmin:p,xmax:m,a:x,b}=he(a),I=u=>x*u+b;d=[{x:p,y:I(p)},{x:m,y:I(m)}]}var f=h(h(h({},o),{},{fill:"none",stroke:o&&o.fill},v),{},{points:d});return n.isValidElement(i)?c=n.cloneElement(i,f):typeof i=="function"?c=i(f):c=n.createElement(Ae,E({},f,{type:l})),n.createElement(O,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function Qe(t){var{showLabels:a,points:e,children:i}=t,r=de(),l=n.useMemo(()=>e==null?void 0:e.map(o=>{var v,d,c={x:(v=o.x)!==null&&v!==void 0?v:0,y:(d=o.y)!==null&&d!==void 0?d:0,width:o.width,height:o.height,lowerWidth:o.width,upperWidth:o.width};return h(h({},c),{},{value:void 0,payload:o.payload,viewBox:c,parentViewBox:r,fill:void 0})}),[r,e]);return n.createElement(ce,{value:a?l:void 0},i)}function et(t){var{points:a,allOtherScatterProps:e}=t,{shape:i,activeShape:r,dataKey:l}=e,o=J(ue),{onMouseEnter:v,onClick:d,onMouseLeave:c}=e,p=D(e,Ze),m=Ie(v,e.dataKey),x=ge(c),b=Ee(d,e.dataKey);if(!pe(a))return null;var{id:I}=e,f=D(e,$e),u=G(f);return n.createElement(n.Fragment,null,n.createElement(He,{points:a,props:f}),a.map((s,y)=>{var A=r!=null&&r!==!1,g=A&&o===String(y),T=A&&g?r:i,P=h(h(h({},u),s),{},{[me]:y,[ve]:String(l)});return n.createElement(V,{key:"symbol-".concat(s==null?void 0:s.cx,"-").concat(s==null?void 0:s.cy,"-").concat(s==null?void 0:s.size,"-").concat(y),zIndex:g?R.activeDot:void 0},n.createElement(O,E({className:"recharts-scatter-symbol"},ye(p,s,y),{onMouseEnter:m(s,y),onMouseLeave:x(s,y),onClick:b(s,y)}),n.createElement(ze,E({option:T,isActive:g},P))))}))}function tt(t){var{previousPointsRef:a,props:e}=t,{points:i,isAnimationActive:r,animationBegin:l,animationDuration:o,animationEasing:v}=e,d=a.current,c=oe(e,"recharts-scatter-"),[p,m]=n.useState(!1),x=n.useCallback(()=>{m(!1)},[]),b=n.useCallback(()=>{m(!0)},[]),I=!p;return n.createElement(Qe,{showLabels:I,points:i},e.children,n.createElement(le,{animationId:c,begin:l,duration:o,isActive:r,easing:v,onAnimationEnd:x,onAnimationStart:b,key:c},f=>{var u=f===1?i:i==null?void 0:i.map((s,y)=>{var A=d&&d[y];return A?h(h({},s),{},{cx:s.cx==null?void 0:K(A.cx,s.cx,f),cy:s.cy==null?void 0:K(A.cy,s.cy,f),size:K(A.size,s.size,f)}):h(h({},s),{},{size:K(0,s.size,f)})});return f>0&&(a.current=u),n.createElement(O,null,n.createElement(et,{points:u,allOtherScatterProps:e,showLabels:I}))}),n.createElement(se,{label:e.label}))}function at(t){var{displayedData:a,xAxis:e,yAxis:i,zAxis:r,scatterSettings:l,xAxisTicks:o,yAxisTicks:v,cells:d}=t,c=S(e.dataKey)?l.dataKey:e.dataKey,p=S(i.dataKey)?l.dataKey:i.dataKey,m=r&&r.dataKey,x=r?r.range:ne.range,b=x&&x[0],I=e.scale.bandwidth?e.scale.bandwidth():0,f=i.scale.bandwidth?i.scale.bandwidth():0;return a.map((u,s)=>{var y=z(u,c),A=z(u,p),g=!S(m)&&z(u,m)||"-",T=[{name:S(e.dataKey)?l.name:e.name||String(e.dataKey),unit:e.unit||"",value:y,payload:u,dataKey:c,type:l.tooltipType},{name:S(i.dataKey)?l.name:i.name||String(i.dataKey),unit:i.unit||"",value:A,payload:u,dataKey:p,type:l.tooltipType}];g!=="-"&&T.push({name:r.name||r.dataKey,unit:r.unit||"",value:g,payload:u,dataKey:m,type:l.tooltipType});var P=L({axis:e,ticks:o,bandSize:I,entry:u,index:s,dataKey:c}),w=L({axis:i,ticks:v,bandSize:f,entry:u,index:s,dataKey:p}),j=g!=="-"?r.scale(g):b,C=Math.sqrt(Math.max(j,0)/Math.PI);return h(h({},u),{},{cx:P,cy:w,x:P==null?void 0:P-C,y:w==null?void 0:w-C,width:2*C,height:2*C,size:j,node:{x:y,y:A,z:g},tooltipPayload:T,tooltipPosition:{x:P,y:w},payload:u},d&&d[s]&&d[s].props)})}var it=(t,a,e)=>({x:t.cx,y:t.cy,value:Number(e==="x"?t.node.x:t.node.y),errorVal:z(t,a)});function rt(t){var{hide:a,points:e,className:i,needClip:r,xAxisId:l,yAxisId:o,id:v}=t,d=n.useRef(null);if(a)return null;var c=re("recharts-scatter",i),p=v;return n.createElement(V,{zIndex:t.zIndex},n.createElement(O,{className:c,clipPath:r?"url(#clipPath-".concat(p,")"):void 0,id:v},r&&n.createElement("defs",null,n.createElement(Oe,{clipPathId:p,xAxisId:l,yAxisId:o})),n.createElement(Se,{xAxisId:l,yAxisId:o,data:e,dataPointFormatter:it,errorBarOffset:0},n.createElement(O,{key:"recharts-scatter-symbols"},n.createElement(tt,{props:t,previousPointsRef:d})))))}var U={xAxisId:0,yAxisId:0,zAxisId:0,label:!1,line:!1,legendType:"circle",lineType:"joint",lineJointType:"linear",shape:"circle",hide:!1,isAnimationActive:"auto",animationBegin:0,animationDuration:400,animationEasing:"linear",zIndex:R.scatter};function nt(t){var a=F(t,U),{animationBegin:e,animationDuration:i,animationEasing:r,hide:l,isAnimationActive:o,legendType:v,lineJointType:d,lineType:c,shape:p,xAxisId:m,yAxisId:x,zAxisId:b}=a,I=D(a,Je),{needClip:f}=_e(m,x),u=n.useMemo(()=>ae(t.children,be),[t.children]),s=Z(),y=J(A=>Re(A,m,x,b,t.id,u,s));return f==null||y==null?null:n.createElement(n.Fragment,null,n.createElement(qe,{dataKey:t.dataKey,points:y,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),n.createElement(rt,E({},I,{xAxisId:m,yAxisId:x,zAxisId:b,lineType:c,lineJointType:d,legendType:v,shape:p,hide:l,isAnimationActive:o,animationBegin:e,animationDuration:i,animationEasing:r,points:y,needClip:f})))}function ot(t){var a=F(t,U),e=Z();return n.createElement(Q,{id:a.id,type:"scatter"},i=>n.createElement(n.Fragment,null,n.createElement(ee,{legendPayload:Ye(a)}),n.createElement(te,{type:"scatter",id:i,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:a.zAxisId,dataKey:a.dataKey,hide:a.hide,name:a.name,tooltipType:a.tooltipType,isPanorama:e}),n.createElement(nt,E({},a,{id:i}))))}var lt=n.memo(ot,H);lt.displayName="Scatter";var st=["item"],ht=n.forwardRef((t,a)=>n.createElement(Te,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:st,tooltipPayloadSearcher:xe,categoricalChartProps:t,ref:a}));export{ht as S,lt as a};
