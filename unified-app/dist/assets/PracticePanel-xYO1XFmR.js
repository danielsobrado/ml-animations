import{r as b,j as e}from"./index-BmgLEcVh.js";const y=.01;function P(){const i=Array.from({length:3},()=>Math.floor(Math.random()*9)-3),a=Array.from({length:3},()=>Math.floor(Math.random()*5)-2),p=Math.floor(Math.random()*13)-8,t=i.reduce((x,s,h)=>x+s*a[h],0),c=t+p,u=c>0?c:y*c;return{X:i,W:a,b:p,dotProduct:t,z:c,leakyRelu:u}}function C({onStepChange:i}){const[a,p]=b.useState(P),[t,c]=b.useState(1),[u,x]=b.useState({dotProduct:"",z:"",leakyRelu:""}),[s,h]=b.useState({dotProduct:null,z:null,leakyRelu:null}),[m,k]=b.useState({dotProduct:!1,z:!1,leakyRelu:!1});b.useEffect(()=>{i&&i(t,a.z,a.leakyRelu)},[t,a.z,a.leakyRelu,i]);const j=l=>{const o=parseFloat(u[l]);let g;l==="dotProduct"?g=o===a.dotProduct:l==="z"?g=o===a.z:g=Math.abs(o-a.leakyRelu)<.001,h($=>({...$,[l]:g})),g&&c(l==="dotProduct"?2:l==="z"?3:4)},v=()=>{p(P()),c(1),x({dotProduct:"",z:"",leakyRelu:""}),h({dotProduct:null,z:null,leakyRelu:null}),k({dotProduct:!1,z:!1,leakyRelu:!1})},f=l=>{k(o=>({...o,[l]:!o[l]}))},{X:n,W:d,b:N,dotProduct:z,z:r,leakyRelu:R}=a;return e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3 text-center",children:"Interactive Practice"}),e.jsxs("div",{className:"bg-white p-4 rounded-lg border border-gray-200 mb-4",children:[e.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-blue-600 mb-1",children:"X (Input)"}),e.jsxs("p",{className:"text-lg font-mono",children:["[",n.join(", "),"]"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-green-600 mb-1",children:"W (Weights)"}),e.jsxs("p",{className:"text-lg font-mono",children:["[",d.join(", "),"]"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-yellow-600 mb-1",children:"b (Bias)"}),e.jsx("p",{className:"text-lg font-mono",children:N})]})]}),e.jsxs("div",{className:"mt-2 text-center",children:[e.jsx("p",{className:"text-sm font-semibold text-orange-600",children:"Î± (Alpha)"}),e.jsx("p",{className:"text-lg font-mono",children:y})]})]}),e.jsxs("div",{className:`p-4 rounded-lg border mb-3 ${t>=1?"bg-white border-purple-300":"bg-gray-100 border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"font-semibold text-purple-700",children:"Step 1: Calculate X Â· W"}),e.jsx("button",{onClick:()=>f("dotProduct"),className:"text-sm text-purple-600 hover:underline",children:m.dotProduct?"Hide Hint":"Show Hint"})]}),m.dotProduct&&e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["X Â· W = (",n[0]," Ã— ",d[0],") + (",n[1]," Ã— ",d[1],") + (",n[2]," Ã— ",d[2],") = ",n[0]*d[0]," + ",n[1]*d[1]," + ",n[2]*d[2]," = ?"]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"number",value:u.dotProduct,onChange:l=>x(o=>({...o,dotProduct:l.target.value})),disabled:s.dotProduct===!0,className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500",placeholder:"Enter dot product"}),e.jsx("button",{onClick:()=>j("dotProduct"),disabled:s.dotProduct===!0,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 disabled:opacity-50",children:"Check"})]}),s.dotProduct!==null&&e.jsx("p",{className:`mt-2 text-sm ${s.dotProduct?"text-green-600":"text-red-600"}`,children:s.dotProduct?"âœ“ Correct!":`âœ— Try again. Hint: ${n[0]}Ã—${d[0]} + ${n[1]}Ã—${d[1]} + ${n[2]}Ã—${d[2]}`})]}),e.jsxs("div",{className:`p-4 rounded-lg border mb-3 ${t>=2?"bg-white border-red-300":"bg-gray-100 border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"font-semibold text-red-700",children:"Step 2: Calculate z = XÂ·W + b"}),t>=2&&e.jsx("button",{onClick:()=>f("z"),className:"text-sm text-red-600 hover:underline",children:m.z?"Hide Hint":"Show Hint"})]}),m.z&&t>=2&&e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["z = ",z," + (",N,") = ?"]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"number",value:u.z,onChange:l=>x(o=>({...o,z:l.target.value})),disabled:t<2||s.z===!0,className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500 disabled:bg-gray-100",placeholder:"Enter z value"}),e.jsx("button",{onClick:()=>j("z"),disabled:t<2||s.z===!0,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:"Check"})]}),s.z!==null&&e.jsx("p",{className:`mt-2 text-sm ${s.z?"text-green-600":"text-red-600"}`,children:s.z?"âœ“ Correct!":`âœ— Try again. z = ${z} + (${N})`})]}),e.jsxs("div",{className:`p-4 rounded-lg border mb-3 ${t>=3?"bg-white border-orange-300":"bg-gray-100 border-gray-200"}`,children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("p",{className:"font-semibold text-orange-700",children:"Step 3: Apply Leaky ReLU"}),t>=3&&e.jsx("button",{onClick:()=>f("leakyRelu"),className:"text-sm text-orange-600 hover:underline",children:m.leakyRelu?"Hide Hint":"Show Hint"})]}),m.leakyRelu&&t>=3&&e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:r>0?`z = ${r} > 0, so Leaky ReLU(${r}) = ${r}`:`z = ${r} â‰¤ 0, so Leaky ReLU(${r}) = Î± Ã— ${r} = ${y} Ã— ${r} = ?`}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("input",{type:"number",step:"0.01",value:u.leakyRelu,onChange:l=>x(o=>({...o,leakyRelu:l.target.value})),disabled:t<3||s.leakyRelu===!0,className:"flex-1 px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 disabled:bg-gray-100",placeholder:"Enter Leaky ReLU output"}),e.jsx("button",{onClick:()=>j("leakyRelu"),disabled:t<3||s.leakyRelu===!0,className:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 disabled:opacity-50",children:"Check"})]}),s.leakyRelu!==null&&e.jsx("p",{className:`mt-2 text-sm ${s.leakyRelu?"text-green-600":"text-red-600"}`,children:s.leakyRelu?"âœ“ Correct! ðŸŽ‰":`âœ— Try again. ${r>0?`z > 0, so output = ${r}`:`z â‰¤ 0, so output = ${y} Ã— ${r}`}`})]}),t===4&&e.jsxs("div",{className:"p-4 bg-green-100 rounded-lg border border-green-300 text-center",children:[e.jsx("p",{className:"text-green-700 font-bold text-lg mb-2",children:"ðŸŽ‰ Excellent Work!"}),e.jsxs("p",{className:"text-green-600 mb-3",children:["You correctly computed Leaky ReLU(",r,") = ",R.toFixed(2)]}),e.jsx("button",{onClick:v,className:"px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:"Try Another Problem"})]}),t<4&&e.jsx("button",{onClick:v,className:"w-full mt-2 px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"Skip / New Problem"})]})}export{C as default};
