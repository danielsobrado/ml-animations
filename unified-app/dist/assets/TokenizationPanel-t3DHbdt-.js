import{r as o,j as e,w as c}from"./index-CsxpOLHd.js";import{P as k}from"./pause-BMcOX1vk.js";import{P as w}from"./play-CIyTSByC.js";import{R as S}from"./rotate-ccw-xVnQluc9.js";import{S as T}from"./scissors-DW11PG_S.js";import{I as P}from"./info-uzndjnU1.js";function R(){const[d,b]=o.useState("I love playing football!"),[a,x]=o.useState(0),[n,l]=o.useState(!1),i=[{title:"Original Text",description:"Start with raw input text"},{title:"Basic Tokenization",description:"Split by whitespace and punctuation"},{title:"WordPiece Tokenization",description:"Break unknown words into subwords"},{title:"Add Special Tokens",description:"Add [CLS] at start, [SEP] at end"},{title:"Token IDs",description:"Convert tokens to vocabulary indices"}],u=()=>{const s=d.toLowerCase().match(/[\w]+|[^\s\w]/g)||[],p=s.flatMap(r=>r==="playing"?["play","##ing"]:r==="football"?["foot","##ball"]:r==="understanding"?["under","##stand","##ing"]:r==="unbelievable"?["un","##believ","##able"]:[r]),g=["[CLS]",...p,"[SEP]"],N=g.map((r,v)=>({"[CLS]":101,"[SEP]":102,"[MASK]":103,"[PAD]":0,i:1045,love:2293,play:2377,"##ing":2075,foot:3329,"##ball":3608,the:1996,cat:4937,"!":999,".":1012,",":1010})[r]||1e3+v);return{basicTokens:s,wordPieceTokens:p,withSpecial:g,tokenIds:N}},{basicTokens:h,wordPieceTokens:j,withSpecial:m,tokenIds:f}=u();o.useEffect(()=>{if(n){const t=setInterval(()=>{x(s=>s>=i.length-1?(l(!1),s):s+1)},2e3);return()=>clearInterval(t)}},[n]);const y=()=>{x(0),l(!1)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:["Tokenization: ",e.jsx("span",{className:"text-green-400",children:"From Text to Tokens"})]}),e.jsx("p",{className:"text-gray-400",children:"How BERT breaks down text into processable units using WordPiece"})]}),e.jsxs("div",{className:"bg-black/30 rounded-xl p-4 border border-white/10",children:[e.jsx("label",{className:"text-sm text-gray-400 mb-2 block",children:"Try your own text:"}),e.jsx("input",{type:"text",value:d,onChange:t=>b(t.target.value),className:"w-full bg-black/30 border border-white/20 rounded-lg px-4 py-3 text-lg focus:border-green-500 focus:outline-none transition-colors",placeholder:"Enter text to tokenize..."})]}),e.jsxs("div",{className:"flex justify-center gap-3",children:[e.jsxs("button",{onClick:()=>l(!n),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:[n?e.jsx(k,{size:18}):e.jsx(w,{size:18}),n?"Pause":"Play Steps"]}),e.jsxs("button",{onClick:y,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:[e.jsx(S,{size:18}),"Reset"]})]}),e.jsx("div",{className:"flex justify-center gap-2",children:i.map((t,s)=>e.jsx("button",{onClick:()=>{x(s),l(!1)},className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium transition-all ${s===a?"bg-green-500 text-white scale-110":s<a?"bg-green-900 text-green-300":"bg-white/10 text-gray-500"}`,children:s+1},s))}),e.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-xl p-4",children:[e.jsxs("h3",{className:"font-bold text-green-400",children:["Step ",a+1,": ",i[a].title]}),e.jsx("p",{className:"text-gray-300 mt-1",children:i[a].description})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsxs("div",{className:`transition-all duration-500 ${a>=0?"opacity-100":"opacity-30"}`,children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Original Text:"})}),e.jsx("div",{className:"bg-blue-900/30 rounded-lg p-4 text-xl font-mono border border-blue-500/30",children:d})]}),a>=1&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(c,{className:"text-gray-500 rotate-90"})}),e.jsxs("div",{className:`transition-all duration-500 ${a>=1?"opacity-100":"opacity-30"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(T,{size:16,className:"text-yellow-400"}),e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Basic Tokens:"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:h.map((t,s)=>e.jsx("span",{className:"bg-yellow-600/30 border border-yellow-500/50 px-3 py-2 rounded-lg font-mono mask-reveal",style:{animationDelay:`${s*100}ms`},children:t},s))})]})]}),a>=2&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(c,{className:"text-gray-500 rotate-90"})}),e.jsxs("div",{className:`transition-all duration-500 ${a>=2?"opacity-100":"opacity-30"}`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"WordPiece Tokens:"}),e.jsx("span",{className:"text-xs text-purple-400",children:"(## = continuation)"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:j.map((t,s)=>e.jsx("span",{className:`px-3 py-2 rounded-lg font-mono mask-reveal ${t.startsWith("##")?"bg-purple-600/30 border border-purple-500/50 text-purple-300":"bg-green-600/30 border border-green-500/50 text-green-300"}`,style:{animationDelay:`${s*100}ms`},children:t},s))})]})]}),a>=3&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(c,{className:"text-gray-500 rotate-90"})}),e.jsxs("div",{className:`transition-all duration-500 ${a>=3?"opacity-100":"opacity-30"}`,children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"With Special Tokens:"})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((t,s)=>e.jsx("span",{className:`px-3 py-2 rounded-lg font-mono mask-reveal ${t.startsWith("[")?"bg-red-600/30 border border-red-500/50 text-red-300 font-bold":t.startsWith("##")?"bg-purple-600/30 border border-purple-500/50 text-purple-300":"bg-green-600/30 border border-green-500/50 text-green-300"}`,style:{animationDelay:`${s*100}ms`},children:t},s))})]})]}),a>=4&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"flex justify-center my-4",children:e.jsx(c,{className:"text-gray-500 rotate-90"})}),e.jsxs("div",{className:`transition-all duration-500 ${a>=4?"opacity-100":"opacity-30"}`,children:[e.jsx("div",{className:"flex items-center gap-2 mb-2",children:e.jsx("span",{className:"text-sm font-medium text-gray-400",children:"Token IDs (vocab indices):"})}),e.jsx("div",{className:"flex flex-wrap gap-2",children:m.map((t,s)=>e.jsxs("div",{className:"flex flex-col items-center mask-reveal",style:{animationDelay:`${s*100}ms`},children:[e.jsx("span",{className:"text-xs text-gray-500 mb-1",children:t}),e.jsx("span",{className:"bg-cyan-600/30 border border-cyan-500/50 px-3 py-2 rounded-lg font-mono text-cyan-300",children:f[s]})]},s))})]})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[e.jsx(P,{size:20,className:"text-blue-400"}),"BERT Special Tokens"]}),e.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{token:"[CLS]",id:101,desc:"Classification token - always first. Its output embedding is used for sentence-level tasks.",color:"red"},{token:"[SEP]",id:102,desc:"Separator token - marks end of sentence or separates sentence pairs.",color:"orange"},{token:"[MASK]",id:103,desc:"Mask token - used during pre-training to hide words for prediction.",color:"purple"},{token:"[PAD]",id:0,desc:"Padding token - fills sequences to equal length in a batch.",color:"gray"}].map(t=>e.jsxs("div",{className:`bg-${t.color}-900/20 rounded-xl p-4 border border-${t.color}-500/30`,children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("span",{className:`font-mono font-bold text-${t.color}-400`,children:t.token}),e.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",t.id]})]}),e.jsx("p",{className:"text-xs text-gray-400",children:t.desc})]},t.token))})]}),e.jsxs("div",{className:"bg-gradient-to-br from-purple-900/30 to-blue-900/30 rounded-2xl p-6 border border-purple-500/30",children:[e.jsx("h3",{className:"text-lg font-bold mb-4",children:"üî§ WordPiece Tokenization Deep Dive"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-300",children:"WordPiece breaks words into subword units, handling unknown words by decomposing them:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:'Example: "unbelievable"'}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"bg-purple-600/30 px-2 py-1 rounded text-sm",children:"un"}),e.jsx("span",{className:"text-gray-500",children:"+"}),e.jsx("span",{className:"bg-purple-600/30 px-2 py-1 rounded text-sm",children:"##believ"}),e.jsx("span",{className:"text-gray-500",children:"+"}),e.jsx("span",{className:"bg-purple-600/30 px-2 py-1 rounded text-sm",children:"##able"})]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"## indicates continuation of previous token"})]}),e.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-2",children:"Why WordPiece?"}),e.jsxs("ul",{className:"text-sm space-y-1",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"‚úì"}),e.jsx("span",{children:"Handles unknown words gracefully"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"‚úì"}),e.jsx("span",{children:"Reduces vocabulary size (~30k tokens)"})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-green-400",children:"‚úì"}),e.jsx("span",{children:"Shares representations between similar words"})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-black/40 rounded-xl p-4 border border-white/10",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"üêç Python Code (using Transformers):"}),e.jsx("pre",{className:"text-sm overflow-x-auto",children:e.jsx("code",{className:"text-green-300",children:`from transformers import BertTokenizer

tokenizer = BertTokenizer.from_pretrained('bert-base-uncased')

text = "I love playing football!"
tokens = tokenizer.tokenize(text)
# ['i', 'love', 'play', '##ing', 'foot', '##ball', '!']

input_ids = tokenizer.encode(text)
# [101, 1045, 2293, 2377, 2075, 3329, 3608, 999, 102]
#  [CLS]  i   love  play  ##ing foot ##ball  !  [SEP]

# Or use the full pipeline:
encoding = tokenizer(text, return_tensors='pt')
# {'input_ids': tensor([[101, 1045, ...]]),
#  'token_type_ids': tensor([[0, 0, ...]]),
#  'attention_mask': tensor([[1, 1, ...]])}`})})]})]})}export{R as default};
