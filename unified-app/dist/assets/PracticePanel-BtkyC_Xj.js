import{r as n,j as e}from"./index-CsxpOLHd.js";const $=()=>{const a=[Math.floor(Math.random()*5)+1,Math.floor(Math.random()*5)-2,Math.floor(Math.random()*5)+1],s=[Math.floor(Math.random()*3)+1,Math.floor(Math.random()*5)-2,Math.floor(Math.random()*3)-1],m=Math.floor(Math.random()*10)-5,o=a[0]*s[0]+a[1]*s[1]+a[2]*s[2],c=o+m,d=Math.max(0,c);return{x:a,w:s,b:m,dotProduct:o,z:c,reluOutput:d}},p=[{id:"dot",label:"Step 1: Calculate WÂ·X (dot product)"},{id:"z",label:"Step 2: Calculate z = WÂ·X + b"},{id:"relu",label:"Step 3: Calculate ReLU(z) = max(0, z)"}];function X({onStepChange:a}){var k;const[s,m]=n.useState($),[o,c]=n.useState(0),[d,b]=n.useState(""),[g,i]=n.useState(""),[M,h]=n.useState(!1),[r,f]=n.useState([null,null,null]),[w,j]=n.useState(!1),[P,N]=n.useState(0),[z,y]=n.useState(0);n.useEffect(()=>{if(a){const t=r.filter(l=>l!==null).length;a(t,s.z,s.reluOutput)}},[r,s,a]);const A=()=>{switch(o){case 0:return s.dotProduct;case 1:return s.z;case 2:return s.reluOutput;default:return 0}},E=()=>{const{x:t,w:l,b:x,dotProduct:u}=s;switch(o){case 0:return`WÂ·X = (${l[0]}Ã—${t[0]}) + (${l[1]}Ã—${t[1]}) + (${l[2]}Ã—${t[2]})`;case 1:return`z = ${u} + (${x}) = ?`;case 2:return`ReLU(${s.z}) = max(0, ${s.z}) = ?`;default:return""}},v=()=>{const t=parseInt(d,10),l=A();if(y(x=>x+1),t===l){i("âœ“ Correct!"),N(u=>u+1);const x=[...r];x[o]=t,f(x),setTimeout(()=>{o<p.length-1?(c(u=>u+1),b(""),i(""),h(!1)):(j(!0),i("ðŸŽ‰ Excellent! You completed all steps!"))},1e3)}else i("âœ— Not quite. Try again or ask for a hint.")},R=()=>{h(!0)},S=()=>{m($()),c(0),b(""),i(""),h(!1),f([null,null,null]),j(!1)},H=()=>{c(0),b(""),i(""),h(!1),f([null,null,null]),j(!1),N(0),y(0)},I=t=>{t.key==="Enter"&&d.trim()!==""&&v()},{x:T,w:U,b:C}=s;return e.jsxs("div",{className:"flex flex-col items-center p-3 h-full",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"Practice Exercise"}),e.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 w-full",children:[e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold w-8",children:"X ="}),e.jsx("div",{className:"flex gap-1",children:T.map((t,l)=>e.jsx("div",{className:"w-10 h-10 flex items-center justify-center font-bold text-black rounded bg-blue-400",children:t},`x-${l}`))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold w-8",children:"W ="}),e.jsx("div",{className:"flex gap-1",children:U.map((t,l)=>e.jsx("div",{className:"w-10 h-10 flex items-center justify-center font-bold text-black rounded bg-green-400",children:t},`w-${l}`))})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold w-8",children:"b ="}),e.jsx("div",{className:"w-10 h-10 flex items-center justify-center font-bold text-black rounded bg-purple-400",children:C})]})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-center gap-2 text-sm flex-wrap",children:[e.jsxs("div",{className:`px-3 py-2 rounded font-bold ${r[0]!==null?"bg-orange-400 text-black":"bg-gray-200 text-gray-500"}`,children:["WÂ·X = ",r[0]??"?"]}),e.jsx("span",{className:"text-xl",children:"+"}),e.jsxs("div",{className:"px-3 py-2 rounded font-bold bg-purple-400 text-black",children:["b = ",C]}),e.jsx("span",{className:"text-xl",children:"="}),e.jsxs("div",{className:`px-3 py-2 rounded font-bold ${r[1]!==null?"bg-orange-400 text-black":"bg-gray-200 text-gray-500"}`,children:["z = ",r[1]??"?"]}),e.jsx("span",{className:"text-xl",children:"â†’"}),e.jsxs("div",{className:`px-3 py-2 rounded font-bold ${r[2]!==null?"bg-yellow-400 text-black":"bg-gray-200 text-gray-500"}`,children:["ReLU = ",r[2]??"?"]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx("p",{className:"text-gray-700 font-medium",children:((k=p[o])==null?void 0:k.label)||"Complete!"})})]}),e.jsx("div",{className:"mt-2 p-2 bg-yellow-100 rounded-lg w-full text-center border border-yellow-300",children:e.jsxs("p",{className:"text-yellow-800 text-sm font-medium",children:["ReLU(x) = max(0, x) = ","{"," x if x ",">"," 0, else 0 ","}"]})}),w?e.jsxs("div",{className:"mt-3 w-full max-w-sm text-center",children:[e.jsxs("div",{className:"p-4 bg-green-100 rounded-lg border border-green-300",children:[e.jsx("p",{className:"text-green-700 font-bold text-lg",children:"ðŸŽ‰ Congratulations!"}),e.jsxs("p",{className:"text-green-600 mt-2",children:["Score: ",P," / ",p.length," correct"]}),e.jsxs("p",{className:"text-green-600 text-sm",children:["Total attempts: ",z]})]}),e.jsx("button",{onClick:S,className:"mt-3 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white font-bold rounded-lg transition-colors",children:"ðŸŽ² New Problem"})]}):e.jsxs("div",{className:"mt-3 w-full max-w-sm",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",value:d,onChange:t=>b(t.target.value),onKeyPress:I,placeholder:"Your answer...",className:"flex-1 px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none text-center text-lg font-bold"}),e.jsx("button",{onClick:v,disabled:d.trim()==="",className:"px-4 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-400 text-white font-bold rounded-lg transition-colors",children:"Submit"})]}),e.jsx("button",{onClick:R,className:"mt-2 w-full px-4 py-2 bg-yellow-500 hover:bg-yellow-600 text-white font-bold rounded-lg transition-colors",children:"ðŸ’¡ Show Hint"}),M&&e.jsx("div",{className:"mt-2 p-3 bg-yellow-100 rounded-lg border border-yellow-300",children:e.jsx("p",{className:"text-yellow-800 text-sm font-mono",children:E()})}),g&&e.jsx("div",{className:`mt-2 p-3 rounded-lg text-center font-bold ${g.includes("âœ“")?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:g})]}),e.jsxs("div",{className:"mt-3 flex items-center gap-4",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:["Progress: ",r.filter(t=>t!==null).length," / ",p.length]}),e.jsx("button",{onClick:H,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white font-bold rounded-lg transition-colors text-sm",children:"â†º Reset"}),!w&&e.jsx("button",{onClick:S,className:"px-4 py-2 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-lg transition-colors text-sm",children:"ðŸŽ² New"})]})]})}export{X as default};
