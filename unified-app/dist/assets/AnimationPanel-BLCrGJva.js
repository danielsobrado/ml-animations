import{r as m,j as e}from"./index-CsxpOLHd.js";function F(){const[t,n]=m.useState(0),[i,c]=m.useState(!1),p=[[2,1,0],[1,1,1],[3,0,1]],h=[[1,-1,1,-5],[1,1,0,0],[0,1,1,1],[1,0,1,-2]],b=[[-1,-5,-5],[3,2,1],[5,2,3],[3,-1,-1]],o=[[0,0,0],[3,2,1],[5,2,3],[3,0,0]],u=[[1,1,-1,0],[0,0,1,-1]],y=[[-2,0,-2],[3,3,4]],j=[[0,0,0],[3,3,4]],a=[{title:"Ready",desc:"Click Play to start the animation"},{title:"Input X",desc:"The 3×3 input matrix"},{title:"Layer 1 Weights",desc:"Weight matrix W₁ (4×4)"},{title:"Matrix Multiply",desc:"Z₁ = X × W₁ᵀ (compute pre-activation)"},{title:"Apply ReLU",desc:"A₁ = ReLU(Z₁) = max(0, Z₁)"},{title:"Layer 2 Weights",desc:"Weight matrix W₂ (2×4)"},{title:"Matrix Multiply",desc:"Z₂ = A₁ × W₂ᵀ (compute pre-activation)"},{title:"Apply ReLU",desc:"A₂ = ReLU(Z₂) = Final Output"}],f=()=>{if(i)return;c(!0),n(0);let s=0;const r=setInterval(()=>{s++,s>=a.length?(clearInterval(r),c(!1)):n(s)},1500)},N=()=>{n(0),c(!1)},v=()=>{t<a.length-1&&n(t+1)},A=()=>{t>0&&n(t-1)},l=(s,r,x,w=!1,W=[])=>{const L={blue:"bg-blue-100 border-blue-400",green:"bg-green-100 border-green-400",purple:"bg-purple-100 border-purple-400",orange:"bg-orange-100 border-orange-400",red:"bg-red-100 border-red-400",yellow:"bg-yellow-100 border-yellow-400"};return e.jsxs("div",{className:`inline-block ${w?"ring-4 ring-yellow-400 rounded-lg":""}`,children:[e.jsx("p",{className:`text-sm font-bold text-center mb-1 text-${x}-700`,children:r}),e.jsx("div",{className:"inline-grid gap-0.5",style:{gridTemplateColumns:`repeat(${s[0].length}, 1fr)`},children:s.flat().map((g,d)=>{const R=Math.floor(d/s[0].length),P=d%s[0].length,U=W.some(([Z,k])=>Z===R&&k===P);return e.jsx("div",{className:`w-9 h-9 flex items-center justify-center text-sm font-mono font-bold border-2 rounded
                  ${L[x]}
                  ${U?"ring-2 ring-red-500 bg-red-200":""}
                  ${g<0?"text-red-700":"text-gray-800"}`,children:g},d)})})]})};return e.jsxs("div",{className:"p-4",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3 text-center",children:"Animation Demo"}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 min-h-[450px]",children:[t===0&&e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx("p",{className:"text-xl text-gray-500",children:"Click Play to start"})}),t>=1&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3",children:[e.jsx("div",{className:t===1?"animate-pulse":"",children:l(p,"X (Input)","blue",t===1)}),t>=2&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"×"}),e.jsx("div",{className:t===2?"animate-pulse":"",children:l(h,"W₁ (Weights)","green",t===2)})]}),t>=3&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"="}),e.jsx("div",{className:t===3?"animate-pulse":"",children:l(b,"Z₁ (Pre-ReLU)","purple",t===3)})]}),t>=4&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-2xl font-bold text-orange-500",children:"→ φ ≈"}),e.jsx("div",{className:t===4?"animate-pulse":"",children:l(o,"A₁ (After ReLU)","orange",t===4)})]})]}),t>=5&&e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-3 pt-4 border-t border-gray-200",children:[e.jsx("div",{className:"",children:l(o,"A₁","orange")}),t>=5&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"×"}),e.jsx("div",{className:t===5?"animate-pulse":"",children:l(u,"W₂ (Weights)","green",t===5)})]}),t>=6&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-2xl font-bold text-gray-400",children:"="}),e.jsx("div",{className:t===6?"animate-pulse":"",children:l(y,"Z₂ (Pre-ReLU)","red",t===6)})]}),t>=7&&e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-2xl font-bold text-orange-500",children:"→ φ ≈"}),e.jsx("div",{className:t===7?"animate-pulse":"",children:l(j,"A₂ (Output)","yellow",t===7)})]})]})]})]}),e.jsxs("div",{className:"mt-4 flex justify-center gap-2",children:[e.jsx("button",{onClick:A,disabled:t===0||i,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50",children:"← Prev"}),e.jsx("button",{onClick:f,disabled:i,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50",children:i?"Playing...":"Play"}),e.jsx("button",{onClick:N,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700",children:"Reset"}),e.jsx("button",{onClick:v,disabled:t>=a.length-1||i,className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 disabled:opacity-50",children:"Next →"})]}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Step ",t,"/",a.length-1,": ",a[t].title]}),e.jsx("p",{className:"text-sm text-gray-500",children:a[t].desc}),e.jsx("div",{className:"mt-2 flex justify-center gap-1",children:a.map((s,r)=>e.jsx("div",{className:`w-3 h-3 rounded-full ${r<=t?"bg-blue-600":"bg-gray-300"}`},r))})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-sm text-gray-700",children:e.jsx("strong",{children:"Two-Layer Network:"})}),e.jsx("p",{className:"text-sm font-mono text-gray-600 mt-1",children:"Layer 1: A₁ = ReLU(X × W₁ᵀ + b₁)"}),e.jsx("p",{className:"text-sm font-mono text-gray-600",children:"Layer 2: A₂ = ReLU(A₁ × W₂ᵀ + b₂)"}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"φ (ReLU): max(0, z) — negative values become 0"})]})]})}export{F as default};
