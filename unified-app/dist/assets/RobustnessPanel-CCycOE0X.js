import{r as h,j as e}from"./index-BmgLEcVh.js";import{R as N}from"./CategoricalChart-B3gtutcW.js";import{S as w,a as v}from"./ScatterChart-CMyvbkPq.js";import{C as k,X as S,Y}from"./CartesianChart-JiyIF1-F.js";import{T as C}from"./Tooltip-DB7iJmxT.js";import{C as X}from"./tooltipContext-C7z7tGNX.js";import"./Sector-CA3PXCa0.js";import"./Symbols-DCSkJhyu.js";import"./ActiveShapeUtils-B4dTBMil.js";import"./ErrorBarContext-BI9_YV4U.js";import"./useElementOffset-7v_xyInG.js";const R=[{id:1,x:10,y:10},{id:2,x:20,y:20},{id:3,x:30,y:30},{id:4,x:40,y:40},{id:5,x:50,y:50},{id:6,x:60,y:60},{id:7,x:70,y:70}];function G(){const[f,P]=h.useState(R),[d,b]=h.useState(80),x=f.map(t=>t.id===7?{...t,y:d}:t),j=t=>{const l=t.length,o=t.reduce((a,r)=>a+r.x,0),i=t.reduce((a,r)=>a+r.y,0),c=t.reduce((a,r)=>a+r.x*r.y,0),p=t.reduce((a,r)=>a+r.x*r.x,0),n=t.reduce((a,r)=>a+r.y*r.y,0),s=l*c-o*i,y=Math.sqrt((l*p-o*o)*(l*n-i*i));return s/y},g=t=>{const l=[...t].sort((n,s)=>n.x-s.x),o=[...t].sort((n,s)=>n.y-s.y),i=t.map(n=>({...n,rankX:l.findIndex(s=>s.id===n.id)+1,rankY:o.findIndex(s=>s.id===n.id)+1})),c=t.length;return 1-6*i.reduce((n,s)=>n+Math.pow(s.rankX-s.rankY,2),0)/(c*(c*c-1))},m=j(x),u=g(x);return e.jsxs("div",{className:"p-8 h-full flex flex-col items-center",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-indigo-900 mb-4",children:"Robustness to Outliers"}),e.jsxs("p",{className:"text-lg text-slate-700 leading-relaxed",children:["Drag the slider to create an extreme outlier. Watch how ",e.jsx("strong",{children:"Pearson"})," panics, while ",e.jsx("strong",{children:"Spearman"})," stays calm."]})]}),e.jsxs("div",{className:"w-full max-w-md bg-white p-6 rounded-xl shadow-lg border border-slate-200 mb-8",children:[e.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:["Outlier Y Value: ",d]}),e.jsx("input",{type:"range",min:"0",max:"1000",step:"10",value:d,onChange:t=>b(Number(t.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-400 mt-1",children:[e.jsx("span",{children:"0"}),e.jsx("span",{children:"500"}),e.jsx("span",{children:"1000 (Extreme!)"})]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 w-full max-w-5xl",children:[e.jsx("div",{className:"flex-1 h-[300px] bg-slate-50 rounded-xl border border-slate-200 p-4",children:e.jsx(N,{width:"100%",height:"100%",children:e.jsxs(w,{margin:{top:20,right:20,bottom:20,left:20},children:[e.jsx(k,{}),e.jsx(S,{type:"number",dataKey:"x",name:"X",domain:[0,80]}),e.jsx(Y,{type:"number",dataKey:"y",name:"Y",domain:[0,1e3]}),e.jsx(C,{cursor:{strokeDasharray:"3 3"}}),e.jsx(v,{name:"Data",data:x,fill:"#8884d8",children:x.map((t,l)=>e.jsx(X,{fill:l===6?"#ef4444":"#3b82f6"},`cell-${l}`))})]})})}),e.jsxs("div",{className:"flex-1 flex flex-col gap-4 justify-center",children:[e.jsxs("div",{className:"bg-blue-50 p-6 rounded-xl border-2 border-blue-200 transition-all duration-300",children:[e.jsx("h3",{className:"text-blue-900 font-bold uppercase tracking-wider text-sm mb-1",children:"Pearson Correlation"}),e.jsx("p",{className:"text-4xl font-mono font-bold text-blue-600",children:m.toFixed(3)}),e.jsx("p",{className:"text-blue-800 text-sm mt-2",children:m<.5?"ðŸ˜± Ruined by the outlier!":"âœ… Strong linear relationship"})]}),e.jsxs("div",{className:"bg-green-50 p-6 rounded-xl border-2 border-green-200 transition-all duration-300",children:[e.jsx("h3",{className:"text-green-900 font-bold uppercase tracking-wider text-sm mb-1",children:"Spearman Correlation"}),e.jsx("p",{className:"text-4xl font-mono font-bold text-green-600",children:u.toFixed(3)}),e.jsx("p",{className:"text-green-800 text-sm mt-2",children:u>.9?"ðŸ˜Ž Still perfect! (Rank didn't change)":"ðŸ¤” Rank changed significantly"})]})]})]})]})}export{G as default};
