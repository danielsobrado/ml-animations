import{r as i,j as e,m as y,y as g}from"./index-quAWpIA7.js";import{P as w}from"./pause-Ch50eX2B.js";import{P as v}from"./play-DgR7o5cW.js";function W(){const[r,o]=i.useState(0),[n,d]=i.useState(!1),[l,h]=i.useState(2),[k,p]=i.useState(!1),c=["the","quick","brown","fox","jumps","over","the","lazy","dog"],a=4,x=[{title:"Input Sentence",description:"Start with a sentence from your corpus"},{title:"Choose Center Word",description:"Select a word to be the center (input) word"},{title:"Define Context Window",description:"Words within window size are context words"},{title:"Create Training Pairs",description:"Each (center, context) pair is a training example"},{title:"Train Neural Network",description:"Predict context words from center word"},{title:"Extract Embeddings",description:"The learned weights become word vectors"}];i.useEffect(()=>{if(n){const s=setInterval(()=>{o(t=>t>=x.length-1?(d(!1),t):t+1)},2500);return()=>clearInterval(s)}},[n]);const b=()=>{o(0),d(!1),p(!1)},m=(()=>{const s=[];for(let t=Math.max(0,a-l);t<=Math.min(c.length-1,a+l);t++)t!==a&&s.push(t);return s})(),u=m.map(s=>({center:c[a],context:c[s],position:s<a?"left":"right"}));return e.jsxs("div",{className:"space-y-6 pb-20",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[e.jsx("span",{className:"text-green-400",children:"Skip-gram"}),": Predict Context from Center"]}),e.jsx("p",{className:"text-gray-800 dark:text-gray-400",children:"Given a word, predict the surrounding words"})]}),e.jsxs("div",{className:"flex flex-wrap justify-center gap-3",children:[e.jsxs("button",{onClick:()=>d(!n),className:"flex items-center gap-2 px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg transition-colors",children:[n?e.jsx(w,{size:18}):e.jsx(v,{size:18}),n?"Pause":"Play Animation"]}),e.jsxs("button",{onClick:b,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:[e.jsx(y,{size:18}),"Reset"]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-white/5 rounded-lg",children:[e.jsx("span",{className:"text-sm text-gray-800 dark:text-gray-400",children:"Window Size:"}),e.jsx("select",{value:l,onChange:s=>h(parseInt(s.target.value)),className:"bg-gray-700 rounded px-2 py-1 text-sm",children:[1,2,3,4].map(s=>e.jsx("option",{value:s,children:s},s))})]})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:x.map((s,t)=>e.jsxs("button",{onClick:()=>{o(t),d(!1)},className:`px-3 py-1 rounded-full text-sm transition-all ${t===r?"bg-green-500 text-black scale-110":t<r?"bg-green-900 text-green-300":"bg-white/10 text-gray-700 dark:text-gray-500"}`,children:[t+1,". ",s.title]},t))}),e.jsxs("div",{className:"bg-green-900/20 border border-green-500/30 rounded-xl p-4",children:[e.jsxs("h3",{className:"font-bold text-green-400",children:["Step ",r+1,": ",x[r].title]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300 mt-1",children:x[r].description})]}),e.jsxs("div",{className:"bg-black/30 rounded-2xl p-6 border border-white/10",children:[e.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-6",children:c.map((s,t)=>{const j=t===a&&r>=1,f=m.includes(t)&&r>=2,N=Math.abs(t-a)<=l&&t!==a;return e.jsx("div",{className:`px-4 py-2 rounded-lg font-mono text-lg transition-all duration-300 ${j?"bg-green-500 text-black scale-110 shadow-lg shadow-green-500/50":f?"bg-blue-500 text-white scale-105 shadow-lg shadow-blue-500/50":r>=2&&N?"bg-blue-900/50 border border-blue-500/50":"bg-white/10 text-gray-800 dark:text-gray-400"}`,children:s},t)})}),r>=2&&e.jsx("div",{className:"text-center mb-6 animate-fadeIn",children:e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white/5 rounded-lg",children:[e.jsx("span",{className:"text-gray-800 dark:text-gray-400",children:"Window size:"}),e.jsx("span",{className:"text-green-400 font-bold",children:l}),e.jsx("span",{className:"text-gray-800 dark:text-gray-400",children:"‚Üí"}),e.jsxs("span",{className:"text-blue-600 dark:text-blue-400",children:[m.length," context words"]})]})}),r>=3&&e.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[e.jsx("h4",{className:"text-center text-gray-800 dark:text-gray-400 mb-2",children:"Training Pairs (center ‚Üí context):"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:u.map((s,t)=>e.jsx("div",{className:"bg-gradient-to-r from-green-900/30 to-blue-900/30 rounded-lg p-3 border border-white/10 animate-fadeIn",style:{animationDelay:`${t*100}ms`},children:e.jsxs("div",{className:"flex items-center justify-center gap-2 font-mono",children:[e.jsx("span",{className:"text-green-400",children:s.center}),e.jsx(g,{size:14,className:"text-gray-700 dark:text-gray-500"}),e.jsx("span",{className:"text-blue-600 dark:text-blue-400",children:s.context})]})},t))})]}),r>=4&&e.jsxs("div",{className:"mt-8 animate-fadeIn",children:[e.jsx("h4",{className:"text-center text-gray-800 dark:text-gray-400 mb-4",children:"Skip-gram Neural Network:"}),e.jsxs("div",{className:"flex justify-center items-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 rounded-lg bg-green-900/50 border border-green-500 flex items-center justify-center",children:e.jsx("div",{className:"font-mono text-green-400",children:"jumps"})}),e.jsxs("div",{className:"text-xs text-gray-700 dark:text-gray-500 mt-2",children:["Input",e.jsx("br",{}),"(one-hot)"]})]}),e.jsx(g,{className:"text-gray-700 dark:text-gray-500"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"w-24 h-20 rounded-lg bg-purple-900/50 border border-purple-500 flex flex-col items-center justify-center px-2",children:[e.jsx("div",{className:"text-xs text-purple-300 mb-1",children:"W (V√óD)"}),e.jsx("div",{className:"text-xs text-gray-800 dark:text-gray-400",children:"Embedding"})]}),e.jsxs("div",{className:"text-xs text-gray-700 dark:text-gray-500 mt-2",children:["Hidden Layer",e.jsx("br",{}),"(D dims)"]})]}),e.jsx(g,{className:"text-gray-700 dark:text-gray-500"}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"w-20 h-20 rounded-lg bg-blue-900/50 border border-blue-500 flex flex-col items-center justify-center",children:[e.jsx("div",{className:"font-mono text-xs text-blue-600 dark:text-blue-400",children:"quick"}),e.jsx("div",{className:"font-mono text-xs text-blue-600 dark:text-blue-400",children:"brown"}),e.jsx("div",{className:"font-mono text-xs text-blue-600 dark:text-blue-400",children:"over"}),e.jsx("div",{className:"font-mono text-xs text-blue-600 dark:text-blue-400",children:"the"})]}),e.jsxs("div",{className:"text-xs text-gray-700 dark:text-gray-500 mt-2",children:["Output",e.jsx("br",{}),"(softmax)"]})]})]})]}),r>=5&&e.jsxs("div",{className:"mt-8 bg-gradient-to-r from-purple-900/30 to-pink-900/30 rounded-xl p-6 border border-purple-500/30 animate-fadeIn",children:[e.jsx("h4",{className:"text-purple-600 dark:text-purple-400 font-bold mb-3",children:"üéØ The Word Embeddings"}),e.jsx("p",{className:"text-gray-700 dark:text-sm mb-4",children:"After training, the weight matrix W becomes our word embedding matrix. Each row is the embedding vector for a word."}),e.jsx("div",{className:"font-mono text-sm bg-black/30 rounded-lg p-4 overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left text-gray-700 dark:text-gray-500 pr-4",children:"Word"}),e.jsx("th",{className:"text-gray-700 dark:text-gray-500",colSpan:"4",children:"Embedding (D=4 for demo)"})]})}),e.jsx("tbody",{children:["the","quick","brown","fox","jumps"].map((s,t)=>e.jsxs("tr",{children:[e.jsx("td",{className:"text-green-400 pr-4",children:s}),e.jsxs("td",{className:"text-purple-300 px-2",children:["[",(Math.random()*2-1).toFixed(2),","]}),e.jsxs("td",{className:"text-purple-300 px-2",children:[(Math.random()*2-1).toFixed(2),","]}),e.jsxs("td",{className:"text-purple-300 px-2",children:[(Math.random()*2-1).toFixed(2),","]}),e.jsxs("td",{className:"text-purple-300 px-2",children:[(Math.random()*2-1).toFixed(2),"]"]})]},t))})]})})]})]}),e.jsxs("div",{className:"bg-black/40 rounded-xl p-6 border border-white/10",children:[e.jsx("h4",{className:"font-bold text-white mb-4",children:"üìê Skip-gram Objective"}),e.jsxs("div",{className:"bg-black/50 rounded-lg p-4 text-center font-mono",children:[e.jsx("p",{className:"text-green-300",children:"maximize Œ£ log P(context | center)"}),e.jsxs("p",{className:"text-sm text-gray-800 dark:text-gray-400 mt-2",children:["P(context | center) = softmax(W'",e.jsx("sub",{children:"context"})," ¬∑ W",e.jsx("sub",{children:"center"}),")"]})]}),e.jsx("p",{className:"text-gray-800 dark:text-sm mt-4",children:"We want to maximize the probability of seeing actual context words given the center word."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-green-900/20 rounded-xl p-4 border border-green-500/30",children:[e.jsx("h4",{className:"font-bold text-green-400 mb-2",children:"‚úÖ Skip-gram Strengths"}),e.jsxs("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Works well with small datasets"}),e.jsx("li",{children:"‚Ä¢ Better representation for rare words"}),e.jsx("li",{children:"‚Ä¢ Captures subtle semantic relationships"})]})]}),e.jsxs("div",{className:"bg-red-900/20 rounded-xl p-4 border border-red-500/30",children:[e.jsx("h4",{className:"font-bold text-red-400 mb-2",children:"‚ùå Skip-gram Weaknesses"}),e.jsxs("ul",{className:"text-sm text-gray-700 dark:text-gray-300 space-y-1",children:[e.jsx("li",{children:"‚Ä¢ Slower to train (more predictions per word)"}),e.jsx("li",{children:"‚Ä¢ Original softmax is expensive (vocabulary size)"}),e.jsx("li",{children:"‚Ä¢ Requires negative sampling for efficiency"})]})]})]})]})}export{W as default};
