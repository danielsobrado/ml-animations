import{r as p,j as e}from"./index-quAWpIA7.js";import{A as f}from"./index-5ncPk15p.js";import{m as b}from"./proxy-D7LjGbFl.js";const j=[{id:"A",x:10,y:5},{id:"B",x:50,y:40},{id:"C",x:30,y:20},{id:"D",x:20,y:10},{id:"E",x:40,y:60}],r=[{id:"raw",title:"1. Raw Data",desc:"Start with raw (X, Y) pairs."},{id:"sortX",title:"2. Rank X",desc:"Sort by X and assign Rank X (1 = smallest)."},{id:"sortY",title:"3. Rank Y",desc:"Sort by Y and assign Rank Y (1 = smallest)."},{id:"diff",title:"4. Calculate d",desc:"Difference d = Rank X - Rank Y"},{id:"diffSq",title:"5. Square d",desc:"Square the differences (d²)"},{id:"sum",title:"6. Sum d²",desc:"Sum all d² values."},{id:"formula",title:"7. Apply Formula",desc:"ρ = 1 - (6 * Σd²) / (n(n² - 1))"}];function y(){const[s,x]=p.useState(0),o=(()=>{let t=[...j];const l=[...t].sort((a,d)=>a.x-d.x);t=t.map(a=>({...a,rankX:l.findIndex(d=>d.id===a.id)+1}));const h=[...t].sort((a,d)=>a.y-d.y);return t=t.map(a=>({...a,rankY:h.findIndex(d=>d.id===a.id)+1})),t=t.map(a=>({...a,d:a.rankX-a.rankY,d2:Math.pow(a.rankX-a.rankY,2)})),t})(),c=o.reduce((t,l)=>t+l.d2,0),n=o.length,m=1-6*c/(n*(n*n-1));let i=[...o];return s===1&&i.sort((t,l)=>t.x-l.x),s===2&&i.sort((t,l)=>t.y-l.y),s>=3&&i.sort((t,l)=>t.id.localeCompare(l.id)),e.jsxs("div",{className:"p-8 h-full flex flex-col items-center",children:[e.jsxs("div",{className:"w-full max-w-4xl mb-6 flex justify-between items-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800",children:"Step-by-Step Calculation"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>x(Math.max(0,s-1)),className:"px-4 py-2 bg-slate-200 rounded hover:bg-slate-300 font-bold",disabled:s===0,children:"Previous"}),e.jsx("button",{onClick:()=>x(Math.min(r.length-1,s+1)),className:"px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-700 font-bold",disabled:s===r.length-1,children:"Next"})]})]}),e.jsxs("div",{className:"w-full max-w-4xl bg-indigo-50 p-4 rounded-lg border border-indigo-200 mb-6",children:[e.jsx("h3",{className:"font-bold text-indigo-900",children:r[s].title}),e.jsx("p",{className:"text-indigo-800",children:r[s].desc})]}),e.jsx("div",{className:"w-full max-w-4xl overflow-hidden rounded-xl shadow-lg border border-slate-200 bg-white",children:e.jsxs("table",{className:"w-full text-left border-collapse",children:[e.jsx("thead",{className:"bg-slate-100 text-slate-800 dark:text-slate-600 uppercase text-sm font-bold",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-4",children:"ID"}),e.jsx("th",{className:"p-4",children:"X"}),e.jsx("th",{className:"p-4",children:"Y"}),e.jsx("th",{className:`p-4 transition-colors ${s>=1?"text-blue-600":"text-slate-300"}`,children:"Rank X"}),e.jsx("th",{className:`p-4 transition-colors ${s>=2?"text-green-600":"text-slate-300"}`,children:"Rank Y"}),e.jsx("th",{className:`p-4 transition-colors ${s>=3?"text-purple-600":"text-slate-300"}`,children:"d"}),e.jsx("th",{className:`p-4 transition-colors ${s>=4?"text-red-600":"text-slate-300"}`,children:"d²"})]})}),e.jsx("tbody",{children:e.jsx(f,{children:i.map(t=>e.jsxs(b.tr,{layout:!0,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"border-b border-slate-100 hover:bg-slate-50",children:[e.jsx("td",{className:"p-4 font-bold text-slate-700",children:t.id}),e.jsx("td",{className:"p-4 text-slate-800 dark:text-slate-600",children:t.x}),e.jsx("td",{className:"p-4 text-slate-800 dark:text-slate-600",children:t.y}),e.jsx("td",{className:"p-4 font-mono font-bold text-blue-600",children:s>=1?t.rankX:"-"}),e.jsx("td",{className:"p-4 font-mono font-bold text-green-600",children:s>=2?t.rankY:"-"}),e.jsx("td",{className:"p-4 font-mono font-bold text-purple-600",children:s>=3?t.d:"-"}),e.jsx("td",{className:"p-4 font-mono font-bold text-red-600",children:s>=4?t.d2:"-"})]},t.id))})}),s>=5&&e.jsx("tfoot",{className:"bg-slate-50 font-bold",children:e.jsxs("tr",{children:[e.jsx("td",{colSpan:"6",className:"p-4 text-right text-slate-800 dark:text-slate-600",children:"Sum (Σd²):"}),e.jsx("td",{className:"p-4 text-xl",children:c})]})})]})}),s>=6&&e.jsxs("div",{className:"mt-8 p-6 bg-white rounded-xl shadow-lg border-2 border-indigo-100 text-center animate-fade-in",children:[e.jsx("p",{className:"text-slate-700 dark:text-sm mb-2",children:"Formula Application"}),e.jsxs("div",{className:"text-2xl font-mono text-slate-800",children:["ρ = 1 - ",e.jsxs("span",{className:"text-red-600",children:["6(",c,")"]})," / ",e.jsxs("span",{className:"text-blue-600",children:[n,"(",n,"² - 1)"]})]}),e.jsxs("div",{className:"text-4xl font-bold text-indigo-600 mt-4",children:["ρ = ",m.toFixed(3)]})]})]})}export{y as default};
