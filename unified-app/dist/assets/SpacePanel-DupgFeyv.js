import{r as C,j as f}from"./index-CsxpOLHd.js";import{$ as P,v as E,a0 as G,w as H,S as I,C as V,a1 as U,h as K,W as Y,l as $,M as J,a as Q,B as X,a2 as Z,a3 as ee,a4 as te}from"./three.module-CNl0Zq82.js";import{O as ne}from"./OrbitControls-Dcmib8vM.js";class re extends G{constructor(h=document.createElement("div")){super(),this.isCSS2DObject=!0,this.element=h,this.element.style.position="absolute",this.element.style.userSelect="none",this.element.setAttribute("draggable",!1),this.center=new H(.5,.5),this.addEventListener("removed",function(){this.traverse(function(a){a.element&&a.element instanceof a.element.ownerDocument.defaultView.Element&&a.element.parentNode!==null&&a.element.remove()})})}copy(h,a){return super.copy(h,a),this.element=h.element.cloneNode(!0),this.center=h.center,this}}const y=new E,D=new P,W=new P,A=new E,N=new E;class se{constructor(h={}){const a=this;let w,l,p,d;const c={objects:new WeakMap},o=h.element!==void 0?h.element:document.createElement("div");o.style.overflow="hidden",this.domElement=o,this.sortObjects=!0,this.getSize=function(){return{width:w,height:l}},this.render=function(e,t){e.matrixWorldAutoUpdate===!0&&e.updateMatrixWorld(),t.parent===null&&t.matrixWorldAutoUpdate===!0&&t.updateMatrixWorld(),D.copy(t.matrixWorldInverse),W.multiplyMatrices(t.projectionMatrix,D),x(e,e,t),this.sortObjects&&v(e)},this.setSize=function(e,t){w=e,l=t,p=w/2,d=l/2,o.style.width=e+"px",o.style.height=t+"px"};function u(e){e.isCSS2DObject&&(e.element.style.display="none");for(let t=0,s=e.children.length;t<s;t++)u(e.children[t])}function x(e,t,s){if(e.visible===!1){u(e);return}if(e.isCSS2DObject){y.setFromMatrixPosition(e.matrixWorld),y.applyMatrix4(W);const r=y.z>=-1&&y.z<=1&&e.layers.test(s.layers)===!0,n=e.element;n.style.display=r===!0?"":"none",r===!0&&(e.onBeforeRender(a,t,s),n.style.transform="translate("+-100*e.center.x+"%,"+-100*e.center.y+"%)translate("+(y.x*p+p)+"px,"+(-y.y*d+d)+"px)",n.parentNode!==o&&o.appendChild(n),e.onAfterRender(a,t,s));const m={distanceToCameraSquared:S(s,e)};c.objects.set(e,m)}for(let r=0,n=e.children.length;r<n;r++)x(e.children[r],t,s)}function S(e,t){return A.setFromMatrixPosition(e.matrixWorld),N.setFromMatrixPosition(t.matrixWorld),A.distanceToSquared(N)}function g(e){const t=[];return e.traverseVisible(function(s){s.isCSS2DObject&&t.push(s)}),t}function v(e){const t=g(e).sort(function(r,n){if(r.renderOrder!==n.renderOrder)return n.renderOrder-r.renderOrder;const m=c.objects.get(r).distanceToCameraSquared,z=c.objects.get(n).distanceToCameraSquared;return m-z}),s=t.length;for(let r=0,n=t.length;r<n;r++)t[r].element.style.zIndex=s-r}}}function le(){const i=C.useRef(null),[h,a]=C.useState(null),w={animals:{color:16281969,words:["Dog","Cat","Lion","Tiger","Wolf","Puppy","Kitten"]},tech:{color:6333946,words:["Computer","Laptop","Phone","Code","Algorithm","AI","Robot"]},food:{color:16436245,words:["Pizza","Burger","Sushi","Pasta","Bread","Cheese","Apple"]},cities:{color:4906624,words:["Paris","London","Tokyo","New York","Berlin","Rome","Dubai"]}};return C.useEffect(()=>{if(!i.current)return;const l=i.current.clientWidth,p=500,d=new I;d.background=new V(988970),d.fog=new U(988970,.05);const c=new K(60,l/p,.1,1e3);c.position.set(15,10,15);const o=new Y({antialias:!0});o.setSize(l,p),i.current.appendChild(o.domElement);const u=new se;u.setSize(l,p),u.domElement.style.position="absolute",u.domElement.style.top="0px",u.domElement.style.pointerEvents="none",i.current.appendChild(u.domElement);const x=new ne(c,o.domElement);x.enableDamping=!0,x.autoRotate=!0,x.autoRotateSpeed=.5,Object.entries(w).forEach(([n,m],z)=>{const R=(Math.random()-.5)*20,j=(Math.random()-.5)*20,_=(Math.random()-.5)*20;m.words.forEach(B=>{const L=R+(Math.random()-.5)*4,T=j+(Math.random()-.5)*4,k=_+(Math.random()-.5)*4,F=new $(.2,16,16),q=new J({color:m.color}),M=new Q(F,q);M.position.set(L,T,k),d.add(M);const b=document.createElement("div");b.className="text-xs font-bold text-white bg-black/50 px-2 py-1 rounded backdrop-blur-sm",b.textContent=B;const O=new re(b);O.position.set(0,.4,0),M.add(O)})});const S=new X,g=1e3,v=new Float32Array(g*3);for(let n=0;n<g*3;n++)v[n]=(Math.random()-.5)*100;S.setAttribute("position",new Z(v,3));const e=new ee({size:.1,color:16777215,transparent:!0,opacity:.5}),t=new te(S,e);d.add(t);const s=()=>{requestAnimationFrame(s),x.update(),o.render(d,c),u.render(d,c)};s();const r=()=>{if(!i.current)return;const n=i.current.clientWidth,m=i.current.clientHeight;c.aspect=n/m,c.updateProjectionMatrix(),o.setSize(n,m),u.setSize(n,m)};return window.addEventListener("resize",r),()=>{window.removeEventListener("resize",r),o.dispose(),i.current&&(i.current.innerHTML="")}},[]),f.jsxs("div",{className:"p-4 h-full flex flex-col",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-cyan-400",children:"3D Semantic Galaxy"}),f.jsx("div",{className:"flex gap-2",children:Object.entries(w).map(([l,p])=>f.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-slate-700 rounded-full text-xs",children:[f.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:"#"+p.color.toString(16)}}),f.jsx("span",{className:"capitalize text-slate-300",children:l})]},l))})]}),f.jsx("div",{className:"bg-slate-700/50 rounded-xl border border-slate-600 p-2 text-center text-sm text-slate-400 mb-2",children:"Drag to rotate • Scroll to zoom • Words with similar meanings cluster together"}),f.jsx("div",{ref:i,className:"flex-1 rounded-xl overflow-hidden shadow-inner border border-slate-700 relative min-h-[400px]"})]})}export{le as default};
