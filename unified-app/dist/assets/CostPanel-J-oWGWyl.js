import{r as x,j as e}from"./index-BmgLEcVh.js";import{S as I,C as R,P as W,W as O,A as X,D as q,n as B,u as v,v as T,d as f,c as V,b as Y}from"./three.module-DCYoyzkr.js";import{O as Z}from"./OrbitControls-rHil9uzW.js";function Q(){const r=x.useRef(null),[l,y]=x.useState(1),[i,S]=x.useState(0),b=[{x:1,y:2},{x:2,y:3},{x:3,y:5},{x:4,y:4},{x:5,y:6}],u=(a,d)=>{let t=0;return b.forEach(o=>{const n=a*o.x+d;t+=Math.pow(o.y-n,2)}),t/b.length},C=u(l,i);return x.useEffect(()=>{if(!r.current)return;const a=r.current.clientWidth,d=500,t=new I;t.background=new R(16317180);const o=new W(60,a/d,.1,1e3);o.position.set(5,5,5),o.lookAt(0,0,0);const n=new O({antialias:!0});n.setSize(a,d),r.current.appendChild(n.domElement);const w=new Z(o,n.domElement);w.enableDamping=!0;const E=new X(16777215,.6);t.add(E);const g=new q(16777215,.8);g.position.set(5,10,5),t.add(g);const c=new B(6,6,50,50),m=c.attributes.position;for(let s=0;s<m.count;s++){const p=m.getX(s),h=m.getY(s),z=p/1.5+1,A=h/1.5+1,G=u(z,A)/5;m.setZ(s,G)}c.computeVertexNormals(),c.rotateX(-Math.PI/2);const M=new v({color:6514417,roughness:.4,metalness:.2,side:T,wireframe:!1}),L=new f(c,M);t.add(L);const k=new V({color:4405450,wireframe:!0,transparent:!0,opacity:.2}),D=new f(c,k);t.add(D);const F=new Y(.2,32,32),P=new v({color:15680580,emissive:10033947}),j=new f(F,P);t.add(j);const N=()=>{requestAnimationFrame(N),w.update();const s=(l-1)*1.5,p=(i-1)*1.5,h=u(l,i)/5;j.position.set(s,h,-p),n.render(t,o)};return N(),()=>{var s;n.dispose(),(s=r.current)!=null&&s.contains(n.domElement)&&r.current.removeChild(n.domElement)}},[l,i]),e.jsxs("div",{className:"p-8 h-full flex flex-col items-center",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-indigo-900 mb-4",children:"The Cost Landscape"}),e.jsxs("p",{className:"text-lg text-slate-700 leading-relaxed",children:['Every combination of Slope and Intercept has a "Cost" (MSE).',e.jsx("br",{}),"Finding the best line means finding the ",e.jsx("strong",{children:"lowest point"})," in this bowl."]})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-8 w-full max-w-6xl h-[500px]",children:[e.jsxs("div",{className:"w-full md:w-80 flex flex-col gap-6 bg-white p-6 rounded-xl shadow-lg border border-slate-200 z-10",children:[e.jsx("h3",{className:"font-bold text-slate-500 uppercase text-xs mb-4",children:"Navigate the Landscape"}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"flex justify-between text-sm font-bold text-slate-700 mb-2",children:["Slope (m): ",e.jsx("span",{className:"text-indigo-600",children:l.toFixed(2)})]}),e.jsx("input",{type:"range",min:"-1",max:"3",step:"0.1",value:l,onChange:a=>y(Number(a.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("label",{className:"flex justify-between text-sm font-bold text-slate-700 mb-2",children:["Intercept (b): ",e.jsx("span",{className:"text-indigo-600",children:i.toFixed(2)})]}),e.jsx("input",{type:"range",min:"-1",max:"3",step:"0.1",value:i,onChange:a=>S(Number(a.target.value)),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"})]}),e.jsxs("div",{className:"mt-auto",children:[e.jsx("p",{className:"text-sm text-slate-500 mb-1",children:"Current Cost (MSE)"}),e.jsx("p",{className:"text-3xl font-mono font-bold text-slate-800",children:C.toFixed(3)})]})]}),e.jsx("div",{ref:r,className:"flex-1 rounded-xl overflow-hidden shadow-inner border border-slate-300 relative",children:e.jsx("div",{className:"absolute top-4 left-4 bg-white/80 p-2 rounded text-xs font-mono pointer-events-none",children:"3D Cost Surface"})})]})]})}export{Q as default};
