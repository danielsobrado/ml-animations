import{r as M,j as o}from"./index-BmgLEcVh.js";const S=[[3,1],[1,2]],g=[[.85,.53],[-.53,.85]],V=[3.62,1.38];function W(){const N=M.useRef(null),[c,v]=M.useState(1),[d,b]=M.useState(0),[I,E]=M.useState(!1),l=60,a=250,i=200,T=S[0][0]*c+S[0][1]*d,j=S[1][0]*c+S[1][1]*d,P=Math.sqrt(c**2+d**2),k=Math.sqrt(T**2+j**2),R=P>.01?k/P:0,x=((t=.15)=>{const e=Math.sqrt(c**2+d**2);if(e<.1)return!1;const h=[c/e,d/e];for(let n=0;n<g.length;n++){const r=g[n];if(Math.abs(h[0]*r[0]+h[1]*r[1])>1-t)return n+1}return!1})();M.useEffect(()=>{const t=N.current;if(!t)return;const e=t.getContext("2d");(()=>{e.fillStyle="#ffffff",e.fillRect(0,0,t.width,t.height),e.strokeStyle="#f0f0f0",e.lineWidth=1;for(let s=-4;s<=4;s++)e.beginPath(),e.moveTo(a+s*l,0),e.lineTo(a+s*l,t.height),e.stroke(),e.beginPath(),e.moveTo(0,i+s*l),e.lineTo(t.width,i+s*l),e.stroke();e.strokeStyle="#cccccc",e.lineWidth=2,e.beginPath(),e.moveTo(0,i),e.lineTo(t.width,i),e.stroke(),e.beginPath(),e.moveTo(a,0),e.lineTo(a,t.height),e.stroke(),e.strokeStyle="#d0d0d0",e.lineWidth=2,e.setLineDash([5,5]);const n=g[0];e.beginPath(),e.moveTo(a-n[0]*300,i+n[1]*300),e.lineTo(a+n[0]*300,i-n[1]*300),e.stroke();const r=g[1];e.beginPath(),e.moveTo(a-r[0]*300,i+r[1]*300),e.lineTo(a+r[0]*300,i-r[1]*300),e.stroke(),e.setLineDash([]),X(e,0,0,T,j,"#ed7d31","Av",3),X(e,0,0,c,d,"#5b9bd5","v",4),x&&(e.fillStyle=x===1?"#70ad47":"#7030a0",e.font="bold 18px Arial",e.fillText(`ðŸŽ¯ On Eigenvector ${x}!`,10,30),e.font="14px Arial",e.fillText("Both vectors align!",10,50))})()},[c,d,T,j,x]);const X=(t,e,h,n,r,s,f,p)=>{const F=a+e*l,Y=i-h*l,m=a+n*l,u=i-r*l;t.strokeStyle=s,t.lineWidth=p,t.beginPath(),t.moveTo(F,Y),t.lineTo(m,u),t.stroke();const w=Math.atan2(u-Y,m-F),y=15;t.fillStyle=s,t.beginPath(),t.moveTo(m,u),t.lineTo(m-y*Math.cos(w-Math.PI/6),u-y*Math.sin(w-Math.PI/6)),t.lineTo(m-y*Math.cos(w+Math.PI/6),u-y*Math.sin(w+Math.PI/6)),t.closePath(),t.fill(),t.fillStyle=s,t.font="bold 16px Arial",t.fillText(f,m+10,u-10)},C=t=>{const e=N.current.getBoundingClientRect(),h=t.clientX-e.left,n=t.clientY-e.top,r=a+c*l,s=i-d*l;Math.sqrt((h-r)**2+(n-s)**2)<20&&E(!0)},D=t=>{if(!I)return;const e=N.current.getBoundingClientRect(),h=t.clientX-e.left,n=t.clientY-e.top,r=(h-a)/l,s=-(n-i)/l,f=3,p=Math.sqrt(r**2+s**2);p>f?(v(r/p*f),b(s/p*f)):(v(r),b(s))},A=()=>{E(!1)};return o.jsxs("div",{className:"flex flex-col items-center p-4 h-full",children:[o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-3",children:"Interactive Vector Explorer"}),o.jsx("canvas",{ref:N,width:500,height:400,onMouseDown:C,onMouseMove:D,onMouseUp:A,onMouseLeave:A,className:"border-2 border-gray-300 rounded-lg bg-white shadow-lg cursor-pointer"}),o.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-orange-50 rounded-lg border-2 border-gray-300 w-full",children:[o.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[o.jsxs("div",{className:"bg-blue-100 p-3 rounded-lg border border-blue-300",children:[o.jsx("p",{className:"text-sm font-bold text-blue-900",children:"Original Vector (v)"}),o.jsxs("p",{className:"text-xs text-blue-800 mt-1",children:["v = [",c.toFixed(2),", ",d.toFixed(2),"]"]}),o.jsxs("p",{className:"text-xs text-blue-800",children:["||v|| = ",P.toFixed(2)]})]}),o.jsxs("div",{className:"bg-orange-100 p-3 rounded-lg border border-orange-300",children:[o.jsx("p",{className:"text-sm font-bold text-orange-900",children:"Transformed (Av)"}),o.jsxs("p",{className:"text-xs text-orange-800 mt-1",children:["Av = [",T.toFixed(2),", ",j.toFixed(2),"]"]}),o.jsxs("p",{className:"text-xs text-orange-800",children:["||Av|| = ",k.toFixed(2)]})]})]}),o.jsx("div",{className:"mt-3 p-3 bg-yellow-100 rounded-lg border border-yellow-400 text-center",children:o.jsxs("p",{className:"text-sm font-bold text-yellow-900",children:["Scale Factor: ||Av|| / ||v|| = ",R.toFixed(2),x&&` â‰ˆ Î»${x} = ${V[x-1].toFixed(2)}`]})})]}),o.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200 w-full",children:o.jsxs("p",{className:"text-xs text-green-800 text-center",children:[o.jsx("strong",{children:"ðŸ’¡ Try this:"})," Drag the blue vector (v). When it aligns with the faint lines (eigenvector directions), both v and Av point the same wayâ€”only the length changes!"]})}),o.jsxs("div",{className:"mt-3 space-x-2",children:[o.jsx("button",{onClick:()=>{v(g[0][0]),b(g[0][1])},className:"px-3 py-2 bg-green-500 hover:bg-green-600 text-white font-bold rounded-lg text-sm",children:"Set to vâ‚"}),o.jsx("button",{onClick:()=>{v(g[1][0]),b(g[1][1])},className:"px-3 py-2 bg-purple-500 hover:bg-purple-600 text-white font-bold rounded-lg text-sm",children:"Set to vâ‚‚"}),o.jsx("button",{onClick:()=>{v(1),b(0)},className:"px-3 py-2 bg-gray-500 hover:bg-gray-600 text-white font-bold rounded-lg text-sm",children:"Reset"})]})]})}export{W as default};
