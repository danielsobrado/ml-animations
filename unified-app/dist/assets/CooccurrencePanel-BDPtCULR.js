import{r as o,j as e,G as v}from"./index-CsxpOLHd.js";import{P as y}from"./play-CIyTSByC.js";import{R as w}from"./rotate-ccw-xVnQluc9.js";function I(){const[a,m]=o.useState(1),[r,g]=o.useState(2),[j,h]=o.useState(!1),l=o.useRef(null),b=["I like deep learning","I like NLP","I enjoy machine learning"],c=["i","like","enjoy","deep","learning","nlp","machine"],p=(()=>{const t={};return c.forEach(n=>{t[n]={},c.forEach(i=>{t[n][i]=0})}),[["i","like","deep","learning"],["i","like","nlp"],["i","enjoy","machine","learning"]].forEach(n=>{for(let i=0;i<n.length;i++)for(let x=Math.max(0,i-r);x<=Math.min(n.length-1,i+r);x++)i!==x&&(t[n[i]][n[x]]+=1)}),t})(),d=[{title:"Step 1: Define Corpus",description:"Start with a text corpus. Each sentence contains words we want to embed."},{title:"Step 2: Set Context Window",description:`With window size ${r}, we consider ${r} words on each side of the center word.`},{title:"Step 3: Count Co-occurrences",description:"For each word, count how many times other words appear within the context window."},{title:"Step 4: Build Matrix X",description:"The co-occurrence matrix X where X_ij = count of word j appearing in context of word i."},{title:"Step 5: Compute Probabilities",description:"Convert counts to probabilities: P(j|i) = X_ij / Œ£_k X_ik"}],u=()=>{h(!0);let t=1;const s=setInterval(()=>{t++,t>d.length?(h(!1),clearInterval(s)):m(t)},2e3);l.current=s},N=()=>{l.current&&clearInterval(l.current),m(1),h(!1)};o.useEffect(()=>()=>{l.current&&clearInterval(l.current)},[]);const f=t=>t===0?"bg-gray-800":t===1?"bg-violet-900/50":t===2?"bg-violet-700/60":"bg-violet-500/70";return e.jsxs("div",{className:"space-y-6 pb-20",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("h2",{className:"text-3xl font-bold mb-2",children:[e.jsx("span",{className:"gradient-text",children:"Co-occurrence Matrix:"})," Counting Word Neighbors"]}),e.jsx("p",{className:"text-gray-400",children:"Building the foundation for GloVe word vectors"})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-4",children:[e.jsxs("button",{onClick:u,disabled:j,className:"flex items-center gap-2 px-4 py-2 bg-violet-600 hover:bg-violet-700 disabled:opacity-50 rounded-lg transition-colors",children:[e.jsx(y,{size:18}),"Play Animation"]}),e.jsxs("button",{onClick:N,className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg transition-colors",children:[e.jsx(w,{size:18}),"Reset"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-gray-400 text-sm",children:"Window Size:"}),e.jsx("select",{value:r,onChange:t=>g(parseInt(t.target.value)),className:"bg-white/10 border border-white/20 rounded-lg px-3 py-2 text-sm",children:[1,2,3].map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsx("div",{className:"flex flex-wrap justify-center gap-2",children:d.map((t,s)=>e.jsx("button",{onClick:()=>m(s+1),className:`px-3 py-1 rounded-full text-sm transition-all ${a===s+1?"bg-violet-600 text-white":"bg-white/10 text-gray-400 hover:bg-white/20"}`,children:s+1},s))}),e.jsxs("div",{className:"bg-gradient-to-r from-violet-900/30 to-cyan-900/30 rounded-xl p-4 border border-violet-500/30",children:[e.jsx("h3",{className:"text-lg font-bold text-violet-400 mb-1",children:d[a-1].title}),e.jsx("p",{className:"text-gray-300",children:d[a-1].description})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:`bg-black/30 rounded-xl p-6 border border-white/10 transition-opacity ${a>=1?"opacity-100":"opacity-30"}`,children:[e.jsxs("h4",{className:"text-lg font-bold text-violet-400 mb-4 flex items-center gap-2",children:[e.jsx(v,{size:20}),"Sample Corpus"]}),e.jsx("div",{className:"space-y-3",children:b.map((t,s)=>e.jsxs("div",{className:"bg-black/30 rounded-lg p-3",children:[e.jsxs("span",{className:"text-gray-500 text-sm",children:["Sentence ",s+1,":"]}),e.jsx("p",{className:"text-gray-200 font-mono",children:t})]},s))}),a>=2&&e.jsxs("div",{className:"mt-4 p-3 bg-cyan-900/20 rounded-lg border border-cyan-500/30",children:[e.jsx("p",{className:"text-sm text-cyan-400",children:e.jsxs("strong",{children:["Context Window = ",r]})}),e.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["For each word, consider ",r," word(s) on each side"]})]})]}),e.jsxs("div",{className:`bg-black/30 rounded-xl p-6 border border-white/10 transition-opacity ${a>=4?"opacity-100":"opacity-30"}`,children:[e.jsx("h4",{className:"text-lg font-bold text-cyan-400 mb-4",children:"Co-occurrence Matrix X"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-1"}),c.map(t=>e.jsx("th",{className:"p-1 text-violet-400 font-mono",children:t},t))]})}),e.jsx("tbody",{children:c.map(t=>e.jsxs("tr",{children:[e.jsx("td",{className:"p-1 text-cyan-400 font-mono",children:t}),c.map(s=>e.jsx("td",{className:`p-1 text-center ${f(p[t][s])} rounded matrix-cell`,children:e.jsx("span",{className:p[t][s]>0?"text-white":"text-gray-600",children:p[t][s]})},s))]},t))})]})}),e.jsxs("div",{className:"mt-4 flex items-center gap-2 text-xs",children:[e.jsx("span",{className:"text-gray-400",children:"Intensity:"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-4 h-4 rounded bg-gray-800"}),e.jsx("div",{className:"w-4 h-4 rounded bg-violet-900/50"}),e.jsx("div",{className:"w-4 h-4 rounded bg-violet-700/60"}),e.jsx("div",{className:"w-4 h-4 rounded bg-violet-500/70"})]}),e.jsx("span",{className:"text-gray-400",children:"0 ‚Üí High"})]})]})]}),a>=3&&e.jsxs("div",{className:"bg-black/30 rounded-xl p-6 border border-white/10",children:[e.jsx("h4",{className:"text-lg font-bold text-violet-400 mb-4",children:"Context Window Example"}),e.jsx("div",{className:"flex flex-wrap items-center justify-center gap-2",children:["I","like","deep","learning"].map((t,s)=>e.jsx("span",{className:`px-4 py-2 rounded-lg font-mono text-lg ${s===2?"bg-violet-600 text-white ring-2 ring-violet-400":s>=2-r&&s<=2+r&&s!==2?"bg-cyan-900/50 text-cyan-400 border border-cyan-500/50":"bg-white/10 text-gray-400"}`,children:t},s))}),e.jsx("div",{className:"text-center mt-4",children:e.jsxs("p",{className:"text-sm text-gray-400",children:["Center word: ",e.jsx("span",{className:"text-violet-400 font-mono",children:'"deep"'})," | Context words: ",e.jsx("span",{className:"text-cyan-400 font-mono",children:r===1?'"like", "learning"':'"I", "like", "learning"'})]})})]}),a>=5&&e.jsxs("div",{className:"bg-gradient-to-r from-violet-900/20 to-cyan-900/20 rounded-xl p-6 border border-violet-500/30",children:[e.jsx("h4",{className:"text-lg font-bold text-violet-400 mb-4",children:"üìê Computing Probabilities"}),e.jsxs("div",{className:"bg-black/30 rounded-lg p-4 font-mono text-center",children:[e.jsxs("p",{className:"text-xl text-gray-200",children:["P(j | i) = X",e.jsx("sub",{className:"text-violet-400",children:"ij"})," / X",e.jsx("sub",{className:"text-cyan-400",children:"i"})]}),e.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:["where X",e.jsx("sub",{className:"text-cyan-400",children:"i"})," = Œ£",e.jsx("sub",{children:"k"})," X",e.jsx("sub",{children:"ik"})," (row sum)"]})]}),e.jsxs("div",{className:"mt-4 grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-black/30 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-violet-400 font-medium",children:"Example: P(deep | like)"}),e.jsxs("p",{className:"text-xs text-gray-400 font-mono mt-1",children:["= X",e.jsx("sub",{children:"like,deep"})," / X",e.jsx("sub",{children:"like"})," = count(like,deep) / Œ£ count(like,*)"]})]}),e.jsxs("div",{className:"bg-black/30 rounded-lg p-3",children:[e.jsx("p",{className:"text-sm text-cyan-400 font-medium",children:"Why Probabilities?"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Ratios P(k|i)/P(k|j) encode semantic relationships"})]})]})]}),e.jsxs("div",{className:"bg-black/30 rounded-xl p-6 border border-white/10",children:[e.jsx("h4",{className:"text-lg font-bold text-violet-400 mb-4",children:"üí° Key Points"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-violet-900/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-violet-400 font-medium mb-1",children:"Symmetric Counting"}),e.jsx("p",{className:"text-sm text-gray-400",children:'If "dog" appears near "cat", then "cat" also appears near "dog" (X_ij = X_ji for symmetric windows)'})]}),e.jsxs("div",{className:"bg-cyan-900/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-cyan-400 font-medium mb-1",children:"Window Size Matters"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Smaller windows capture syntactic info, larger windows capture semantic/topical info"})]}),e.jsxs("div",{className:"bg-green-900/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-green-400 font-medium mb-1",children:"Sparse Matrix"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Most word pairs never co-occur, so the matrix is very sparse (lots of zeros)"})]}),e.jsxs("div",{className:"bg-yellow-900/20 rounded-lg p-3",children:[e.jsx("p",{className:"text-yellow-400 font-medium mb-1",children:"One-time Computation"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Unlike Word2Vec, we build the matrix once before training (not during)"})]})]})]})]})}export{I as default};
