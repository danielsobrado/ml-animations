import{r as o,j as e}from"./index-BmgLEcVh.js";import{R as c}from"./CategoricalChart-B3gtutcW.js";import{B as x,a as m}from"./BarChart-DekGVTCS.js";import{C as h,X as u,Y as p}from"./CartesianChart-JiyIF1-F.js";import{T as b}from"./Tooltip-DB7iJmxT.js";import{C as j}from"./tooltipContext-C7z7tGNX.js";import"./ActiveShapeUtils-B4dTBMil.js";import"./Sector-CA3PXCa0.js";import"./Symbols-DCSkJhyu.js";import"./ErrorBarContext-BI9_YV4U.js";import"./useElementOffset-7v_xyInG.js";function D(){const[a,n]=o.useState(.9),l=[0,0,0,100].map((t,s)=>{const r=Math.pow(a,s),d=t*r;return{step:`t+${s+1}`,reward:t,discount:r.toFixed(2),presentValue:d}}),i=l.reduce((t,s)=>t+s.presentValue,0);return e.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsxs("h2",{className:"text-3xl font-bold text-teal-400 mb-4",children:["Discounted Return (G",e.jsx("sub",{children:"t"}),")"]}),e.jsxs("p",{className:"text-lg text-slate-300 leading-relaxed mb-4",children:["Rewards in the future are worth less than rewards now.",e.jsx("br",{}),e.jsxs("span",{className:"font-mono bg-slate-800 px-2 py-1 rounded text-teal-300",children:["G",e.jsx("sub",{children:"t"})," = R",e.jsx("sub",{children:"t+1"})," + γR",e.jsx("sub",{children:"t+2"})," + γ²R",e.jsx("sub",{children:"t+3"})," + ..."]})]})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 w-full max-w-4xl mb-8",children:[e.jsxs("div",{className:"flex justify-between items-end mb-4",children:[e.jsx("label",{className:"font-bold text-white",children:"Discount Factor (γ)"}),e.jsx("span",{className:"text-3xl font-mono font-bold text-teal-400",children:a})]}),e.jsx("input",{type:"range",min:"0",max:"1",step:"0.05",value:a,onChange:t=>n(parseFloat(t.target.value)),className:"w-full accent-teal-400"}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-500 mt-2",children:[e.jsx("span",{children:"0.0 (Myopic / Short-sighted)"}),e.jsx("span",{children:"1.0 (Far-sighted)"})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-8 w-full max-w-5xl",children:[e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700",children:[e.jsx("h3",{className:"font-bold text-white mb-4 text-center",children:"Present Value of Future Rewards"}),e.jsx(c,{width:"100%",height:300,children:e.jsxs(x,{data:l,children:[e.jsx(h,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(u,{dataKey:"step",stroke:"#94a3b8",tick:{fill:"#cbd5e1"}}),e.jsx(p,{stroke:"#94a3b8",tick:{fill:"#cbd5e1"}}),e.jsx(b,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},cursor:{fill:"#334155"}}),e.jsx(m,{dataKey:"presentValue",name:"Present Value",fill:"#2dd4bf",radius:[4,4,0,0],children:l.map((t,s)=>e.jsx(j,{fillOpacity:.5+t.discount*.5},`cell-${s}`))})]})}),e.jsx("p",{className:"text-center text-xs text-slate-500 mt-2",children:"Goal (+100) is 4 steps away."})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 flex flex-col justify-center",children:[e.jsx("h3",{className:"font-bold text-white mb-6 text-center",children:"Calculation"}),e.jsxs("div",{className:"space-y-4 font-mono text-sm",children:[l.map((t,s)=>e.jsxs("div",{className:"flex justify-between items-center border-b border-slate-700 pb-2",children:[e.jsxs("span",{className:"text-slate-400",children:["Step ",s+1," (Reward ",t.reward,"):"]}),e.jsxs("span",{children:[t.reward," × ",a,"^",s," = ",e.jsx("span",{className:"text-teal-400 font-bold",children:t.presentValue.toFixed(1)})]})]},s)),e.jsxs("div",{className:"pt-4 text-center",children:[e.jsx("div",{className:"text-slate-400 text-sm mb-1",children:"Total Discounted Return"}),e.jsx("div",{className:"text-4xl font-bold text-white",children:i.toFixed(1)})]})]}),e.jsx("div",{className:"mt-6 bg-teal-900/20 border border-teal-500/50 p-4 rounded-xl",children:e.jsx("p",{className:"text-sm text-slate-300",children:a<.5?"With low Gamma, the agent barely cares about the goal because it's too far away! It focuses only on immediate rewards.":"With high Gamma, the agent values the distant goal almost as much as an immediate reward. It is willing to wait."})})]})]})]})}export{D as default};
