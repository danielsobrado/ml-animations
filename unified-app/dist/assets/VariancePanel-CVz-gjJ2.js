import{r as d,j as e}from"./index-BmgLEcVh.js";import{R as m}from"./CategoricalChart-B3gtutcW.js";import{B as b,a as h}from"./BarChart-DekGVTCS.js";import{C as p,X as f,Y as j}from"./CartesianChart-JiyIF1-F.js";import{T as v}from"./Tooltip-DB7iJmxT.js";import{C as u}from"./tooltipContext-C7z7tGNX.js";import"./ActiveShapeUtils-B4dTBMil.js";import"./Sector-CA3PXCa0.js";import"./Symbols-DCSkJhyu.js";import"./ErrorBarContext-BI9_YV4U.js";import"./useElementOffset-7v_xyInG.js";function E(){const[r,x]=d.useState("narrow"),i={narrow:[{x:8,prob:.1},{x:9,prob:.2},{x:10,prob:.4},{x:11,prob:.2},{x:12,prob:.1}],wide:[{x:5,prob:.1},{x:7,prob:.15},{x:10,prob:.5},{x:13,prob:.15},{x:15,prob:.1}]}[r],a=d.useMemo(()=>{const t=i.reduce((n,l)=>n+l.x*l.prob,0),s=i.reduce((n,l)=>n+Math.pow(l.x-t,2)*l.prob,0),c=Math.sqrt(s);return{mean:t,variance:s,stdDev:c}},[i]),o=i.map(t=>({...t,deviation:Math.abs(t.x-a.mean)}));return e.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-orange-400 mb-4",children:"Variance"}),e.jsxs("p",{className:"text-lg text-slate-300 leading-relaxed mb-4",children:["Variance measures the ",e.jsx("strong",{children:'"spread"'})," or uncertainty around the mean."]}),e.jsxs("div",{className:"bg-slate-800 p-4 rounded-lg font-mono text-sm",children:[e.jsx("p",{className:"text-orange-300",children:"Var(X) = E[(X - μ)²]"}),e.jsx("p",{className:"text-slate-400 mt-2 text-xs",children:"σ = √Var(X) (standard deviation)"})]})]}),e.jsxs("div",{className:"flex gap-4 mb-8",children:[e.jsx("button",{onClick:()=>x("narrow"),className:`px-8 py-4 rounded-xl font-bold transition-all ${r==="narrow"?"bg-green-600 text-white shadow-lg scale-105":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"Low Variance (Narrow)"}),e.jsx("button",{onClick:()=>x("wide"),className:`px-8 py-4 rounded-xl font-bold transition-all ${r==="wide"?"bg-red-600 text-white shadow-lg scale-105":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:"High Variance (Wide)"})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 w-full max-w-5xl mb-8",children:[e.jsxs("h3",{className:"font-bold text-white mb-4 text-center",children:["Distribution (E[X] = ",a.mean.toFixed(1),")"]}),e.jsx(m,{width:"100%",height:350,children:e.jsxs(b,{data:o,children:[e.jsx(p,{strokeDasharray:"3 3",stroke:"#374151"}),e.jsx(f,{dataKey:"x",stroke:"#94a3b8",tick:{fill:"#cbd5e1"}}),e.jsx(j,{stroke:"#94a3b8",tick:{fill:"#cbd5e1"}}),e.jsx(v,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px"},formatter:(t,s)=>s==="prob"?[(t*100).toFixed(1)+"%","Probability"]:[t.toFixed(2),"Deviation from mean"]}),e.jsx(h,{dataKey:"prob",radius:[8,8,0,0],children:o.map((t,s)=>e.jsx(u,{fill:t.x===a.mean?"#fbbf24":r==="narrow"?"#10b981":"#ef4444"},`cell-${s}`))})]})}),e.jsx("div",{className:"mt-6 space-y-2",children:o.map((t,s)=>e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"w-16 text-sm text-slate-400",children:["x = ",t.x]}),e.jsxs("div",{className:"flex-1 bg-slate-900 rounded-full h-6 relative overflow-hidden",children:[e.jsx("div",{className:`h-full ${r==="narrow"?"bg-green-500":"bg-red-500"} transition-all`,style:{width:`${t.deviation/5*100}%`}}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-white font-bold",children:["|",t.x," - ",a.mean.toFixed(1),"| = ",t.deviation.toFixed(2)]})]})]},s))})]}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6 w-full max-w-5xl",children:[e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-amber-500/50 text-center",children:[e.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Mean (μ)"}),e.jsx("div",{className:"text-4xl font-mono font-bold text-amber-400",children:a.mean.toFixed(2)}),e.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"Same for both!"})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-orange-500/50 text-center",children:[e.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Variance (σ²)"}),e.jsx("div",{className:"text-4xl font-mono font-bold text-orange-400",children:a.variance.toFixed(2)}),e.jsx("div",{className:"text-xs text-slate-500 mt-2",children:r==="narrow"?"Low (predictable)":"High (uncertain)"})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-red-500/50 text-center",children:[e.jsx("div",{className:"text-sm text-slate-400 mb-2",children:"Std Dev (σ)"}),e.jsx("div",{className:"text-4xl font-mono font-bold text-red-400",children:a.stdDev.toFixed(2)}),e.jsx("div",{className:"text-xs text-slate-500 mt-2",children:"√Variance"})]})]})]})}export{E as default};
