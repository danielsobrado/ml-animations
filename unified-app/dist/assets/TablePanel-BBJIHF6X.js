import{r as x,j as e,y as p,w as b}from"./index-CsxpOLHd.js";import{A as u}from"./arrow-up-CdWTZnZc.js";import{A as g}from"./arrow-down-CKgADZk1.js";function N(){const[r,d]=x.useState(Array(3).fill().map(()=>Array(3).fill().map(()=>({up:0,down:0,left:0,right:0})))),[s,c]=x.useState(null),i=t=>t>0?`rgba(34, 197, 94, ${Math.min(1,t/10)})`:t<0?`rgba(239, 68, 68, ${Math.min(1,Math.abs(t)/10)})`:"rgba(148, 163, 184, 0.1)",h=(t,l,o,a)=>{const n=[...r];n[t]=[...n[t]],n[t][l]={...n[t][l],[o]:parseFloat(a)},d(n)},m=()=>{const t=JSON.parse(JSON.stringify(r));t[0][0].right=5,t[0][0].down=5,t[0][1].right=6,t[0][2].down=7,t[1][2].down=8,t[2][2]={up:0,down:0,left:0,right:0},d(t)};return e.jsxs("div",{className:"p-8 h-full flex flex-col items-center overflow-y-auto",children:[e.jsxs("div",{className:"max-w-3xl w-full text-center mb-8",children:[e.jsx("h2",{className:"text-3xl font-bold text-cyan-400 mb-4",children:"The Q-Table"}),e.jsxs("p",{className:"text-lg text-slate-300 leading-relaxed",children:["The agent's brain is a table of values: ",e.jsx("strong",{children:"Q(State, Action)"}),".",e.jsx("br",{}),'"If I am in State S and take Action A, how much total reward do I expect?"']})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-12 w-full max-w-5xl items-start",children:[e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:"grid grid-cols-3 gap-4 bg-slate-800 p-4 rounded-xl border border-slate-700",children:r.map((t,l)=>t.map((o,a)=>e.jsxs("div",{onMouseEnter:()=>c({r:l,c:a}),onMouseLeave:()=>c(null),className:`relative w-24 h-24 bg-slate-900 rounded-lg border-2 ${l===2&&a===2?"border-yellow-500":"border-slate-700"} flex items-center justify-center`,children:[e.jsx("div",{className:"absolute top-0 left-0 right-0 h-8 flex justify-center pt-1",style:{backgroundColor:i(o.up),clipPath:"polygon(50% 100%, 0 0, 100% 0)"},children:e.jsx(u,{size:12,className:"text-white/50"})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-8 flex justify-center items-end pb-1",style:{backgroundColor:i(o.down),clipPath:"polygon(50% 0, 0 100%, 100% 100%)"},children:e.jsx(g,{size:12,className:"text-white/50"})}),e.jsx("div",{className:"absolute top-0 bottom-0 left-0 w-8 flex items-center pl-1",style:{backgroundColor:i(o.left),clipPath:"polygon(100% 50%, 0 0, 0 100%)"},children:e.jsx(p,{size:12,className:"text-white/50"})}),e.jsx("div",{className:"absolute top-0 bottom-0 right-0 w-8 flex items-center justify-end pr-1",style:{backgroundColor:i(o.right),clipPath:"polygon(0 50%, 100% 0, 100% 100%)"},children:e.jsx(b,{size:12,className:"text-white/50"})}),e.jsxs("span",{className:"z-10 font-mono text-xs text-slate-400 pointer-events-none",children:[l,",",a]}),l===2&&a===2&&e.jsx("span",{className:"absolute text-2xl z-20",children:"ðŸ†"})]},`${l}-${a}`)))}),e.jsx("button",{onClick:m,className:"mt-6 px-6 py-2 bg-cyan-600 hover:bg-cyan-500 text-white rounded-lg font-bold shadow-lg",children:"Load Learned Policy"})]}),e.jsxs("div",{className:"bg-slate-800 p-6 rounded-xl border border-slate-700 w-full",children:[e.jsxs("h3",{className:"font-bold text-white mb-4 border-b border-slate-700 pb-2",children:["Inspector: State (",s?s.r:"-",", ",s?s.c:"-",")"]}),s?e.jsxs("div",{className:"space-y-4",children:[["up","down","left","right"].map(t=>e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"w-16 font-bold text-slate-300 uppercase",children:t}),e.jsx("input",{type:"number",value:r[s.r][s.c][t],onChange:l=>h(s.r,s.c,t,l.target.value),className:"bg-slate-900 border border-slate-600 rounded px-3 py-2 text-white w-24"}),e.jsx("div",{className:"flex-1 h-2 bg-slate-900 rounded overflow-hidden",children:e.jsx("div",{className:"h-full transition-all",style:{width:`${Math.min(100,Math.abs(r[s.r][s.c][t])*10)}%`,backgroundColor:r[s.r][s.c][t]>=0?"#22c55e":"#ef4444"}})})]},t)),e.jsxs("p",{className:"text-xs text-slate-500 mt-4",children:["The agent chooses the action with the ",e.jsx("strong",{children:"highest Q-value"})," (Greedy Policy)."]})]}):e.jsx("div",{className:"text-slate-500 italic text-center py-12",children:"Hover over a grid cell to inspect and edit Q-values."})]})]})]})}export{N as default};
